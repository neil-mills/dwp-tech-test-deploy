!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return U})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return I})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return x})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return X})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return k})),n.d(t,"t",(function(){return h})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return m})),n.d(t,"x",(function(){return z})),n.d(t,"y",(function(){return W})),n.d(t,"z",(function(){return $})),n.d(t,"A",(function(){return ee})),n.d(t,"B",(function(){return te})),n.d(t,"C",(function(){return B})),n.d(t,"D",(function(){return K})),n.d(t,"E",(function(){return d})),n.d(t,"F",(function(){return g})),n.d(t,"G",(function(){return c})),n.d(t,"H",(function(){return b})),n.d(t,"I",(function(){return H}));var r=n(3),i=n(2),o=n(0),a=n(19),s=n.n(a);n(7);function u(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return u(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return u(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new i.a(17);e[t.value]=null}}function c(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return u(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return u(r,n,i,t)}))),f(e.name.value,r,n)}var l=["connection","include","skip","client","rest","export"];function f(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i=t,o={};return r.forEach((function(e){o[e]=i[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var u=s()(t);a+="("+u+")"}return n&&Object.keys(n).forEach((function(e){-1===l.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function p(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return u(n,r,i,t)})),n}return null}function d(e){return e.alias?e.alias.value:e.name.value}function h(e){return"Field"===e.kind}function v(e){return"InlineFragment"===e.kind}function y(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function b(e,t){return void 0===t&&(t=!1),Object(o.a)({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function m(e){return null!=e&&"object"==typeof e&&"json"===e.type}function O(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach((function(e){n[e.name.value]=p(e,t)})),n}return null}function g(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(T).map((function(e){var t=e.arguments;e.name.value,Object(i.b)(t&&1===t.length,14);var n=t[0];Object(i.b)(n.name&&"if"===n.name.value,15);var r=n.value;return Object(i.b)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),16),{directive:e,ifArgument:n}})):[]).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t[r.value.name.value],Object(i.b)(void 0!==o,13)):o=r.value.value,"skip"===n.name.value?!o:o}));var n}function k(e,t){return function(e){var t=[];return Object(r.visit)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function E(e){return e&&k(["client"],e)&&k(["export"],e)}function T(e){var t=e.name.value;return"skip"===t||"include"===t}function w(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new i.a(11);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(Object(i.b)(1===r.length,12),n=r[0].name.value),Object(o.a)(Object(o.a)({},e),{definitions:Object(o.f)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function S(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){null!=t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function _(e){Object(i.b)(e&&"Document"===e.kind,2);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new i.a(3);return e}));return Object(i.b)(t.length<=1,4),e}function j(e){return _(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function x(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function I(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function N(e){var t=j(e);return Object(i.b)(t&&"query"===t.operation,6),t}function R(e){var t;_(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new i.a(10)}function D(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function A(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){return e.defaultValue})).map((function(e){var t=e.variable,n=e.defaultValue,r={};return u(r,t.name,n),r}));return S.apply(void 0,Object(o.f)([{}],t))}return{}}function C(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var F={kind:"Field",name:{kind:"Name",value:"__typename"}};function Q(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(j(e)||function(e){Object(i.b)("Document"===e.kind,7),Object(i.b)(e.definitions.length<=1,8);var t=e.definitions[0];return Object(i.b)("FragmentDefinition"===t.kind,9),t}(e),D(I(e)))?null:e}function M(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function P(e,t){var n=Object.create(null),i=[],a=Object.create(null),s=[],u=Q(Object(r.visit)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(M(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&i.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];return t.selections.forEach((function(t){(h(t)||v(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)})),n}(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(M(e)(t))return null}}}));return u&&C(i,(function(e){return!n[e.name]})).length&&(u=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return Q(Object(r.visit)(t,{OperationDefinition:{enter:function(t){return Object(o.a)(Object(o.a)({},t),{variableDefinitions:t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))}))})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(i,u)),u&&C(s,(function(e){return!a[e.name]})).length&&(u=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return Q(Object(r.visit)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(s,u)),u}function L(e){return Object(r.visit)(_(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return h(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(h(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Object(o.a)(Object(o.a)({},e),{selections:Object(o.f)(r,[F])})}}}}})}var q={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function K(e){return P([q],_(e))}function V(e){return"query"===R(e).operation?e:Object(r.visit)(e,{OperationDefinition:{enter:function(e){return Object(o.a)(Object(o.a)({},e),{operation:"query"})}}})}function B(e){_(e);var t=P([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Object(r.visit)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return h(e)&&"__typename"===e.name.value})))return null}}})),t}var U="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),G=Object.prototype.toString;function Y(e){return function e(t,n){switch(G.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,i){r[i]=e(t,n)})),r;case"[object Object]":if(n.has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach((function(r){i[r]=e(t[r],n)})),i;default:return t}}(e,new Map)}function J(t){return(void 0!==e?"production":"development")===t}function z(){return!0===J("production")}function W(){return!0===J("test")}function H(e){try{return e()}catch(e){console.error&&console.error(e)}}function X(e){return e.errors&&e.errors.length}function $(e){if((!0===J("development")||W())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}(e);return e}var Z=Object.prototype.hasOwnProperty;function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return te(e)}function te(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=ie(t,r);for(var i=1;i<n;++i)t=re(t,e[i],r)}return t}function ne(e){return null!==e&&"object"==typeof e}function re(e,t,n){return ne(t)&&ne(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=ie(e,n)),Object.keys(t).forEach((function(r){var i=t[r];if(Z.call(e,r)){var o=e[r];i!==o&&(e[r]=re(ie(o,n),i,n))}else e[r]=i})),e):t}function ie(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):Object(o.a)({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}Object.create({})}).call(this,n(6))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=void 0,c=Array.isArray(e),l=[e],f=-1,p=[],d=void 0,h=void 0,v=void 0,y=[],b=[],m=e;do{var O=++f===l.length,g=O&&0!==p.length;if(O){if(h=0===b.length?void 0:y[y.length-1],d=v,v=b.pop(),g){if(c)d=d.slice();else{for(var k={},E=0,T=Object.keys(d);E<T.length;E++){var w=T[E];k[w]=d[w]}d=k}for(var S=0,_=0;_<p.length;_++){var j=p[_][0],x=p[_][1];c&&(j-=S),c&&null===x?(d.splice(j,1),S++):d[j]=x}}f=r.index,l=r.keys,p=r.edits,c=r.inArray,r=r.prev}else{if(h=v?c?f:l[f]:void 0,null==(d=v?v[h]:m))continue;v&&y.push(h)}var I,N=void 0;if(!Array.isArray(d)){if(!(0,o.isNode)(d))throw new Error("Invalid AST Node: ".concat((0,i.default)(d),"."));var R=u(t,d.kind,O);if(R){if((N=R.call(t,d,h,v,y,b))===s)break;if(!1===N){if(!O){y.pop();continue}}else if(void 0!==N&&(p.push([h,N]),!O)){if(!(0,o.isNode)(N)){y.pop();continue}d=N}}}if(void 0===N&&g&&p.push([h,d]),O)y.pop();else r={inArray:c,index:f,keys:l,edits:p,prev:r},c=Array.isArray(d),l=c?d:null!==(I=n[d.kind])&&void 0!==I?I:[],f=-1,p=[],v&&b.push(v),v=d}while(void 0!==r);0!==p.length&&(m=p[p.length-1][1]);return m},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===s)t[r]=s;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===s)t[r]=s;else if(void 0!==o&&!1!==o)return o}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=u,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(4);var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=a;var s=Object.freeze({});function u(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}t.BREAK=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(26))&&r.__esModule?r:{default:r};var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,i.default)(o);var a=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,i.default)(a)},function(e,t,n){var r=n(28).parse;function i(e){return e.replace(/[\s,]+/g," ").trim()}var o={},a={};var s=!0;var u=!1;function c(e){var t=i(e);if(o[t])return o[t];var n=r(e,{experimentalFragmentVariables:u});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,o,a,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(o=t[s[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(t[s[i]]=e(o,!0)));return t}(n=function(e){for(var t,n={},r=[],o=0;o<e.definitions.length;o++){var u=e.definitions[o];if("FragmentDefinition"===u.kind){var c=u.name.value,l=i((t=u.loc).source.body.substring(t.start,t.end));a.hasOwnProperty(c)&&!a[c][l]?(s&&console.warn("Warning: fragment with name "+c+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),a[c][l]=!0):a.hasOwnProperty(c)||(a[c]={},a[c][l]=!0),n[l]||(n[l]=!0,r.push(u))}else r.push(u)}return e.definitions=r,e}(n),!1),o[t]=n,n}function l(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return c(n)}l.default=l,l.resetCaches=function(){o={},a={}},l.disableFragmentWarnings=function(){s=!1},l.enableExperimentalFragmentVariables=function(){u=!0},l.disableExperimentalFragmentVariables=function(){u=!1},e.exports=l},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=Object.prototype,i=r.toString,o=r.hasOwnProperty,a=new Map;function s(e,t){try{return function e(t,n){if(t===n)return!0;var r=i.call(t),a=i.call(n);if(r!==a)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(u(t,n))return!0;var s=Object.keys(t),c=Object.keys(n),l=s.length;if(l!==c.length)return!1;for(var f=0;f<l;++f)if(!o.call(n,s[f]))return!1;for(f=0;f<l;++f){var p=s[f];if(!e(t[p],n[p]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(u(t,n))return!0;for(var d=t.entries(),h="[object Map]"===r;;){var v=d.next();if(v.done)break;var y=v.value,b=y[0],m=y[1];if(!n.has(b))return!1;if(h&&!e(m,n.get(b)))return!1}return!0}return!1}(e,t)}finally{a.clear()}}function u(e,t){var n=a.get(e);if(n){if(n.has(t))return!0}else a.set(e,n=new Set);return n.add(t),!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var r,i=(r=n(9))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=r},function(e,t,n){"use strict";function r(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],o=i(r);if(o!==r.length&&((null===t||o<t)&&0===(t=o)))break}return null===t?0:t}function i(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function o(e){return i(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),n=r(t);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(;t.length>0&&o(t[0]);)t.shift();for(;t.length>0&&o(t[t.length-1]);)t.pop();return t.join("\n")},t.getBlockStringIndentation=r,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";!s||r&&i||(u+="\n"+t);u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n");return'"""'+u.replace(/"""/g,'\\"""')+'"""'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: ".concat(n),void 0,e,[t])};var r=n(29)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_TO_STRING_TAG=t.SYMBOL_ASYNC_ITERATOR=t.SYMBOL_ITERATOR=void 0;var r="function"==typeof Symbol?Symbol.iterator:"@@iterator";t.SYMBOL_ITERATOR=r;var i="function"==typeof Symbol?Symbol.asyncIterator:"@@asyncIterator";t.SYMBOL_ASYNC_ITERATOR=i;var o="function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag";t.SYMBOL_TO_STRING_TAG=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;for(;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0;var r=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});t.TokenKind=r},function(e,t,n){"use strict";(function(e,r){var i,o=n(17);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(23),n(24)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(25).Observable},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(3),i=n(10);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=c("(",s(e.variableDefinitions,", "),")"),i=s(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?s([t,s([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+c(" = ",r)+c(" ",s(i," "))},SelectionSet:function(e){return u(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return s([c("",t,": ")+n+c("(",s(r,", "),")"),s(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+c(" ",s(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return s(["...",c("on ",t),s(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(c("(",s(r,", "),")")," ")+"on ".concat(n," ").concat(c("",s(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+c("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,n=e.operationTypes;return s(["schema",s(t," "),u(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return s(["scalar",e.name,s(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),FieldDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(p(n)?c("(\n",l(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+": "+r+c(" ",s(i," "))})),InputValueDefinition:a((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return s([t+": "+n,c("= ",r),s(i," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.types;return s(["union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.values;return s(["enum",t,s(n," "),u(r)]," ")})),EnumValueDefinition:a((function(e){return s([e.name,s(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.fields;return s(["input",t,s(n," "),u(r)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(p(n)?c("(\n",l(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+(r?" repeatable":"")+" on "+s(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return s(["extend schema",s(t," "),u(n)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return s(["extend union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return s(["extend enum",t,s(n," "),u(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return s(["extend input",t,s(n," "),u(r)]," ")}};function a(e){return function(t){return s([t.description,e(t)],"\n")}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function u(e){return e&&0!==e.length?"{\n"+l(s(e,"\n"))+"\n}":""}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?e+t+n:""}function l(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function f(e){return-1!==e.indexOf("\n")}function p(e){return e&&e.some(f)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderUserList=t.renderResults=t.getLondonUsers=void 0;var o=n(22),a=n(36);n(37);var s=o.createApolloClient();t.getLondonUsers=function(e){return new Promise((function(t,n){return r(void 0,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(e||s).query({query:a.LONDON_USERS})];case 1:return r=i.sent(),t(r),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))}))},t.renderResults=function(e){var t="";return e.forEach((function(e){var n=e.first_name,r=e.last_name,i=e.email,o=e.ip_address,a=e.distance,s=e.livesInLondon;t+='\n\t\t\t<li class="user-list__item">\n\t\t\t<h3 class="user-list__item-title">'+n+" "+r+'</h3>\n\t\t\t<ul class="user-list__item-meta">\n\t\t\t\t<li class="user-list__item-meta-attribute">\n\t\t\t\t\tEmail: <a href="mailto:'+i+'" class="link" title="'+i+'">'+i+'</a>\n\t\t\t\t</li>\n\t\t\t\t<li class="user-list__item-meta-attribute">\n\t\t\t\t\tIP Address: '+o+'\n\t\t\t\t</li>\n\t\t\t\t<li class="user-list__item-meta-attribute">\n\t\t\t\t\t'+(s?"Lives in London":"Current distance from London: "+a.toFixed(2)+" miles")+"\n\t\t\t\t\t<span>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</li>\n\t\t\t"})),t},t.renderUserList=function(){return r(void 0,void 0,void 0,(function(){var e,n,r,o;return i(this,(function(i){switch(i.label){case 0:if(!(e=document.querySelector("#app")))return[3,4];n=function(t){e.innerHTML=t},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.getLondonUsers()];case 2:return(null==(r=i.sent().data)?void 0:r.londonUsers.length)?n('\n\t\t\t\t\t<ol class="user-list">\n\t\t\t\t\t'+t.renderResults(r.londonUsers)+"\n\t\t\t\t\t</ol>\n\t\t\t\t\t"):n('<p data-alert="warning" role="alert">No users found</p>'),[3,4];case 3:return o=i.sent(),n('<p data-alert="error" role="alert">'+o+"</p>"),[3,4];case 4:return[2]}}))}))},t.renderUserList()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createApolloClient=void 0;var i=n(38),o=new i.InMemoryCache;t.createApolloClient=function(e){return void 0===e&&(e={}),new i.default(r({cache:o,uri:"/api"},e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var a=function(){return"function"==typeof Symbol},s=function(e){return a()&&Boolean(Symbol[e])},u=function(e){return s(e)?Symbol[e]:"@@"+e};a()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),f=u("species");function p(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:T}function h(e){return e instanceof T}function v(e){v.log?v.log(e):setTimeout((function(){throw e}))}function y(e){Promise.resolve().then((function(){try{e()}catch(e){v(e)}}))}function b(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=p(t,"unsubscribe");n&&n.call(t)}}catch(e){v(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function O(e,t,n){e._state="running";var r=e._observer;try{var i=p(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(e){v(e)}"closed"===e._state?b(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void y((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(O(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void O(e,t,n);e._queue.push({type:t,value:n})}}var k=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new E(this);try{this._cleanup=n.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),b(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),E=function(){function e(t){r(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){g(this._subscription,"next",e)}},{key:"error",value:function(e){g(this._subscription,"error",e)}},{key:"complete",value:function(){g(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),T=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new k(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=p(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=p(t,c)))return new n((function(e){y((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){y((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){y((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:f,get:function(){return this}}]),e}();t.Observable=T,a()&&Object.defineProperty(T,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=o(n(27)),i=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){return new d(e,t).parseDocument()},t.parseValue=function(e,t){var n=new d(e,t);n.expectToken(c.TokenKind.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(c.TokenKind.EOF),r},t.parseType=function(e,t){var n=new d(e,t);n.expectToken(c.TokenKind.SOF);var r=n.parseTypeReference();return n.expectToken(c.TokenKind.EOF),r};var r=p(n(8)),i=p(n(11)),o=n(12),a=n(32),s=n(33),u=n(34),c=n(15),l=n(35),f=n(4);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){var n="string"==typeof e?new s.Source(e):e;n instanceof s.Source||(0,i.default)(0,"Must provide Source. Received: ".concat((0,r.default)(n),".")),this._lexer=new l.Lexer(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(c.TokenKind.NAME);return{kind:a.Kind.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:a.Kind.DOCUMENT,definitions:this.many(c.TokenKind.SOF,this.parseDefinition,c.TokenKind.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(c.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(c.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(c.TokenKind.BRACE_L))return{kind:a.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(c.TokenKind.NAME)&&(t=this.parseName()),{kind:a.Kind.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(c.TokenKind.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(c.TokenKind.PAREN_L,this.parseVariableDefinition,c.TokenKind.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:a.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(c.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(c.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(c.TokenKind.DOLLAR),{kind:a.Kind.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:a.Kind.SELECTION_SET,selections:this.many(c.TokenKind.BRACE_L,this.parseSelection,c.TokenKind.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(c.TokenKind.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(c.TokenKind.COLON)?(e=r,t=this.parseName()):t=r,{kind:a.Kind.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(c.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(c.TokenKind.PAREN_L,t,c.TokenKind.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(c.TokenKind.COLON),{kind:a.Kind.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:a.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(c.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(c.TokenKind.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(c.TokenKind.NAME)?{kind:a.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:a.Kind.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:a.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:a.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case c.TokenKind.BRACKET_L:return this.parseList(e);case c.TokenKind.BRACE_L:return this.parseObject(e);case c.TokenKind.INT:return this._lexer.advance(),{kind:a.Kind.INT,value:t.value,loc:this.loc(t)};case c.TokenKind.FLOAT:return this._lexer.advance(),{kind:a.Kind.FLOAT,value:t.value,loc:this.loc(t)};case c.TokenKind.STRING:case c.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case c.TokenKind.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:a.Kind.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:a.Kind.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:a.Kind.NULL,loc:this.loc(t)};default:return{kind:a.Kind.ENUM,value:t.value,loc:this.loc(t)}}case c.TokenKind.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:a.Kind.STRING,value:e.value,block:e.kind===c.TokenKind.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:a.Kind.LIST,values:this.any(c.TokenKind.BRACKET_L,(function(){return t.parseValueLiteral(e)}),c.TokenKind.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:a.Kind.OBJECT,fields:this.any(c.TokenKind.BRACE_L,(function(){return t.parseObjectField(e)}),c.TokenKind.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(c.TokenKind.COLON),{kind:a.Kind.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(c.TokenKind.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(c.TokenKind.AT),{kind:a.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(c.TokenKind.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(c.TokenKind.BRACKET_R),e={kind:a.Kind.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(c.TokenKind.BANG)?{kind:a.Kind.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:a.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===c.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(c.TokenKind.STRING)||this.peek(c.TokenKind.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(c.TokenKind.BRACE_L,this.parseOperationTypeDefinition,c.TokenKind.BRACE_R);return{kind:a.Kind.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(c.TokenKind.COLON);var n=this.parseNamedType();return{kind:a.Kind.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:a.Kind.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:a.Kind.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(c.TokenKind.AMP);do{var t;e.push(this.parseNamedType())}while(this.expectOptionalToken(c.TokenKind.AMP)||!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)&&this.peek(c.TokenKind.NAME))}return e},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(c.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===c.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(c.TokenKind.BRACE_L,this.parseFieldDefinition,c.TokenKind.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(c.TokenKind.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:a.Kind.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(c.TokenKind.PAREN_L,this.parseInputValueDef,c.TokenKind.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(c.TokenKind.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(c.TokenKind.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:a.Kind.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:a.Kind.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:a.Kind.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(c.TokenKind.EQUALS)){this.expectOptionalToken(c.TokenKind.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(c.TokenKind.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:a.Kind.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(c.TokenKind.BRACE_L,this.parseEnumValueDefinition,c.TokenKind.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:a.Kind.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:a.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(c.TokenKind.BRACE_L,this.parseInputValueDef,c.TokenKind.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===c.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(c.TokenKind.BRACE_L,this.parseOperationTypeDefinition,c.TokenKind.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:a.Kind.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:a.Kind.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:a.Kind.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:a.Kind.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.Kind.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.Kind.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(c.TokenKind.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:a.Kind.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(c.TokenKind.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(c.TokenKind.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==u.DirectiveLocation[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new f.Location(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw(0,o.syntaxError)(this._lexer.source,t.start,"Expected ".concat(v(e),", found ").concat(h(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==c.TokenKind.NAME||t.value!==e)throw(0,o.syntaxError)(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(h(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===c.TokenKind.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return(0,o.syntaxError)(this._lexer.source,t.start,"Unexpected ".concat(h(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function h(e){var t=e.value;return v(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function v(e){return(0,l.isPunctuatorTokenKind)(e)?'"'.concat(e,'"'):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=m,t.GraphQLError=void 0;var r,i=(r=n(30))&&r.__esModule?r:{default:r},o=n(13),a=n(14),s=n(31);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function d(e,t,n){return(d=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(d,e);var t,n,r,s,u,p=(t=d,n=h(),function(){var e,r=y(t);if(n){var i=y(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function d(e,t,n,r,o,s,u){var c,h,v,y,b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b=p.call(this,e);var m,O=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,g=n;!g&&O&&(g=null===(m=O[0].loc)||void 0===m?void 0:m.source);var k,E=r;!E&&O&&(E=O.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),E&&0===E.length&&(E=void 0),r&&n?k=r.map((function(e){return(0,a.getLocation)(n,e)})):O&&(k=O.reduce((function(e,t){return t.loc&&e.push((0,a.getLocation)(t.loc.source,t.loc.start)),e}),[]));var T=u;if(null==T&&null!=s){var w=s.extensions;(0,i.default)(w)&&(T=w)}return Object.defineProperties(f(b),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=k)&&void 0!==c?c:void 0,enumerable:null!=k},path:{value:null!=o?o:void 0,enumerable:null!=o},nodes:{value:null!=O?O:void 0},source:{value:null!==(h=g)&&void 0!==h?h:void 0},positions:{value:null!==(v=E)&&void 0!==v?v:void 0},originalError:{value:s},extensions:{value:null!==(y=T)&&void 0!==y?y:void 0,enumerable:null!=T}}),(null==s?void 0:s.stack)?(Object.defineProperty(f(b),"stack",{value:s.stack,writable:!0,configurable:!0}),l(b)):(Error.captureStackTrace?Error.captureStackTrace(f(b),d):Object.defineProperty(f(b),"stack",{value:Error().stack,writable:!0,configurable:!0}),b)}return r=d,(s=[{key:"toString",value:function(){return m(this)}},{key:o.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&c(r.prototype,s),u&&c(r,u),d}(p(Error));function m(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+(0,s.printLocation)(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var u=a[o];t+="\n\n"+(0,s.printSourceLocation)(e.source,u)}return t}t.GraphQLError=b},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"==r(e)&&null!==e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printLocation=function(e){return i(e.source,(0,r.getLocation)(e.source,e.start))},t.printSourceLocation=i;var r=n(14);function i(e,t){var n=e.locationOffset.column-1,r=a(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,u=t.line+s,c=1===t.line?n:0,l=t.column+c,f="".concat(e.name,":").concat(u,":").concat(l,"\n"),p=r.split(/\r\n|[\n\r]/g),d=p[i];if(d.length>120){for(var h=Math.floor(l/80),v=l%80,y=[],b=0;b<d.length;b+=80)y.push(d.slice(b,b+80));return f+o([["".concat(u),y[0]]].concat(y.slice(1,h+1).map((function(e){return["",e]})),[[" ",a(v-1)+"^"],["",y[h+1]]]))}return f+o([["".concat(u-1),p[i-1]],["".concat(u),d],["",a(l-1)+"^"],["".concat(u+1),p[i+1]]])}function o(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return a(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function a(e){return Array(e+1).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=void 0;var r=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});t.Kind=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r,i=n(13),o=(r=n(11))&&r.__esModule?r:{default:r};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,o.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,o.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:i.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&a(t.prototype,n),r&&a(t,r),e}();t.Source=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=void 0;var r=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});t.DirectiveLocation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPunctuatorTokenKind=function(e){return e===a.TokenKind.BANG||e===a.TokenKind.DOLLAR||e===a.TokenKind.AMP||e===a.TokenKind.PAREN_L||e===a.TokenKind.PAREN_R||e===a.TokenKind.SPREAD||e===a.TokenKind.COLON||e===a.TokenKind.EQUALS||e===a.TokenKind.AT||e===a.TokenKind.BRACKET_L||e===a.TokenKind.BRACKET_R||e===a.TokenKind.BRACE_L||e===a.TokenKind.PIPE||e===a.TokenKind.BRACE_R},t.Lexer=void 0;var r=n(12),i=n(4),o=n(10),a=n(15),s=function(){function e(e){var t=new i.Token(a.TokenKind.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==a.TokenKind.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=c(this,e)}while(e.kind===a.TokenKind.COMMENT);return e},e}();function u(e){return isNaN(e)?a.TokenKind.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function c(e,t){var n=e.source,s=n.body,c=s.length,p=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(s,t.end,e),d=e.line,h=1+p-e.lineStart;if(p>=c)return new i.Token(a.TokenKind.EOF,c,c,d,h,t);var v=s.charCodeAt(p);switch(v){case 33:return new i.Token(a.TokenKind.BANG,p,p+1,d,h,t);case 35:return function(e,t,n,r,o){var s,u=e.body,c=t;do{s=u.charCodeAt(++c)}while(!isNaN(s)&&(s>31||9===s));return new i.Token(a.TokenKind.COMMENT,t,c,n,r,o,u.slice(t+1,c))}(n,p,d,h,t);case 36:return new i.Token(a.TokenKind.DOLLAR,p,p+1,d,h,t);case 38:return new i.Token(a.TokenKind.AMP,p,p+1,d,h,t);case 40:return new i.Token(a.TokenKind.PAREN_L,p,p+1,d,h,t);case 41:return new i.Token(a.TokenKind.PAREN_R,p,p+1,d,h,t);case 46:if(46===s.charCodeAt(p+1)&&46===s.charCodeAt(p+2))return new i.Token(a.TokenKind.SPREAD,p,p+3,d,h,t);break;case 58:return new i.Token(a.TokenKind.COLON,p,p+1,d,h,t);case 61:return new i.Token(a.TokenKind.EQUALS,p,p+1,d,h,t);case 64:return new i.Token(a.TokenKind.AT,p,p+1,d,h,t);case 91:return new i.Token(a.TokenKind.BRACKET_L,p,p+1,d,h,t);case 93:return new i.Token(a.TokenKind.BRACKET_R,p,p+1,d,h,t);case 123:return new i.Token(a.TokenKind.BRACE_L,p,p+1,d,h,t);case 124:return new i.Token(a.TokenKind.PIPE,p,p+1,d,h,t);case 125:return new i.Token(a.TokenKind.BRACE_R,p,p+1,d,h,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var s=e.body,u=s.length,c=t+1,l=0;for(;c!==u&&!isNaN(l=s.charCodeAt(c))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++c;return new i.Token(a.TokenKind.NAME,t,c,n,r,o,s.slice(t,c))}(n,p,d,h,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,o,s,c){var f=e.body,p=n,d=t,h=!1;45===p&&(p=f.charCodeAt(++d));if(48===p){if((p=f.charCodeAt(++d))>=48&&p<=57)throw(0,r.syntaxError)(e,d,"Invalid number, unexpected digit after 0: ".concat(u(p),"."))}else d=l(e,d,p),p=f.charCodeAt(d);46===p&&(h=!0,p=f.charCodeAt(++d),d=l(e,d,p),p=f.charCodeAt(d));69!==p&&101!==p||(h=!0,43!==(p=f.charCodeAt(++d))&&45!==p||(p=f.charCodeAt(++d)),d=l(e,d,p),p=f.charCodeAt(d));if(46===p||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(p))throw(0,r.syntaxError)(e,d,"Invalid number, expected digit but got: ".concat(u(p),"."));return new i.Token(h?a.TokenKind.FLOAT:a.TokenKind.INT,t,d,o,s,c,f.slice(t,d))}(n,p,v,d,h,t);case 34:return 34===s.charCodeAt(p+1)&&34===s.charCodeAt(p+2)?function(e,t,n,s,c,l){var f=e.body,p=t+3,d=p,h=0,v="";for(;p<f.length&&!isNaN(h=f.charCodeAt(p));){if(34===h&&34===f.charCodeAt(p+1)&&34===f.charCodeAt(p+2))return v+=f.slice(d,p),new i.Token(a.TokenKind.BLOCK_STRING,t,p+3,n,s,c,(0,o.dedentBlockStringValue)(v));if(h<32&&9!==h&&10!==h&&13!==h)throw(0,r.syntaxError)(e,p,"Invalid character within String: ".concat(u(h),"."));10===h?(++p,++l.line,l.lineStart=p):13===h?(10===f.charCodeAt(p+1)?p+=2:++p,++l.line,l.lineStart=p):92===h&&34===f.charCodeAt(p+1)&&34===f.charCodeAt(p+2)&&34===f.charCodeAt(p+3)?(v+=f.slice(d,p)+'"""',d=p+=4):++p}throw(0,r.syntaxError)(e,p,"Unterminated string.")}(n,p,d,h,t,e):function(e,t,n,o,s){var c=e.body,l=t+1,p=l,d=0,h="";for(;l<c.length&&!isNaN(d=c.charCodeAt(l))&&10!==d&&13!==d;){if(34===d)return h+=c.slice(p,l),new i.Token(a.TokenKind.STRING,t,l+1,n,o,s,h);if(d<32&&9!==d)throw(0,r.syntaxError)(e,l,"Invalid character within String: ".concat(u(d),"."));if(++l,92===d){switch(h+=c.slice(p,l-1),d=c.charCodeAt(l)){case 34:h+='"';break;case 47:h+="/";break;case 92:h+="\\";break;case 98:h+="\b";break;case 102:h+="\f";break;case 110:h+="\n";break;case 114:h+="\r";break;case 116:h+="\t";break;case 117:var v=(b=c.charCodeAt(l+1),m=c.charCodeAt(l+2),O=c.charCodeAt(l+3),g=c.charCodeAt(l+4),f(b)<<12|f(m)<<8|f(O)<<4|f(g));if(v<0){var y=c.slice(l+1,l+5);throw(0,r.syntaxError)(e,l,"Invalid character escape sequence: \\u".concat(y,"."))}h+=String.fromCharCode(v),l+=4;break;default:throw(0,r.syntaxError)(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}++l,p=l}}var b,m,O,g;throw(0,r.syntaxError)(e,l,"Unterminated string.")}(n,p,d,h,t)}throw(0,r.syntaxError)(n,p,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(u(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(u(e),".")}(v))}function l(e,t,n){var i=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=i.charCodeAt(++o)}while(a>=48&&a<=57);return o}throw(0,r.syntaxError)(e,o,"Invalid number, expected digit but got: ".concat(u(a),"."))}function f(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}t.Lexer=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.LONDON_USERS=void 0;var i,o=n(5);t.LONDON_USERS=o.default(i||(i=r(["\n  query LondonUsers {\n    londonUsers {\n      id\n      first_name\n      last_name\n      email\n      ip_address\n      latitude\n      longitude\n      distance\n      livesInLondon\n    }\n  }\n  "],["\n  query LondonUsers {\n    londonUsers {\n      id\n      first_name\n      last_name\n      email\n      ip_address\n      latitude\n      longitude\n      distance\n      livesInLondon\n    }\n  }\n  "])))},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"ApolloClient",(function(){return B})),n.d(t,"ApolloError",(function(){return R})),n.d(t,"FetchType",(function(){return N})),n.d(t,"NetworkStatus",(function(){return T})),n.d(t,"ObservableQuery",(function(){return D})),n.d(t,"isApolloError",(function(){return I})),n.d(t,"Observable",(function(){return s})),n.d(t,"getOperationName",(function(){return i.n})),n.d(t,"ApolloLink",(function(){return k})),n.d(t,"concat",(function(){return g})),n.d(t,"createOperation",(function(){return h})),n.d(t,"empty",(function(){return b})),n.d(t,"execute",(function(){return E})),n.d(t,"from",(function(){return m})),n.d(t,"fromError",(function(){return d})),n.d(t,"fromPromise",(function(){return p})),n.d(t,"makePromise",(function(){return f})),n.d(t,"split",(function(){return O})),n.d(t,"toPromise",(function(){return l})),n.d(t,"HeuristicFragmentMatcher",(function(){return je})),n.d(t,"InMemoryCache",(function(){return Je})),n.d(t,"IntrospectionFragmentMatcher",(function(){return xe})),n.d(t,"ObjectCache",(function(){return Qe})),n.d(t,"StoreReader",(function(){return De})),n.d(t,"StoreWriter",(function(){return qe})),n.d(t,"WriteError",(function(){return Pe})),n.d(t,"assertIdValue",(function(){return Fe})),n.d(t,"defaultDataIdFromObject",(function(){return Ue})),n.d(t,"defaultNormalizedCacheFactory",(function(){return Me})),n.d(t,"enhanceErrorWithDocument",(function(){return Le})),n.d(t,"HttpLink",(function(){return Ze})),n.d(t,"gql",(function(){return nt.a}));var r=n(0),i=n(1),o=n(7),a=n(18),s=n.n(a).a,u=n(2);!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}Object(r.c)(t,e)}(Error);function c(e){return e.request.length<=1}function l(e){var t=!1;return new Promise((function(n,r){e.subscribe({next:function(e){t||(t=!0,n(e))},error:r})}))}var f=l;function p(e){return new s((function(t){e.then((function(e){t.next(e),t.complete()})).catch(t.error.bind(t))}))}function d(e){return new s((function(t){t.error(e)}))}function h(e,t){var n=Object(r.a)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?Object(r.a)({},n,e(n)):Object(r.a)({},n,e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Object(r.a)({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function v(e,t){return t?t(e):s.of()}function y(e){return"function"==typeof e?new k(e):e}function b(){return new k((function(){return s.of()}))}function m(e){return 0===e.length?b():e.map(y).reduce((function(e,t){return e.concat(t)}))}function O(e,t,n){var r=y(t),i=y(n||new k(v));return c(r)&&c(i)?new k((function(t){return e(t)?r.request(t)||s.of():i.request(t)||s.of()})):new k((function(t,n){return e(t)?r.request(t,n)||s.of():i.request(t,n)||s.of()}))}var g=function(e,t){var n=y(e);if(c(n))return n;var r=y(t);return c(r)?new k((function(e){return n.request(e,(function(e){return r.request(e)||s.of()}))||s.of()})):new k((function(e,t){return n.request(e,(function(e){return r.request(e,t)||s.of()}))||s.of()}))},k=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(O(t,n,r||new e(v)))},e.prototype.concat=function(e){return g(this,e)},e.prototype.request=function(e,t){throw new u.a(1)},e.empty=b,e.from=m,e.split=O,e.execute=E,e}();function E(e,t){return e.request(h(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(i.n)(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new u.a(2)}return e}(t))))||s.of()}var T,w=n(16),S=n(3);function _(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(T||(T={}));var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype[w.a]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(s);function x(e){return Array.isArray(e)&&e.length>0}function I(e){return e.hasOwnProperty("graphQLErrors")}var N,R=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.networkError,s=n.errorMessage,u=n.extraInfo,c=e.call(this,s)||this;return c.graphQLErrors=o||[],c.networkError=a||null,c.message=s||(i="",x((r=c).graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";i+="GraphQL error: "+t+"\n"})),r.networkError&&(i+="Network error: "+r.networkError.message+"\n"),i=i.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=t.prototype,c}return Object(r.c)(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(N||(N={}));var D=function(e){function t(t){var n=t.queryManager,r=t.options,o=t.shouldSubscribe,a=void 0===o||o,s=e.call(this,(function(e){return s.onSubscribe(e)}))||this;s.observers=new Set,s.subscriptions=new Set,s.isTornDown=!1,s.options=r,s.variables=r.variables||{},s.queryId=n.generateQueryId(),s.shouldSubscribe=a;var u=Object(i.m)(r.query);return s.queryName=u&&u.name&&u.name.value,s.queryManager=n,s}return Object(r.c)(t,e),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:T.error}}var t,n,i,o=this.queryManager.getCurrentQueryResult(this),a=o.data,s=o.partial,u=this.queryManager.queryStore.get(this.queryId),c=this.options.fetchPolicy,l="network-only"===c||"no-cache"===c;if(u){var f=u.networkStatus;if(n=u,void 0===(i=this.options.errorPolicy)&&(i="none"),n&&(n.networkError||"none"===i&&x(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:f,error:new R({graphQLErrors:u.graphQLErrors,networkError:u.networkError})};u.variables&&(this.options.variables=Object(r.a)(Object(r.a)({},this.options.variables),u.variables),this.variables=this.options.variables),t={data:a,loading:_(f),networkStatus:f},u.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=u.graphQLErrors)}else{var p=l||s&&"cache-only"!==c;t={data:a,loading:p,networkStatus:p?T.loading:T.ready}}return s||this.updateLastResult(Object(r.a)(Object(r.a)({},t),{stale:!1})),Object(r.a)(Object(r.a)({},t),{partial:s})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Object(o.a)(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject(new u.a(1)):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),Object(o.a)(this.variables,e)||(this.variables=Object(r.a)(Object(r.a)({},this.variables),e)),Object(o.a)(this.options.variables,this.variables)||(this.options.variables=Object(r.a)(Object(r.a)({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Object(r.a)(Object(r.a)({},this.options),{fetchPolicy:t}),N.refetch))},t.prototype.fetchMore=function(e){var t=this;Object(u.b)(e.updateQuery,2);var n=Object(r.a)(Object(r.a)({},e.query?e:Object(r.a)(Object(r.a)(Object(r.a)({},this.options),e),{variables:Object(r.a)(Object(r.a)({},this.variables),e.variables)})),{fetchPolicy:"network-only"}),i=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(i,n,N.normal,this.queryId).then((function(r){return t.updateQuery((function(t){return e.updateQuery(t,{fetchMoreResult:r.data,variables:n.variables})})),t.queryManager.stopQuery(i),r}),(function(e){throw t.queryManager.stopQuery(i),e}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=Object(r.a)(Object(r.a)({},this.options),e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&Object(o.a)(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,a=n.document,s=Object(i.I)((function(){return e(r,{variables:o})}));s&&(t.dataStore.markUpdateQueryResult(a,o,s),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){F(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Object(i.f)(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=A)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(F(this),t.startPollingQuery(this.options,n));var i=function(t){e.updateLastResult(Object(r.a)(Object(r.a)({},e.lastResult),{errors:t.graphQLErrors,networkStatus:T.error,loading:!1})),C(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),i=e.options,a=i.query,s=i.variables,u=i.fetchPolicy;t.transform(a).hasClientExports?t.getLocalState().addExportedVariables(a,s).then((function(i){var s=e.variables;e.variables=e.options.variables=i,!n.loading&&r&&"cache-only"!==u&&t.transform(a).serverQuery&&!Object(o.a)(s,i)?e.refetch():C(e.observers,"next",n)})):C(e.observers,"next",n)}},error:i}).catch(i)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(j);function A(e){}function C(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function F(e){var t=e.options.fetchPolicy;Object(u.b)("cache-first"!==t&&"cache-only"!==t,3)}var Q=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),M=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];Object(u.b)(!t||t.document===e.document||Object(o.a)(t.document,e.document),19);var n,r=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==T.loading&&(Object(o.a)(t.variables,e.variables)||(r=!0,i=t.variables)),n=r?T.setVariables:e.isPoll?T.poll:e.isRefetch?T.refetch:T.loading;var a=[];t&&t.graphQLErrors&&(a=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:a,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=T.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=x(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=T.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=T.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=T.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=T.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach((function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=T.loading}))},e}();var P=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Object(i.A)(t.resolvers,e)})):this.resolvers=Object(i.A)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,i=e.context,o=e.variables,a=e.onlyRunForcedResolvers,s=void 0!==a&&a;return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,i,o,this.fragmentMatcher,s).then((function(e){return Object(r.a)(Object(r.a)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Object(i.s)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return this.resolvers?Object(i.C)(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return Object(r.a)(Object(r.a)({},e),{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);Object(u.b)(!1,6)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Object(r.a)(Object(r.a)({},t),e.exportedVariables)}))]:[2,Object(r.a)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Object(S.visit)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return S.BREAK}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(i.d)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,o,a,s){return void 0===n&&(n={}),void 0===o&&(o={}),void 0===a&&(a=function(){return!0}),void 0===s&&(s=!1),Object(r.b)(this,void 0,void 0,(function(){var u,c,l,f,p,d,h,v,y;return Object(r.d)(this,(function(b){var m;return u=Object(i.l)(e),c=Object(i.j)(e),l=Object(i.g)(c),f=u.operation,p=f?(m=f).charAt(0).toUpperCase()+m.slice(1):"Query",h=(d=this).cache,v=d.client,y={fragmentMap:l,context:Object(r.a)(Object(r.a)({},n),{cache:h,client:v}),variables:o,fragmentMatcher:a,defaultOperationType:p,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(u.selectionSet,t,y).then((function(e){return{result:e,exportedVariables:y.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,a,s,c,l,f=this;return Object(r.d)(this,(function(p){return o=n.fragmentMap,a=n.context,s=n.variables,c=[t],l=function(e){return Object(r.b)(f,void 0,void 0,(function(){var l,f;return Object(r.d)(this,(function(r){return Object(i.F)(e,s)?Object(i.t)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&c.push(((n={})[Object(i.E)(e)]=t,n))}))]:(Object(i.v)(e)?l=e:(l=o[e.name.value],Object(u.b)(l,7)),l&&l.typeCondition&&(f=l.typeCondition.name.value,n.fragmentMatcher(t,f,a))?[2,this.resolveSelectionSet(l.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(l)).then((function(){return Object(i.B)(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,p,d,h=this;return Object(r.d)(this,(function(r){return o=n.variables,a=e.name.value,s=Object(i.E)(e),u=a!==s,c=t[s]||t[a],l=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(f=t.__typename||n.defaultOperationType,(p=this.resolvers&&this.resolvers[f])&&(d=p[u?a:s])&&(l=Promise.resolve(d(t,Object(i.b)(e,o),n.context,{field:e,fragmentMap:n.fragmentMap})))),[2,l.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}();function L(e){var t=new Set,n=null;return new j((function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach((function(t){return t.next&&t.next(e)}))},error:function(e){t.forEach((function(t){return t.error&&t.error(e)}))},complete:function(){t.forEach((function(e){return e.complete&&e.complete()}))}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}}))}var q=Object.prototype.hasOwnProperty,K=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,a=e.onBroadcast,s=void 0===a?function(){}:a,u=e.ssrMode,c=void 0!==u&&u,l=e.clientAwareness,f=void 0===l?{}:l,p=e.localState,d=e.assumeImmutableResults;this.mutationStore=new Q,this.queryStore=new M,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(i.e?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=s,this.clientAwareness=f,this.localState=p||new P({cache:o.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!d}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(e){e(new u.a(8))}))},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,o=e.optimisticResponse,a=e.updateQueries,s=e.refetchQueries,c=void 0===s?[]:s,l=e.awaitRefetchQueries,f=void 0!==l&&l,p=e.update,d=e.errorPolicy,h=void 0===d?"none":d,v=e.fetchPolicy,y=e.context,b=void 0===y?{}:y;return Object(r.b)(this,void 0,void 0,(function(){var e,s,l,d=this;return Object(r.d)(this,(function(y){switch(y.label){case 0:return Object(u.b)(t,9),Object(u.b)(!v||"no-cache"===v,10),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,(function(){return{document:t}})),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,b)]:[3,2];case 1:n=y.sent(),y.label=2;case 2:return s=function(){var e={};return a&&d.queries.forEach((function(t,n){var r=t.observableQuery;if(r){var i=r.queryName;i&&q.call(a,i)&&(e[n]={updater:a[i],query:d.queryStore.get(n)})}})),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:s(),update:p,optimisticResponse:o}),this.broadcastQueries(),l=this,[2,new Promise((function(a,u){var d,y;l.getObservableFromLink(t,Object(r.a)(Object(r.a)({},b),{optimisticResponse:o}),n,!1).subscribe({next:function(r){Object(i.q)(r)&&"none"===h?y=new R({graphQLErrors:r.errors}):(l.mutationStore.markMutationResult(e),"no-cache"!==v&&l.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:s(),update:p}),d=r)},error:function(t){l.mutationStore.markMutationError(e,t),l.dataStore.markMutationComplete({mutationId:e,optimisticResponse:o}),l.broadcastQueries(),l.setQuery(e,(function(){return{document:null}})),u(new R({networkError:t}))},complete:function(){if(y&&l.mutationStore.markMutationError(e,y),l.dataStore.markMutationComplete({mutationId:e,optimisticResponse:o}),l.broadcastQueries(),y)u(y);else{"function"==typeof c&&(c=c(d));var t=[];x(c)&&c.forEach((function(e){if("string"==typeof e)l.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(l.query(n))}})),Promise.all(f?t:[]).then((function(){l.setQuery(e,(function(){return{document:null}})),"ignore"===h&&d&&Object(i.q)(d)&&delete d.errors,a(d)}))}}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var a,s,u,c,l,f,p,d,h,v,y,b,m,O,g,k,E,T,w=this;return Object(r.d)(this,(function(S){switch(S.label){case 0:return a=t.metadata,s=void 0===a?null:a,u=t.fetchPolicy,c=void 0===u?"cache-first":u,l=t.context,f=void 0===l?{}:l,p=this.transform(t.query).document,d=this.getVariables(p,t.variables),this.transform(p).hasClientExports?[4,this.localState.addExportedVariables(p,d,f)]:[3,2];case 1:d=S.sent(),S.label=2;case 2:if(t=Object(r.a)(Object(r.a)({},t),{variables:d}),y=v="network-only"===c||"no-cache"===c,v||(b=this.dataStore.getCache().diff({query:p,variables:d,returnPartialData:!0,optimistic:!1}),m=b.complete,O=b.result,y=!m||"cache-and-network"===c,h=O),g=y&&"cache-only"!==c&&"standby"!==c,Object(i.s)(["live"],p)&&(g=!0),k=this.idCounter++,E="no-cache"!==c?this.updateQueryWatch(e,p,t):void 0,this.setQuery(e,(function(){return{document:p,lastRequestId:k,invalidated:!0,cancel:E}})),this.invalidate(o),this.queryStore.initQuery({queryId:e,document:p,storePreviousVariables:g,variables:d,isPoll:n===N.poll,isRefetch:n===N.refetch,metadata:s,fetchMoreForQueryId:o}),this.broadcastQueries(),g){if(T=this.fetchRequest({requestId:k,queryId:e,document:p,options:t,fetchMoreForQueryId:o}).catch((function(t){throw I(t)?t:(k>=w.getQuery(e).lastRequestId&&(w.queryStore.markQueryError(e,t,o),w.invalidate(e),w.invalidate(o),w.broadcastQueries()),new R({networkError:t}))})),"cache-and-network"!==c)return[2,T];T.catch((function(){}))}return this.queryStore.markQueryResultClient(e,!g),this.invalidate(e),this.invalidate(o),this.transform(p).hasForcedResolvers?[2,this.localState.runResolvers({document:p,remoteResult:{data:h},context:f,variables:d,onlyRunForcedResolvers:!0}).then((function(n){return w.markQueryResult(e,n,t,o),w.broadcastQueries(),n}))]:(this.broadcastQueries(),[2,{data:h}])}}))}))},e.prototype.markQueryResult=function(e,t,n,r){var i=n.fetchPolicy,o=n.variables,a=n.errorPolicy;"no-cache"===i?this.setQuery(e,(function(){return{newData:{result:t.data,complete:!0}}})):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function i(e,t){if(n[e])try{n[e](t)}catch(e){}}return function(n,o){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,u=a.document,c=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==c){var l=_(n.networkStatus),f=s&&s.getLastResult(),p=!(!f||f.networkStatus===n.networkStatus),d=t.returnPartialData||!o&&n.previousVariables||p&&t.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||d){var h=x(n.graphQLErrors),v=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===v&&h||n.networkError)return i("error",new R({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var y=void 0,b=void 0;if(o)"no-cache"!==c&&"network-only"!==c&&r.setQuery(e,(function(){return{newData:null}})),y=o.result,b=!o.complete;else{var m=s&&s.getLastError(),O="none"!==v&&(m&&m.graphQLErrors)!==n.graphQLErrors;if(f&&f.data&&!O)y=f.data,b=!1;else{var g=r.dataStore.getCache().diff({query:u,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});y=g.result,b=!g.complete}}var k=b&&!(t.returnPartialData||"cache-only"===c),E={data:k?f&&f.data:y,loading:l,networkStatus:n.networkStatus,stale:k};"all"===v&&h&&(E.errors=n.graphQLErrors),i("next",E)}catch(e){i("error",new R({networkError:e}))}}}}}},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.dataStore.getCache(),r=n.transformDocument(e),o=Object(i.D)(n.transformForLink(r)),a=this.localState.clientQuery(r),s=this.localState.serverQuery(o),u={document:r,hasClientExports:Object(i.r)(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:a,serverQuery:s,defaultVars:Object(i.h)(Object(i.m)(r))},c=function(e){e&&!t.has(e)&&t.set(e,u)};c(e),c(r),c(a),c(s)}return t.get(e)},e.prototype.getVariables=function(e,t){return Object(r.a)(Object(r.a)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),Object(u.b)("standby"!==e.fetchPolicy,11),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=Object(r.a)({},e);return new D({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return Object(u.b)(e.query,12),Object(u.b)("Document"===e.query.kind,13),Object(u.b)(!e.returnPartialData,14),Object(u.b)(!e.pollInterval,15),new Promise((function(n,r){var i=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+i.queryId,r),i.result().then(n,r).then((function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,(function(e){return e.listeners.add(t),{invalidated:!1}}))},e.prototype.updateQueryWatch=function(e,t,n){var r=this,i=this.getQuery(e).cancel;i&&i();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var i=n.getLastResult();i&&(t=i.data)}return t},callback:function(t){r.setQuery(e,(function(){return{invalidated:!0,newData:t}}))}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,(function(){return{observableQuery:t}}))},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,(function(){return{observableQuery:null}})),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(e){e(new u.a(16))}));var e=[];return this.queries.forEach((function(t,n){t.observableQuery&&e.push(n)})),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(o.refetch()),t.setQuery(i,(function(){return{newData:null}})),t.invalidate(i)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch((function(){})),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.variables;n=this.transform(n).document,o=this.getVariables(n,o);var a=function(e){return t.getObservableFromLink(n,{},e,!1).map((function(o){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(o,n,e),t.broadcastQueries()),Object(i.q)(o))throw new R({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var s=this.localState.addExportedVariables(n,o).then(a);return new j((function(e){var t=null;return s.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return a(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,i=n.query,o=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),u=this.getQuery(e.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:i,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=c.result,f=c.complete;return{data:f||a?l:void 0,partial:!f}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;Object(u.b)(n,17),t=n}else t=e;var r=t.options,i=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach((function(t,n){t.invalidated&&t.listeners.forEach((function(r){r&&r(e.queryStore.get(n),t.newData)}))}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,o){var a,s=this;void 0===o&&(o=this.queryDeduplication);var u=this.transform(e).serverQuery;if(u){var c=this.inFlightLinkObservables,l=this.link,f={query:u,variables:n,operationName:Object(i.n)(u)||void 0,context:this.prepareContext(Object(r.a)(Object(r.a)({},t),{forceFetch:!o}))};if(t=f.context,o){var p=c.get(u)||new Map;c.set(u,p);var d=JSON.stringify(n);if(!(a=p.get(d))){p.set(d,a=L(E(l,f)));var h=function(){p.delete(d),p.size||c.delete(u),v.unsubscribe()},v=a.subscribe({next:h,error:h,complete:h})}}else a=L(E(l,f))}else a=j.of({data:{}}),t=this.prepareContext(t);var y=this.transform(e).clientQuery;return y&&(a=function(e,t){return new j((function(n){var r=n.next,i=n.error,o=n.complete,a=0,s=!1,u={next:function(e){++a,new Promise((function(n){n(t(e))})).then((function(e){--a,r&&r.call(n,e),s&&u.complete()}),(function(e){--a,i&&i.call(n,e)}))},error:function(e){i&&i.call(n,e)},complete:function(){s=!0,a||o&&o.call(n)}},c=e.subscribe(u);return function(){return c.unsubscribe()}}))}(a,(function(e){return s.localState.runResolvers({document:y,remoteResult:e,context:t,variables:n})}))),a},e.prototype.fetchRequest=function(e){var t,n,r=this,i=e.requestId,o=e.queryId,a=e.document,s=e.options,u=e.fetchMoreForQueryId,c=s.variables,l=s.errorPolicy,f=void 0===l?"none":l,p=s.fetchPolicy;return new Promise((function(e,l){var d=r.getObservableFromLink(a,s.context,c),h="fetchRequest:"+o;r.fetchQueryRejectFns.set(h,l);var v=function(){r.fetchQueryRejectFns.delete(h),r.setQuery(o,(function(e){e.subscriptions.delete(y)}))},y=d.map((function(e){if(i>=r.getQuery(o).lastRequestId&&(r.markQueryResult(o,e,s,u),r.queryStore.markQueryResult(o,e,u),r.invalidate(o),r.invalidate(u),r.broadcastQueries()),"none"===f&&x(e.errors))return l(new R({graphQLErrors:e.errors}));if("all"===f&&(n=e.errors),u||"no-cache"===p)t=e.data;else{var d=r.dataStore.getCache().diff({variables:c,query:a,optimistic:!1,returnPartialData:!0}),h=d.result;(d.complete||s.returnPartialData)&&(t=h)}})).subscribe({error:function(e){v(),l(e)},complete:function(){v(),e({data:t,errors:n,loading:!1,networkStatus:T.ready,stale:!1})}});r.setQuery(o,(function(e){e.subscriptions.add(y)}))}))},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),i=Object(r.a)(Object(r.a)({},n),t(n));this.queries.set(e,i)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,(function(){return{invalidated:t}}))},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Object(r.a)(Object(r.a)({},t),{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==T.ready&&t.networkStatus!==T.error},e.prototype.startPollingQuery=function(e,t,n){var i=this,o=e.pollInterval;if(Object(u.b)(o,18),!this.ssrMode){var a=this.pollingInfoByQueryId.get(t);a||this.pollingInfoByQueryId.set(t,a={}),a.interval=o,a.options=Object(r.a)(Object(r.a)({},e),{fetchPolicy:"network-only"});var s=function(){var e=i.pollingInfoByQueryId.get(t);e&&(i.checkInFlight(t)?c():i.fetchQuery(t,e.options,N.poll).then(c,c))},c=function(){var e=i.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(s,e.interval))};n&&this.addQueryListener(t,n),c()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),V=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var a=!Object(i.q)(e);o&&Object(i.q)(e)&&e.data&&(a=!0),!r&&a&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Object(i.q)(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction((function(r){var i=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=i}}),e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!Object(i.q)(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach((function(o){var a=r[o],s=a.query,u=a.updater,c=t.cache.diff({query:s.document,variables:s.variables,returnPartialData:!0,optimistic:!1}),l=c.result;if(c.complete){var f=Object(i.I)((function(){return u(l,{mutationResult:e.result,queryName:Object(i.n)(s.document)||void 0,queryVariables:s.variables})}));f&&n.push({result:f,dataId:"ROOT_QUERY",query:s.document,variables:s.variables})}})),this.cache.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&Object(i.I)((function(){return r(t,e.result)}))}))}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),B=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,i=void 0!==r&&r,o=e.ssrForceFetchDelay,a=void 0===o?0:o,s=e.connectToDevTools,c=e.queryDeduplication,l=void 0===c||c,f=e.defaultOptions,p=e.assumeImmutableResults,d=void 0!==p&&p,h=e.resolvers,v=e.typeDefs,y=e.fragmentMatcher,b=e.name,m=e.version,O=e.link;if(!O&&h&&(O=k.empty()),!O||!n)throw new u.a(4);this.link=O,this.cache=n,this.store=new V(n),this.disableNetworkFetches=i||a>0,this.queryDeduplication=l,this.defaultOptions=f||{},this.typeDefs=v,a&&setTimeout((function(){return t.disableNetworkFetches=!1}),a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==s&&(s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new P({cache:n,client:this,resolvers:h,fragmentMatcher:y}),this.queryManager=new K({link:this.link,store:this.store,queryDeduplication:l,ssrMode:i,clientAwareness:{name:b,version:m},localState:this.localState,assumeImmutableResults:d,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Object(r.a)(Object(r.a)({},this.defaultOptions.watchQuery),e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Object(r.a)(Object(r.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Object(r.a)(Object(r.a)({},this.defaultOptions.query),e)),Object(u.b)("cache-and-network"!==e.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Object(r.a)(Object(r.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Object(r.a)(Object(r.a)({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return E(this.link,e)},e.prototype.initQueryManager=function(){return this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}(),U=B;function G(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Y(e)}]}}function Y(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return Y(e[0]);var t=[];return Object.keys(e).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:Y(e[n])||void 0};t.push(r)})),{kind:"SelectionSet",selections:t}}var J,z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},W=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(i.k)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(i.k)(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,i=e.data;if(void 0!==r){var o=null;try{o=this.read({rootId:r,optimistic:!1,query:z})}catch(e){}var a=o&&o.__typename||"__ClientData",s=Object.assign({__typename:a},i);this.writeFragment({id:r,fragment:(t=s,n=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Y(t)}]}),data:s})}else this.writeQuery({query:G(i),data:i})},e}();J||(J={});var H=null,X={},$=1,Z=Array,ee=Z["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",$++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=H;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===X)break;return e!==H&&(H.slots[this.id]=t),!0}return H&&(H.slots[this.id]=X),!1},e.prototype.getValue=function(){if(this.hasValue())return H.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=H;H={parent:a,slots:o};try{return t.apply(r,n)}finally{H=a}},e.bind=function(e){var t=H;return function(){var n=H;try{return H=t,e.apply(this,arguments)}finally{H=n}}},e.noContext=function(e,t,n){if(!H)return e.apply(n,t);var r=H;try{return H=null,e.apply(n,t)}finally{H=r}},e}();try{Object.defineProperty(Z,"@wry/context:Slot",{value:Z["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();ee.bind,ee.noContext;function te(){}var ne=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=te),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),re=new ee,ie=[],oe=[];function ae(e,t){if(!e)throw new Error(t||"assertion failure")}function se(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var ue=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(ae(!this.recomputing,"already recomputing"),function(e){var t=re.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),le(e)?de(t,e):he(t,e),t}(this)||!ye(this))return le(this)?function(e){var t=be(e);re.withValue(e,ce,[e]),function(e){if("function"==typeof e.subscribe)try{Oe(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,le(e))return;pe(e)}(e);return t.forEach(ye),se(e.value)}(this):se(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,fe(this),Oe(this))},e.prototype.dispose=function(){var e=this;be(this).forEach(ye),Oe(this),this.parents.forEach((function(t){t.setDirty(),me(t,e)}))},e.count=0,e}();function ce(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function le(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function fe(e){e.parents.forEach((function(t){return de(t,e)}))}function pe(e){e.parents.forEach((function(t){return he(t,e)}))}function de(e,t){if(ae(e.childValues.has(t)),ae(le(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=oe.pop()||new Set;e.dirtyChildren.add(t),fe(e)}function he(e,t){ae(e.childValues.has(t)),ae(!le(t));var n,r,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),ve(e,t),le(e)||pe(e)}function ve(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(oe.length<100&&oe.push(n),e.dirtyChildren=null))}function ye(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function be(e){var t=ie;return e.childValues.size>0&&(t=[],e.childValues.forEach((function(n,r){me(e,r),t.push(r)}))),ae(null===e.dirtyChildren),t}function me(e,t){t.parents.delete(e),e.childValues.delete(t),ve(e,t)}function Oe(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var ge=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var ke=new ge("function"==typeof WeakMap);function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ke.lookupArray(e)}var Te=new Set;function we(e,t){void 0===t&&(t=Object.create(null));var n=new ne(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=!!t.disposable,i=t.makeCacheKey||Ee;function o(){if(!r||re.hasValue()){var o=i.apply(null,arguments);if(void 0===o)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(o);s?s.args=a:(s=new ue(e,a),n.set(o,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(o)}));var u=s.recompute();return n.set(o,s),Te.add(n),re.hasValue()||(Te.forEach((function(e){return e.clean()})),Te.clear()),r?void 0:u}}return o.dirty=function(){var e=i.apply(null,arguments),t=void 0!==e&&n.get(e);t&&t.setDirty()},o}var Se=!1;function _e(){var e=!Se;return Object(i.y)()||(Se=!0),e}var je=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),i="ROOT_QUERY"===e.id;if(!r)return i;var o=r.__typename,a=void 0===o?i&&"Query":o;return a&&a===t||(_e(),"heuristic")},e}(),xe=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,n){Object(u.b)(this.isReady,1);var r=n.store.get(e.id),i="ROOT_QUERY"===e.id;if(!r)return i;var o=r.__typename,a=void 0===o?i&&"Query":o;if(Object(u.b)(a,2),a===t)return!0;var s=this.possibleTypesMap[t];return!!(a&&s&&s.indexOf(a)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach((function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map((function(e){return e.name})))})),t},e}(),Ie=Object.prototype.hasOwnProperty,Ne=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=we((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){Ie.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach((function(n){t.set(n,e[n])})),Object.keys(this.data).forEach((function(n){Ie.call(e,n)||t.delete(n)}))):Object.keys(this.data).forEach((function(e){t.delete(e)}))},e}();function Re(e){return new Ne(e)}var De=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,o=void 0===r?new ge(i.e):r,a=n.freezeResults,s=void 0!==a&&a,u=this.executeStoreQuery,c=this.executeSelectionSet,l=this.executeSubSelectedArray;this.freezeResults=s,this.executeStoreQuery=we((function(e){return u.call(t,e)}),{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof Ne)return o.lookup(r.store,t,a,JSON.stringify(i),n.id)}}),this.executeSelectionSet=we((function(e){return c.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof Ne)return o.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=we((function(e){return l.call(t,e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof Ne)return o.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Object(r.a)(Object(r.a)({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.variables,a=e.previousResult,s=e.returnPartialData,c=void 0===s||s,l=e.rootId,f=void 0===l?"ROOT_QUERY":l,p=e.fragmentMatcherFunction,d=e.config,h=Object(i.o)(n);r=Object(i.c)({},Object(i.h)(h),r);var v={store:t,dataIdFromObject:d&&d.dataIdFromObject,cacheRedirects:d&&d.cacheRedirects||{}},y=this.executeStoreQuery({query:n,rootValue:{type:"id",id:f,generated:!0,typename:"Query"},contextValue:v,variableValues:r,fragmentMatcher:p}),b=y.missing&&y.missing.length>0;return b&&!c&&y.missing.forEach((function(e){if(!e.tolerable)throw new u.a(8)})),a&&Object(o.a)(a,y.result)&&(y.result=a),{result:y.result,complete:!b}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,a=e.fragmentMatcher,s=void 0===a?Ce:a,u=Object(i.l)(t),c=Object(i.j)(t),l={query:t,fragmentMap:Object(i.g)(c),contextValue:r,variableValues:o,fragmentMatcher:s};return this.executeSelectionSet({selectionSet:u.selectionSet,rootValue:n,execContext:l})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,o=e.rootValue,a=e.execContext,s=a.fragmentMap,c=a.contextValue,l=a.variableValues,f={result:null},p=[],d=c.store.get(o.id),h=d&&d.__typename||"ROOT_QUERY"===o.id&&"Query"||void 0;function v(e){var t;return e.missing&&(f.missing=f.missing||[],(t=f.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach((function(e){var n;if(Object(i.F)(e,l))if(Object(i.t)(e)){var f=v(t.executeField(d,h,e,a));void 0!==f&&p.push(((n={})[Object(i.E)(e)]=f,n))}else{var y=void 0;if(Object(i.v)(e))y=e;else if(!(y=s[e.name.value]))throw new u.a(9);var b=y.typeCondition&&y.typeCondition.name.value,m=!b||a.fragmentMatcher(o,b,c);if(m){var O=t.executeSelectionSet({selectionSet:y.selectionSet,rootValue:o,execContext:a});"heuristic"===m&&O.missing&&(O=Object(r.a)(Object(r.a)({},O),{missing:O.missing.map((function(e){return Object(r.a)(Object(r.a)({},e),{tolerable:!0})}))})),p.push(v(O))}}})),f.result=Object(i.B)(p),this.freezeResults,f},e.prototype.executeField=function(e,t,n,r){var o=r.variableValues,a=r.contextValue,s=function(e,t,n,r,o,a){a.resultKey;var s=a.directives,u=n;(r||s)&&(u=Object(i.p)(u,r,s));var c=void 0;if(e&&void 0===(c=e[u])&&o.cacheRedirects&&"string"==typeof t){var l=o.cacheRedirects[t];if(l){var f=l[n];f&&(c=f(e,r,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&Object(i.H)({id:t,typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:u,tolerable:!1}]};Object(i.w)(c)&&(c=c.json);return{result:c}}(e,t,n.name.value,Object(i.b)(n,o),a,{resultKey:Object(i.E)(n),directives:Object(i.i)(n,o)});return Array.isArray(s.result)?this.combineExecResults(s,this.executeSubSelectedArray({field:n,array:s.result,execContext:r})):n.selectionSet?null==s.result?s:this.combineExecResults(s,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:s.result,execContext:r})):(Ae(n,s.result),this.freezeResults,s)},e.prototype.combineExecResults=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)})),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,i=e.array,o=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map((function(e){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,execContext:o})):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:o})):(Ae(r,e),e)})),this.freezeResults,{result:i,missing:t}},e}();function Ae(e,t){if(!e.selectionSet&&Object(i.u)(t))throw new u.a(10)}function Ce(){return!0}function Fe(e){Object(u.b)(Object(i.u)(e),11)}var Qe=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();function Me(e){return new Qe(e)}var Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Object(r.c)(t,e),t}(Error);function Le(e,t){var n=new Pe("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}var qe=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,i=void 0===r?Re():r,o=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,o=e.store,a=void 0===o?Re():o,s=e.variables,u=e.dataIdFromObject,c=e.fragmentMatcherFunction,l=Object(i.m)(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:l.selectionSet,context:{store:a,processedData:{},variables:Object(i.c)({},Object(i.h)(l),s),dataIdFromObject:u,fragmentMap:Object(i.g)(Object(i.j)(r)),fragmentMatcherFunction:c}})}catch(e){throw Le(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,o=e.selectionSet,a=e.context,s=a.variables,c=a.store,l=a.fragmentMap;return o.selections.forEach((function(e){var o;if(Object(i.F)(e,s))if(Object(i.t)(e)){var c=Object(i.E)(e),f=n[c];if(void 0!==f)t.writeFieldToStore({dataId:r,value:f,field:e,context:a});else{var p=!1,d=!1;e.directives&&e.directives.length&&(p=e.directives.some((function(e){return e.name&&"defer"===e.name.value})),d=e.directives.some((function(e){return e.name&&"client"===e.name.value}))),!p&&!d&&a.fragmentMatcherFunction}}else{var h=void 0;Object(i.v)(e)?h=e:(h=(l||{})[e.name.value],Object(u.b)(h,3));var v=!0;if(a.fragmentMatcherFunction&&h.typeCondition){var y=r||"self",b=Object(i.H)({id:y,typename:void 0}),m={store:new Qe((o={},o[y]=n,o)),cacheRedirects:{}},O=a.fragmentMatcherFunction(b,h.typeCondition.name.value,m);Object(i.x)(),v=!!O}v&&t.writeSelectionSetToStore({result:n,selectionSet:h.selectionSet,dataId:r,context:a})}})),c},e.prototype.writeFieldToStore=function(e){var t,n,a,s=e.field,c=e.value,l=e.dataId,f=e.context,p=f.variables,d=f.dataIdFromObject,h=f.store,v=Object(i.G)(s,p);if(s.selectionSet&&null!==c)if(Array.isArray(c)){var y=l+"."+v;n=this.processArrayValue(c,y,s.selectionSet,f)}else{var b=l+"."+v,m=!0;if(Ke(b)||(b="$"+b),d){var O=d(c);Object(u.b)(!O||!Ke(O),4),(O||"number"==typeof O&&0===O)&&(b=O,m=!1)}Ve(b,s,f.processedData)||this.writeSelectionSetToStore({dataId:b,result:c,selectionSet:s.selectionSet,context:f});var g=c.__typename;n=Object(i.H)({id:b,typename:g},m);var k=(a=h.get(l))&&a[v];if(k!==n&&Object(i.u)(k)){var E=void 0!==k.typename,T=void 0!==g,w=E&&T&&k.typename!==g;Object(u.b)(!m||k.generated||w,5),Object(u.b)(!E||T,6),k.generated&&(w?m||h.delete(k.id):function e(t,n,a){if(t===n)return!1;var s=a.get(t),u=a.get(n),c=!1;Object.keys(s).forEach((function(t){var n=s[t],r=u[t];Object(i.u)(n)&&Ke(n.id)&&Object(i.u)(r)&&!Object(o.a)(n,r)&&e(n.id,r.id,a)&&(c=!0)})),a.delete(t);var l=Object(r.a)(Object(r.a)({},s),u);if(Object(o.a)(l,u))return c;return a.set(n,l),!0}(k.id,n.id,h))}}else n=null!=c&&"object"==typeof c?{type:"json",json:c}:c;(a=h.get(l))&&Object(o.a)(n,a[v])||h.set(l,Object(r.a)(Object(r.a)({},a),((t={})[v]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var o=this;return e.map((function(e,a){if(null===e)return null;var s=t+"."+a;if(Array.isArray(e))return o.processArrayValue(e,s,n,r);var u=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(e);c&&(s=c,u=!1)}return Ve(s,n,r.processedData)||o.writeSelectionSetToStore({dataId:s,result:e,selectionSet:n,context:r}),Object(i.H)({id:s,typename:e.__typename},u)}))},e}();function Ke(e){return"$"===e[0]}function Ve(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var Be={fragmentMatcher:new je,dataIdFromObject:Ue,addTypename:!0,resultCaching:!0,freezeResults:!1};function Ue(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null}var Ge=Object.prototype.hasOwnProperty,Ye=function(e){function t(t,n,r){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=n,i.transaction=r,i}return Object(r.c)(t,e),t.prototype.toObject=function(){return Object(r.a)(Object(r.a)({},this.parent.toObject()),this.data)},t.prototype.get=function(e){return Ge.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(Qe),Je=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new ge(i.e),n.silenceBroadcast=!1,n.config=Object(r.a)(Object(r.a)({},Be),t),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new Ne:new Qe,n.optimisticData=n.data,n.storeWriter=new qe,n.storeReader=new De({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var o=n,a=o.maybeBroadcastWatch;return n.maybeBroadcastWatch=we((function(e){return a.call(n,e)}),{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return o.data instanceof Ne?o.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return Object(r.c)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:n,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:n,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new u.a(7)},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof Ye;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new Ye(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(i.a)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(W),ze=n(20),We={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},He=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Xe=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new u.a(2);throw r.parseError=e,r}return n},$e=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,i=e.fetch,o=e.includeExtensions,a=e.useGETForQueries,c=Object(r.e)(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){throw"undefined"==typeof window&&"node-fetch",new u.a(1)}}(i),i||(i=fetch);var l={http:{includeExtensions:o},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new k((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),u={};if(o.clientAwareness){var c=o.clientAwareness,f=c.name,p=c.version;f&&(u["apollographql-client-name"]=f),p&&(u["apollographql-client-version"]=p)}var h,v=Object(r.a)({},u,o.headers),y={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:v},b=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=Object(r.a)({},t.options,{headers:t.headers,credentials:t.credentials}),a=t.http;n.forEach((function(e){o=Object(r.a)({},o,e.options,{headers:Object(r.a)({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),a=Object(r.a)({},a,e.http)}));var s=e.operationName,u=e.extensions,c=e.variables,l=e.query,f={operationName:s,variables:c};return a.includeExtensions&&(f.extensions=u),a.includeQuery&&(f.query=Object(ze.print)(l)),{options:o,body:f}}(e,We,l,y),m=b.options,O=b.body;if(!m.signal){var g=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),k=g.controller,E=g.signal;(h=k)&&(m.signal=E)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var T=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var i=void 0;try{i=Xe(t.variables)}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=Xe(t.extensions)}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+a}}(t,O),w=T.newURI,S=T.parseError;if(S)return d(S);t=w}else try{m.body=Xe(O)}catch(S){return d(S)}return new s((function(n){var r;return i(t,m).then((function(t){return e.setContext({response:t}),t})).then((r=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(t){return e.status>=300&&He(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||He(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){h&&h.abort()}}))}))};var Ze=function(e){function t(t){return e.call(this,$e(t).request)||this}return Object(r.c)(t,e),t}(k);function et(e){return new k((function(t,n){return new s((function(r){var i,o,a;try{i=n(t).subscribe({next:function(i){i.errors&&(a=e({graphQLErrors:i.errors,response:i,operation:t,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(i)},error:function(i){(a=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(i)},complete:function(){a||r.complete.bind(r)()}})}catch(i){e({networkError:i,operation:t,forward:n}),r.error(i)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}}))}))}!function(e){function t(t){var n=e.call(this)||this;return n.link=et(t),n}Object(r.c)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(k);var tt=n(5),nt=n.n(tt),rt=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version","resolvers","typeDefs","fragmentMatcher"],it=function(e){function t(t){void 0===t&&(t={});t&&Object.keys(t).filter((function(e){return-1===rt.indexOf(e)})).length;var n=t.request,r=t.uri,i=t.credentials,o=t.headers,a=t.fetch,c=t.fetchOptions,l=t.clientState,f=t.cacheRedirects,p=t.onError,d=t.name,h=t.version,v=t.resolvers,y=t.typeDefs,b=t.fragmentMatcher,m=t.cache;Object(u.b)(!m||!f,1),m||(m=f?new Je({cacheRedirects:f}):new Je);var O=et(p||function(e){var t=e.graphQLErrors;e.networkError;t&&t.forEach((function(e){e.message,e.locations,e.path;return!0}))}),g=!!n&&new k((function(e,t){return new s((function(r){var i;return Promise.resolve(e).then((function(e){return n(e)})).then((function(){i=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})})).catch(r.error.bind(r)),function(){i&&i.unsubscribe()}}))})),E=new Ze({uri:r||"/graphql",fetch:a,fetchOptions:c||{},credentials:i||"same-origin",headers:o||{}}),T=k.from([O,g,E].filter((function(e){return!!e}))),w=v,S=y,_=b;return l&&(l.defaults&&m.writeData({data:l.defaults}),w=l.resolvers,S=l.typeDefs,_=l.fragmentMatcher),e.call(this,{cache:m,link:T,name:d,version:h,resolvers:w,typeDefs:S,fragmentMatcher:_})||this}return Object(r.c)(t,e),t}(U);t.default=it}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvc3RvcmVVdGlscy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvZGlyZWN0aXZlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvZnJhZ21lbnRzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tdXRpbGl0aWVzL3NyYy91dGlsL2Fzc2lnbi50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvZ2V0RnJvbUFTVC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvdXRpbC9maWx0ZXJJblBsYWNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tdXRpbGl0aWVzL3NyYy90cmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fwb2xsby11dGlsaXRpZXMvc3JjL3V0aWwvY2FuVXNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tdXRpbGl0aWVzL3NyYy91dGlsL2Nsb25lRGVlcC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvdXRpbC9lbnZpcm9ubWVudC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvdXRpbC9lcnJvckhhbmRsaW5nLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tdXRpbGl0aWVzL3NyYy91dGlsL21heWJlRGVlcEZyZWV6ZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLXV0aWxpdGllcy9zcmMvdXRpbC9tZXJnZURlZXAudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fwb2xsby11dGlsaXRpZXMvc3JjL3V0aWwvd2Fybk9uY2UudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzLWludmFyaWFudC9zcmMvaW52YXJpYW50LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsL2xhbmd1YWdlL3Zpc2l0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvbGFuZ3VhZ2UvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsLXRhZy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdyeS9lcXVhbGl0eS9zcmMvZXF1YWxpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvanN1dGlscy9pbnNwZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsL2pzdXRpbHMvbm9kZWpzQ3VzdG9tSW5zcGVjdFN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9sYW5ndWFnZS9ibG9ja1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9qc3V0aWxzL2RldkFzc2VydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9lcnJvci9zeW50YXhFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9wb2x5ZmlsbHMvc3ltYm9scy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9sYW5ndWFnZS9sb2NhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9sYW5ndWFnZS90b2tlbktpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvemVuLW9ic2VydmFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zhc3QtanNvbi1zdGFibGUtc3RyaW5naWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsL2xhbmd1YWdlL3ByaW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2Fwb2xsby50cyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9oYXJtb255LW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvemVuLW9ic2VydmFibGUvbGliL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvanN1dGlscy9kZWZpbmVJbnNwZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsL2pzdXRpbHMvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmFwaHFsL2xhbmd1YWdlL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9lcnJvci9HcmFwaFFMRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvanN1dGlscy9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvbGFuZ3VhZ2UvcHJpbnRMb2NhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9sYW5ndWFnZS9raW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC9sYW5ndWFnZS9zb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvbGFuZ3VhZ2UvZGlyZWN0aXZlTG9jYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwvbGFuZ3VhZ2UvbGV4ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9xdWVyaWVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS10cy9zcmMvemVuT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWxpbmsvc3JjL2xpbmtVdGlscy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWxpbmsvc3JjL2xpbmsudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy9jb3JlL25ldHdvcmtTdGF0dXMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy91dGlsL09ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy91dGlsL2FycmF5cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3JjL2Vycm9ycy9BcG9sbG9FcnJvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3JjL2NvcmUvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy9jb3JlL09ic2VydmFibGVRdWVyeS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3JjL2RhdGEvbXV0YXRpb25zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvZGF0YS9xdWVyaWVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvY29yZS9Mb2NhbFN0YXRlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvdXRpbC9jYXBpdGFsaXplRmlyc3RMZXR0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy91dGlsL29ic2VydmFibGVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvY29yZS9RdWVyeU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NyYy9kYXRhL3N0b3JlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvQXBvbGxvQ2xpZW50LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcmMvdmVyc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlL3NyYy90eXBlcy9DYWNoZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlL3NyYy9jYWNoZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdyeS9jb250ZXh0L3NyYy9zbG90LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad3J5L2NvbnRleHQvc3JjL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29wdGltaXNtL3NyYy9jYWNoZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3B0aW1pc20vc3JjL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29wdGltaXNtL3NyYy9lbnRyeS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3B0aW1pc20vc3JjL2tleS10cmllLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vcHRpbWlzbS9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fwb2xsby1jYWNoZS1pbm1lbW9yeS9zcmMvZnJhZ21lbnRNYXRjaGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tY2FjaGUtaW5tZW1vcnkvc3JjL2RlcFRyYWNraW5nQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fwb2xsby1jYWNoZS1pbm1lbW9yeS9zcmMvcmVhZEZyb21TdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlLWlubWVtb3J5L3NyYy9vYmplY3RDYWNoZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlLWlubWVtb3J5L3NyYy93cml0ZVRvU3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fwb2xsby1jYWNoZS1pbm1lbW9yeS9zcmMvaW5NZW1vcnlDYWNoZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWxpbmstaHR0cC1jb21tb24vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tbGluay1odHRwL3NyYy9odHRwTGluay50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWxpbmstZXJyb3Ivc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcG9sbG8tYm9vc3Qvc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZXh0ZW5kU3RhdGljcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiX19yZXN0IiwiZSIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJhIiwiaiIsImpsIiwidmFsdWVUb09iamVjdFJlcHJlc2VudGF0aW9uIiwiYXJnT2JqIiwidmFyaWFibGVzIiwia2luZCIsImlzSW50VmFsdWUiLCJpc0Zsb2F0VmFsdWUiLCJOdW1iZXIiLCJpc0Jvb2xlYW5WYWx1ZSIsImlzU3RyaW5nVmFsdWUiLCJpc09iamVjdFZhbHVlIiwiZmllbGRzIiwibWFwIiwib2JqIiwiaXNWYXJpYWJsZSIsInZhcmlhYmxlVmFsdWUiLCJpc0xpc3RWYWx1ZSIsInZhbHVlcyIsImxpc3RWYWx1ZSIsIm5lc3RlZEFyZ0FycmF5T2JqIiwiaXNFbnVtVmFsdWUiLCJpc051bGxWYWx1ZSIsInN0b3JlS2V5TmFtZUZyb21GaWVsZCIsImZpZWxkIiwiZGlyZWN0aXZlc09iaiIsImRpcmVjdGl2ZXMiLCJmb3JFYWNoIiwiZGlyZWN0aXZlIiwiZ2V0U3RvcmVLZXlOYW1lIiwiS05PV05fRElSRUNUSVZFUyIsImZpZWxkTmFtZSIsImFyZ3MiLCJmaWx0ZXJLZXlzIiwic29ydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21wbGV0ZUZpZWxkTmFtZSIsInN0cmluZ2lmaWVkQXJncyIsImtleXMiLCJhcmd1bWVudHNPYmplY3RGcm9tRmllbGQiLCJyZXN1bHRLZXlOYW1lRnJvbUZpZWxkIiwiYWxpYXMiLCJpc0ZpZWxkIiwic2VsZWN0aW9uIiwiaXNJbmxpbmVGcmFnbWVudCIsImlzSWRWYWx1ZSIsImlkT2JqZWN0IiwidHlwZSIsImdlbmVyYXRlZCIsInRvSWRWYWx1ZSIsImlkQ29uZmlnIiwiaWQiLCJ0eXBlbmFtZSIsInVuZGVmaW5lZCIsImlzSnNvblZhbHVlIiwianNvbk9iamVjdCIsImdldERpcmVjdGl2ZUluZm9Gcm9tRmllbGQiLCJzaG91bGRJbmNsdWRlIiwiZmlsdGVyIiwiaXNJbmNsdXNpb25EaXJlY3RpdmUiLCJkaXJlY3RpdmVBcmd1bWVudHMiLCJpZkFyZ3VtZW50IiwiaWZWYWx1ZSIsImV2ZXJ5IiwiZXZhbGVkVmFsdWUiLCJoYXNEaXJlY3RpdmVzIiwibmFtZXMiLCJkb2MiLCJEaXJlY3RpdmUiLCJub2RlIiwiZ2V0RGlyZWN0aXZlTmFtZXMiLCJzb21lIiwiaGFzQ2xpZW50RXhwb3J0cyIsImRvY3VtZW50IiwiZ2V0RnJhZ21lbnRRdWVyeURvY3VtZW50IiwiZnJhZ21lbnROYW1lIiwiYWN0dWFsRnJhZ21lbnROYW1lIiwiZnJhZ21lbnRzIiwiZGVmaW5pdGlvbnMiLCJkZWZpbml0aW9uIiwib3BlcmF0aW9uIiwic2VsZWN0aW9uU2V0Iiwic2VsZWN0aW9ucyIsInRhcmdldCIsInNvdXJjZXMiLCJzb3VyY2UiLCJjaGVja0RvY3VtZW50Iiwib3BlcmF0aW9ucyIsImdldE9wZXJhdGlvbkRlZmluaXRpb24iLCJnZXRPcGVyYXRpb25OYW1lIiwieCIsImdldEZyYWdtZW50RGVmaW5pdGlvbnMiLCJnZXRRdWVyeURlZmluaXRpb24iLCJxdWVyeURlZiIsImdldE1haW5EZWZpbml0aW9uIiwicXVlcnlEb2MiLCJmcmFnbWVudERlZmluaXRpb24iLCJjcmVhdGVGcmFnbWVudE1hcCIsInN5bVRhYmxlIiwiZnJhZ21lbnQiLCJnZXREZWZhdWx0VmFsdWVzIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRlZmF1bHRWYWx1ZXMiLCJkZWZhdWx0VmFsdWUiLCJ2YXJpYWJsZSIsImRlZmF1bHRWYWx1ZU9iaiIsImZpbHRlckluUGxhY2UiLCJhcnJheSIsInRlc3QiLCJjb250ZXh0IiwiZWxlbSIsIlRZUEVOQU1FX0ZJRUxEIiwibnVsbElmRG9jSXNFbXB0eSIsImlzRW1wdHkiLCJmcmFnbWVudERlZiIsImdldEZyYWdtZW50RGVmaW5pdGlvbiIsImdldERpcmVjdGl2ZU1hdGNoZXIiLCJkaXIiLCJyZW1vdmVEaXJlY3RpdmVzRnJvbURvY3VtZW50IiwidmFyaWFibGVzSW5Vc2UiLCJ2YXJpYWJsZXNUb1JlbW92ZSIsImZyYWdtZW50U3ByZWFkc0luVXNlIiwiZnJhZ21lbnRTcHJlYWRzVG9SZW1vdmUiLCJtb2RpZmllZERvYyIsIlZhcmlhYmxlIiwiZW50ZXIiLCJfa2V5IiwicGFyZW50IiwiRmllbGQiLCJyZW1vdmUiLCJhcmciLCJnZXRBbGxGcmFnbWVudFNwcmVhZHNGcm9tU2VsZWN0aW9uU2V0IiwiYWxsRnJhZ21lbnRzIiwiZnJhZyIsIkZyYWdtZW50U3ByZWFkIiwiY29uZmlnIiwiYXJnTWF0Y2hlciIsImFyZ3VtZW50IiwiYUNvbmZpZyIsImdldEFyZ3VtZW50TWF0Y2hlciIsIk9wZXJhdGlvbkRlZmluaXRpb24iLCJ2YXJEZWYiLCJhcmdDb25maWciLCJBcmd1bWVudCIsInJlbW92ZUFyZ3VtZW50c0Zyb21Eb2N1bWVudCIsImZzIiwiZGVmIiwiRnJhZ21lbnREZWZpbml0aW9uIiwicmVtb3ZlRnJhZ21lbnRTcHJlYWRGcm9tRG9jdW1lbnQiLCJhZGRUeXBlbmFtZVRvRG9jdW1lbnQiLCJTZWxlY3Rpb25TZXQiLCJsYXN0SW5kZXhPZiIsImNvbm5lY3Rpb25SZW1vdmVDb25maWciLCJ3aWxsUmVtb3ZlIiwicmVtb3ZlQ29ubmVjdGlvbkRpcmVjdGl2ZUZyb21Eb2N1bWVudCIsImJ1aWxkUXVlcnlGcm9tU2VsZWN0aW9uU2V0IiwicmVtb3ZlQ2xpZW50U2V0c0Zyb21Eb2N1bWVudCIsImNhblVzZVdlYWtNYXAiLCJXZWFrTWFwIiwibmF2aWdhdG9yIiwicHJvZHVjdCIsInRvU3RyaW5nIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwSGVscGVyIiwidmFsIiwic2VlbiIsImhhcyIsInNsaWNlIiwic2V0IiwiY2hpbGQiLCJnZXRQcm90b3R5cGVPZiIsIk1hcCIsImlzRW52IiwiZW52IiwicHJvY2VzcyIsImlzUHJvZHVjdGlvbiIsImlzVGVzdCIsInRyeUZ1bmN0aW9uT3JMb2dFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsImdyYXBoUUxSZXN1bHRIYXNFcnJvciIsImVycm9ycyIsIm1heWJlRGVlcEZyZWV6ZSIsImRlZXBGcmVlemUiLCJmcmVlemUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwicHJvcCIsImlzRnJvemVuIiwibWVyZ2VEZWVwIiwibWVyZ2VEZWVwQXJyYXkiLCJjb3VudCIsInBhc3RDb3BpZXMiLCJzaGFsbG93Q29weUZvck1lcmdlIiwibWVyZ2VIZWxwZXIiLCJpc09iamVjdCIsImlzRXh0ZW5zaWJsZSIsInNvdXJjZUtleSIsInNvdXJjZVZhbHVlIiwidGFyZ2V0VmFsdWUiLCJpc0FycmF5IiwibWVzc2FnZSIsImdlbmVyaWNNZXNzYWdlIiwiZnJhbWVzVG9Qb3AiLCJJbnZhcmlhbnRFcnJvciIsInRzbGliXzEuX19leHRlbmRzIiwiRXJyb3IiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJ3cmFwQ29uc29sZU1ldGhvZCIsIm1ldGhvZCIsIndhcm4iLCJwcm9jZXNzU3R1YiIsIkZ1bmN0aW9uIiwiYXRMZWFzdFdlVHJpZWQiLCJ2aXNpdCIsInJvb3QiLCJ2aXNpdG9yIiwidmlzaXRvcktleXMiLCJRdWVyeURvY3VtZW50S2V5cyIsInN0YWNrIiwiaW5BcnJheSIsImluZGV4IiwiZWRpdHMiLCJwYXRoIiwiYW5jZXN0b3JzIiwibmV3Um9vdCIsImlzTGVhdmluZyIsImlzRWRpdGVkIiwiY2xvbmUiLCJfaTIiLCJfT2JqZWN0JGtleXMyIiwiZWRpdE9mZnNldCIsImlpIiwiZWRpdEtleSIsImVkaXRWYWx1ZSIsInNwbGljZSIsInByZXYiLCJfdmlzaXRvcktleXMkbm9kZSRraW4iLCJfYXN0IiwiaXNOb2RlIiwiY29uY2F0IiwiX2luc3BlY3QiLCJkZWZhdWx0IiwidmlzaXRGbiIsImdldFZpc2l0Rm4iLCJCUkVBSyIsInZpc2l0SW5QYXJhbGxlbCIsInZpc2l0b3JzIiwic2tpcHBpbmciLCJmbiIsImxlYXZlIiwiTmFtZSIsIkRvY3VtZW50IiwiVmFyaWFibGVEZWZpbml0aW9uIiwiSW5saW5lRnJhZ21lbnQiLCJJbnRWYWx1ZSIsIkZsb2F0VmFsdWUiLCJTdHJpbmdWYWx1ZSIsIkJvb2xlYW5WYWx1ZSIsIk51bGxWYWx1ZSIsIkVudW1WYWx1ZSIsIkxpc3RWYWx1ZSIsIk9iamVjdFZhbHVlIiwiT2JqZWN0RmllbGQiLCJOYW1lZFR5cGUiLCJMaXN0VHlwZSIsIk5vbk51bGxUeXBlIiwiU2NoZW1hRGVmaW5pdGlvbiIsIk9wZXJhdGlvblR5cGVEZWZpbml0aW9uIiwiU2NhbGFyVHlwZURlZmluaXRpb24iLCJPYmplY3RUeXBlRGVmaW5pdGlvbiIsIkZpZWxkRGVmaW5pdGlvbiIsIklucHV0VmFsdWVEZWZpbml0aW9uIiwiSW50ZXJmYWNlVHlwZURlZmluaXRpb24iLCJVbmlvblR5cGVEZWZpbml0aW9uIiwiRW51bVR5cGVEZWZpbml0aW9uIiwiRW51bVZhbHVlRGVmaW5pdGlvbiIsIklucHV0T2JqZWN0VHlwZURlZmluaXRpb24iLCJEaXJlY3RpdmVEZWZpbml0aW9uIiwiU2NoZW1hRXh0ZW5zaW9uIiwiU2NhbGFyVHlwZUV4dGVuc2lvbiIsIk9iamVjdFR5cGVFeHRlbnNpb24iLCJJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uIiwiVW5pb25UeXBlRXh0ZW5zaW9uIiwiRW51bVR5cGVFeHRlbnNpb24iLCJJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24iLCJraW5kVmlzaXRvciIsImtpbmRTcGVjaWZpY1Zpc2l0b3IiLCJzcGVjaWZpY1Zpc2l0b3IiLCJzcGVjaWZpY0tpbmRWaXNpdG9yIiwibWF5YmVOb2RlIiwiVG9rZW4iLCJMb2NhdGlvbiIsIl9kZWZpbmVJbnNwZWN0Iiwic3RhcnRUb2tlbiIsImVuZFRva2VuIiwic3RhcnQiLCJlbmQiLCJ0b0pTT04iLCJsaW5lIiwiY29sdW1uIiwicGFyc2UiLCJub3JtYWxpemUiLCJzdHJpbmciLCJyZXBsYWNlIiwidHJpbSIsImRvY0NhY2hlIiwiZnJhZ21lbnRTb3VyY2VNYXAiLCJwcmludEZyYWdtZW50V2FybmluZ3MiLCJleHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyIsInBhcnNlRG9jdW1lbnQiLCJjYWNoZUtleSIsInBhcnNlZCIsInN0cmlwTG9jIiwicmVtb3ZlTG9jQXRUaGlzTGV2ZWwiLCJkb2NUeXBlIiwibG9jIiwidmFsdWVUeXBlIiwiYXN0IiwiYXN0RnJhZ21lbnRNYXAiLCJzdWJzdHJpbmciLCJwcm9jZXNzRnJhZ21lbnRzIiwiZ3FsIiwibGl0ZXJhbHMiLCJyZXNldENhY2hlcyIsImRpc2FibGVGcmFnbWVudFdhcm5pbmdzIiwiZW5hYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXMiLCJkaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwicHJldmlvdXNDb21wYXJpc29ucyIsImVxdWFsIiwiY2hlY2siLCJhVGFnIiwiYlRhZyIsInByZXZpb3VzbHlDb21wYXJlZCIsImFLZXlzIiwiYktleXMiLCJrZXlDb3VudCIsInNpemUiLCJhSXRlcmF0b3IiLCJlbnRyaWVzIiwiaXNNYXAiLCJpbmZvIiwiYUtleSIsImFWYWx1ZSIsImNsZWFyIiwiYlNldCIsIlNldCIsImFkZCIsImZvcm1hdFZhbHVlIiwiX25vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2wiLCJfdHlwZW9mIiwic2VlblZhbHVlcyIsInByZXZpb3VzbHlTZWVuVmFsdWVzIiwiY3VzdG9tSW5zcGVjdEZuIiwiU3RyaW5nIiwiaW5zcGVjdCIsImdldEN1c3RvbUZuIiwiY3VzdG9tVmFsdWUiLCJNYXRoIiwibWluIiwicmVtYWluaW5nIiwiaXRlbXMiLCJqb2luIiwiZm9ybWF0QXJyYXkiLCJ0YWciLCJnZXRPYmplY3RUYWciLCJmb3JtYXRPYmplY3QiLCJmb3JtYXRPYmplY3RWYWx1ZSIsIl9kZWZhdWx0IiwiZm9yIiwiZ2V0QmxvY2tTdHJpbmdJbmRlbnRhdGlvbiIsImxpbmVzIiwiY29tbW9uSW5kZW50IiwiaW5kZW50IiwibGVhZGluZ1doaXRlc3BhY2UiLCJzdHIiLCJpc0JsYW5rIiwiZGVkZW50QmxvY2tTdHJpbmdWYWx1ZSIsInJhd1N0cmluZyIsInNwbGl0Iiwic2hpZnQiLCJwcmludEJsb2NrU3RyaW5nIiwiaW5kZW50YXRpb24iLCJwcmVmZXJNdWx0aXBsZUxpbmVzIiwiaXNTaW5nbGVMaW5lIiwiaGFzTGVhZGluZ1NwYWNlIiwiaGFzVHJhaWxpbmdRdW90ZSIsImhhc1RyYWlsaW5nU2xhc2giLCJwcmludEFzTXVsdGlwbGVMaW5lcyIsIkJvb2xlYW4iLCJzeW50YXhFcnJvciIsInBvc2l0aW9uIiwiZGVzY3JpcHRpb24iLCJfR3JhcGhRTEVycm9yIiwiR3JhcGhRTEVycm9yIiwiU1lNQk9MX1RPX1NUUklOR19UQUciLCJTWU1CT0xfQVNZTkNfSVRFUkFUT1IiLCJTWU1CT0xfSVRFUkFUT1IiLCJhc3luY0l0ZXJhdG9yIiwiZ2V0TG9jYXRpb24iLCJtYXRjaCIsImxpbmVSZWdleHAiLCJleGVjIiwiVG9rZW5LaW5kIiwiU09GIiwiRU9GIiwiQkFORyIsIkRPTExBUiIsIkFNUCIsIlBBUkVOX0wiLCJQQVJFTl9SIiwiU1BSRUFEIiwiQ09MT04iLCJFUVVBTFMiLCJBVCIsIkJSQUNLRVRfTCIsIkJSQUNLRVRfUiIsIkJSQUNFX0wiLCJQSVBFIiwiQlJBQ0VfUiIsIk5BTUUiLCJJTlQiLCJGTE9BVCIsIlNUUklORyIsIkJMT0NLX1NUUklORyIsIkNPTU1FTlQiLCJzZWxmIiwid2luZG93IiwiZ2xvYmFsIiwic3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsIiwib2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJkYXRhIiwib3B0cyIsImNtcCIsImN5Y2xlcyIsImFvYmoiLCJib2JqIiwiaXNGaW5pdGUiLCJvdXQiLCJzZWVuSW5kZXgiLCJwcmludCIsIl92aXNpdG9yIiwicHJpbnREb2NBU1RSZWR1Y2VyIiwiX2Jsb2NrU3RyaW5nIiwidmFyRGVmcyIsIndyYXAiLCJfcmVmIiwiX3JlZjIiLCJibG9jayIsIl9yZWYzIiwiX3JlZjQiLCJfcmVmNSIsIl9yZWY2IiwidHlwZUNvbmRpdGlvbiIsIl9yZWY3IiwiX3JlZjgiLCJfcmVmOSIsIl9yZWYxMCIsIl9yZWYxMSIsIl9yZWYxMiIsIl9yZWYxMyIsIl9yZWYxNCIsIl9yZWYxNSIsIl9yZWYxNiIsIl9yZWYxNyIsIl9yZWYxOCIsIl9yZWYxOSIsImFkZERlc2NyaXB0aW9uIiwiX3JlZjIwIiwib3BlcmF0aW9uVHlwZXMiLCJfcmVmMjEiLCJfcmVmMjIiLCJfcmVmMjMiLCJpbnRlcmZhY2VzIiwiX3JlZjI0IiwiaGFzTXVsdGlsaW5lSXRlbXMiLCJfcmVmMjUiLCJfcmVmMjYiLCJfcmVmMjciLCJ0eXBlcyIsIl9yZWYyOCIsIl9yZWYyOSIsIl9yZWYzMCIsIl9yZWYzMSIsInJlcGVhdGFibGUiLCJsb2NhdGlvbnMiLCJfcmVmMzIiLCJfcmVmMzMiLCJfcmVmMzQiLCJfcmVmMzUiLCJfcmVmMzYiLCJfcmVmMzciLCJfcmVmMzgiLCJjYiIsIm1heWJlQXJyYXkiLCJfbWF5YmVBcnJheSRmaWx0ZXIkam8iLCJzZXBhcmF0b3IiLCJtYXliZVN0cmluZyIsImlzTXVsdGlsaW5lIiwiYXBvbGxvQ2xpZW50IiwiY3JlYXRlQXBvbGxvQ2xpZW50IiwiZ2V0TG9uZG9uVXNlcnMiLCJtb2NrQ2xpZW50IiwicXVlcnkiLCJMT05ET05fVVNFUlMiLCJ1c2VycyIsInJlbmRlclJlc3VsdHMiLCJsaXN0IiwidXNlciIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJlbWFpbCIsImlwX2FkZHJlc3MiLCJkaXN0YW5jZSIsImxpdmVzSW5Mb25kb24iLCJ0b0ZpeGVkIiwicmVuZGVyVXNlckxpc3QiLCJhcHAiLCJxdWVyeVNlbGVjdG9yIiwicmVuZGVyIiwiaHRtbCIsImlubmVySFRNTCIsImxvbmRvblVzZXJzIiwiY2FjaGUiLCJJbk1lbW9yeUNhY2hlIiwidXJpIiwib3JpZ2luYWxNb2R1bGUiLCJ3ZWJwYWNrUG9seWZpbGwiLCJjaGlsZHJlbiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiaGFzU3ltYm9scyIsImhhc1N5bWJvbCIsImdldFN5bWJvbCIsIlN5bWJvbEl0ZXJhdG9yIiwiU3ltYm9sT2JzZXJ2YWJsZSIsIlN5bWJvbFNwZWNpZXMiLCJnZXRNZXRob2QiLCJnZXRTcGVjaWVzIiwiY3RvciIsImlzT2JzZXJ2YWJsZSIsImhvc3RSZXBvcnRFcnJvciIsImxvZyIsImVucXVldWUiLCJjbGVhbnVwU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uIiwiY2xlYW51cCIsIl9jbGVhbnVwIiwidW5zdWJzY3JpYmUiLCJjbG9zZVN1YnNjcmlwdGlvbiIsIl9vYnNlcnZlciIsIl9xdWV1ZSIsIl9zdGF0ZSIsIm5vdGlmeVN1YnNjcmlwdGlvbiIsIm9ic2VydmVyIiwib25Ob3RpZnkiLCJmbHVzaFN1YnNjcmlwdGlvbiIsIlN1YnNjcmlwdGlvbiIsInN1YnNjcmliZXIiLCJzdWJzY3JpcHRpb25PYnNlcnZlciIsIlN1YnNjcmlwdGlvbk9ic2VydmVyIiwiX3N1YnNjcmlwdGlvbiIsIl9zdWJzY3JpYmVyIiwiY29tcGxldGUiLCJfdGhpcyIsInN1YnNjcmliZSIsIl90aGlzMiIsIl90aGlzMyIsIl90aGlzNCIsIkMiLCJoYXNTZWVkIiwiaGFzVmFsdWUiLCJzZWVkIiwiYWNjIiwiZmlyc3QiLCJfdGhpczUiLCJfbGVuIiwic3RhcnROZXh0IiwiZnJvbSIsIl90aGlzNiIsInN1YnNjcmlwdGlvbnMiLCJvdXRlciIsImlubmVyIiwiY29tcGxldGVJZkRvbmUiLCJjbG9zZWQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2l0ZW0iLCJlcnIiLCJyZXR1cm4iLCJfbGVuMiIsIl9rZXkyIiwic3ltYm9sIiwiY2xhc3NPYmplY3QiLCJfaW52YXJpYW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9wdGlvbnMiLCJQYXJzZXIiLCJwYXJzZVZhbHVlIiwicGFyc2VyIiwiZXhwZWN0VG9rZW4iLCJfdG9rZW5LaW5kIiwicGFyc2VWYWx1ZUxpdGVyYWwiLCJwYXJzZVR5cGUiLCJwYXJzZVR5cGVSZWZlcmVuY2UiLCJfZGV2QXNzZXJ0IiwiX3N5bnRheEVycm9yIiwiX2tpbmRzIiwiX3NvdXJjZSIsIl9kaXJlY3RpdmVMb2NhdGlvbiIsIl9sZXhlciIsInNvdXJjZU9iaiIsIlNvdXJjZSIsIkxleGVyIiwiX29wdGlvbnMiLCJfcHJvdG8iLCJwYXJzZU5hbWUiLCJ0b2tlbiIsIktpbmQiLCJET0NVTUVOVCIsIm1hbnkiLCJwYXJzZURlZmluaXRpb24iLCJwZWVrIiwicGFyc2VPcGVyYXRpb25EZWZpbml0aW9uIiwicGFyc2VGcmFnbWVudERlZmluaXRpb24iLCJwYXJzZVR5cGVTeXN0ZW1EZWZpbml0aW9uIiwicGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uIiwicGVla0Rlc2NyaXB0aW9uIiwidW5leHBlY3RlZCIsIk9QRVJBVElPTl9ERUZJTklUSU9OIiwicGFyc2VTZWxlY3Rpb25TZXQiLCJwYXJzZU9wZXJhdGlvblR5cGUiLCJwYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMiLCJwYXJzZURpcmVjdGl2ZXMiLCJvcGVyYXRpb25Ub2tlbiIsIm9wdGlvbmFsTWFueSIsInBhcnNlVmFyaWFibGVEZWZpbml0aW9uIiwiVkFSSUFCTEVfREVGSU5JVElPTiIsInBhcnNlVmFyaWFibGUiLCJleHBlY3RPcHRpb25hbFRva2VuIiwiVkFSSUFCTEUiLCJTRUxFQ1RJT05fU0VUIiwicGFyc2VTZWxlY3Rpb24iLCJwYXJzZUZyYWdtZW50IiwicGFyc2VGaWVsZCIsIm5hbWVPckFsaWFzIiwiRklFTEQiLCJwYXJzZUFyZ3VtZW50cyIsImlzQ29uc3QiLCJpdGVtIiwicGFyc2VDb25zdEFyZ3VtZW50IiwicGFyc2VBcmd1bWVudCIsIkFSR1VNRU5UIiwiaGFzVHlwZUNvbmRpdGlvbiIsImV4cGVjdE9wdGlvbmFsS2V5d29yZCIsIkZSQUdNRU5UX1NQUkVBRCIsInBhcnNlRnJhZ21lbnROYW1lIiwiSU5MSU5FX0ZSQUdNRU5UIiwicGFyc2VOYW1lZFR5cGUiLCJfdGhpcyRfb3B0aW9ucyIsImV4cGVjdEtleXdvcmQiLCJGUkFHTUVOVF9ERUZJTklUSU9OIiwicGFyc2VMaXN0IiwicGFyc2VPYmplY3QiLCJhZHZhbmNlIiwicGFyc2VTdHJpbmdMaXRlcmFsIiwiQk9PTEVBTiIsIk5VTEwiLCJFTlVNIiwiTElTVCIsImFueSIsIk9CSkVDVCIsInBhcnNlT2JqZWN0RmllbGQiLCJPQkpFQ1RfRklFTEQiLCJwYXJzZURpcmVjdGl2ZSIsIkRJUkVDVElWRSIsIkxJU1RfVFlQRSIsIk5PTl9OVUxMX1RZUEUiLCJOQU1FRF9UWVBFIiwia2V5d29yZFRva2VuIiwibG9va2FoZWFkIiwicGFyc2VTY2hlbWFEZWZpbml0aW9uIiwicGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbiIsInBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24iLCJwYXJzZUludGVyZmFjZVR5cGVEZWZpbml0aW9uIiwicGFyc2VVbmlvblR5cGVEZWZpbml0aW9uIiwicGFyc2VFbnVtVHlwZURlZmluaXRpb24iLCJwYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24iLCJwYXJzZURpcmVjdGl2ZURlZmluaXRpb24iLCJwYXJzZURlc2NyaXB0aW9uIiwicGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbiIsIlNDSEVNQV9ERUZJTklUSU9OIiwiT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTiIsIlNDQUxBUl9UWVBFX0RFRklOSVRJT04iLCJwYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzIiwicGFyc2VGaWVsZHNEZWZpbml0aW9uIiwiT0JKRUNUX1RZUEVfREVGSU5JVElPTiIsIl90aGlzJF9vcHRpb25zMiIsImFsbG93TGVnYWN5U0RMSW1wbGVtZW50c0ludGVyZmFjZXMiLCJfdGhpcyRfb3B0aW9uczMiLCJhbGxvd0xlZ2FjeVNETEVtcHR5RmllbGRzIiwicGFyc2VGaWVsZERlZmluaXRpb24iLCJwYXJzZUFyZ3VtZW50RGVmcyIsIkZJRUxEX0RFRklOSVRJT04iLCJwYXJzZUlucHV0VmFsdWVEZWYiLCJJTlBVVF9WQUxVRV9ERUZJTklUSU9OIiwiSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTiIsInBhcnNlVW5pb25NZW1iZXJUeXBlcyIsIlVOSU9OX1RZUEVfREVGSU5JVElPTiIsInBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24iLCJFTlVNX1RZUEVfREVGSU5JVElPTiIsInBhcnNlRW51bVZhbHVlRGVmaW5pdGlvbiIsIkVOVU1fVkFMVUVfREVGSU5JVElPTiIsInBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uIiwiSU5QVVRfT0JKRUNUX1RZUEVfREVGSU5JVElPTiIsInBhcnNlU2NoZW1hRXh0ZW5zaW9uIiwicGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uIiwicGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uIiwicGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uIiwicGFyc2VVbmlvblR5cGVFeHRlbnNpb24iLCJwYXJzZUVudW1UeXBlRXh0ZW5zaW9uIiwicGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24iLCJTQ0hFTUFfRVhURU5TSU9OIiwiU0NBTEFSX1RZUEVfRVhURU5TSU9OIiwiT0JKRUNUX1RZUEVfRVhURU5TSU9OIiwiSU5URVJGQUNFX1RZUEVfRVhURU5TSU9OIiwiVU5JT05fVFlQRV9FWFRFTlNJT04iLCJFTlVNX1RZUEVfRVhURU5TSU9OIiwiSU5QVVRfT0JKRUNUX1RZUEVfRVhURU5TSU9OIiwicGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMiLCJESVJFQ1RJVkVfREVGSU5JVElPTiIsInBhcnNlRGlyZWN0aXZlTG9jYXRpb24iLCJEaXJlY3RpdmVMb2NhdGlvbiIsIl90aGlzJF9vcHRpb25zNCIsIm5vTG9jYXRpb24iLCJsYXN0VG9rZW4iLCJnZXRUb2tlbktpbmREZXNjIiwiZ2V0VG9rZW5EZXNjIiwiYXRUb2tlbiIsIm9wZW5LaW5kIiwicGFyc2VGbiIsImNsb3NlS2luZCIsIm5vZGVzIiwiaXNQdW5jdHVhdG9yVG9rZW5LaW5kIiwicHJpbnRFcnJvciIsIl9pc09iamVjdExpa2UiLCJfc3ltYm9scyIsIl9sb2NhdGlvbiIsIl9wcmludExvY2F0aW9uIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiUmVmZXJlbmNlRXJyb3IiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiQ2xhc3MiLCJfY2FjaGUiLCJXcmFwcGVyIiwiX2NvbnN0cnVjdCIsIl9nZXRQcm90b3R5cGVPZiIsIl9zZXRQcm90b3R5cGVPZiIsIlBhcmVudCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsIl9FcnJvciIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9pbmhlcml0cyIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX3N1cGVyIiwiU3VwZXIiLCJOZXdUYXJnZXQiLCJwb3NpdGlvbnMiLCJvcmlnaW5hbEVycm9yIiwiZXh0ZW5zaW9ucyIsIl9sb2NhdGlvbnMyIiwiX3NvdXJjZTIiLCJfcG9zaXRpb25zMiIsIl9leHRlbnNpb25zMiIsIl9ub2RlcyQwJGxvYyIsIl9ub2RlcyIsIl9sb2NhdGlvbnMiLCJfcG9zaXRpb25zIiwicmVkdWNlIiwicG9zIiwiX2V4dGVuc2lvbnMiLCJvcmlnaW5hbEV4dGVuc2lvbnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJvdXRwdXQiLCJfZXJyb3Ikbm9kZXMyIiwicHJpbnRMb2NhdGlvbiIsIl9pNCIsIl9lcnJvciRsb2NhdGlvbnMyIiwibG9jYXRpb24iLCJwcmludFNvdXJjZUxvY2F0aW9uIiwic291cmNlTG9jYXRpb24iLCJmaXJzdExpbmVDb2x1bW5PZmZzZXQiLCJsb2NhdGlvbk9mZnNldCIsIndoaXRlc3BhY2UiLCJsaW5lSW5kZXgiLCJsaW5lT2Zmc2V0IiwibGluZU51bSIsImNvbHVtbk9mZnNldCIsImNvbHVtbk51bSIsImxvY2F0aW9uU3RyIiwibG9jYXRpb25MaW5lIiwic3ViTGluZUluZGV4IiwiZmxvb3IiLCJzdWJMaW5lQ29sdW1uTnVtIiwic3ViTGluZXMiLCJwcmludFByZWZpeGVkTGluZXMiLCJzdWJMaW5lIiwiZXhpc3RpbmdMaW5lcyIsInBhZExlbiIsIm1heCIsInByZWZpeCIsIlFVRVJZIiwiTVVUQVRJT04iLCJTVUJTQ1JJUFRJT04iLCJTQ0hFTUEiLCJTQ0FMQVIiLCJBUkdVTUVOVF9ERUZJTklUSU9OIiwiSU5URVJGQUNFIiwiVU5JT04iLCJFTlVNX1ZBTFVFIiwiSU5QVVRfT0JKRUNUIiwiSU5QVVRfRklFTERfREVGSU5JVElPTiIsInN0YXJ0T2ZGaWxlVG9rZW4iLCJsaW5lU3RhcnQiLCJfdG9rZW4kbmV4dCIsInJlYWRUb2tlbiIsInByaW50Q2hhckNvZGUiLCJjb2RlIiwiaXNOYU4iLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsImxleGVyIiwiYm9keUxlbmd0aCIsInN0YXJ0UG9zaXRpb24iLCJjaGFyQ29kZUF0IiwicG9zaXRpb25BZnRlcldoaXRlc3BhY2UiLCJjb2wiLCJyZWFkQ29tbWVudCIsInJlYWROYW1lIiwiZmlyc3RDb2RlIiwiaXNGbG9hdCIsInJlYWREaWdpdHMiLCJpc05hbWVTdGFydCIsInJlYWROdW1iZXIiLCJjaHVua1N0YXJ0IiwicmF3VmFsdWUiLCJyZWFkQmxvY2tTdHJpbmciLCJjaGFyQ29kZSIsImNoYXIyaGV4IiwiaW52YWxpZFNlcXVlbmNlIiwicmVhZFN0cmluZyIsInVuZXhwZWN0ZWRDaGFyYWN0ZXJNZXNzYWdlIiwibGluayIsImlzVGVybWluYXRpbmciLCJyZXF1ZXN0IiwidG9Qcm9taXNlIiwiY29tcGxldGVkIiwibWFrZVByb21pc2UiLCJmcm9tUHJvbWlzZSIsInByb21pc2UiLCJjYXRjaCIsImZyb21FcnJvciIsImVycm9yVmFsdWUiLCJjcmVhdGVPcGVyYXRpb24iLCJzdGFydGluZyIsIm9wZXJhdGlvbk5hbWUiLCJnZXRLZXkiLCJwYXNzdGhyb3VnaCIsImZvcndhcmQiLCJvZiIsInRvTGluayIsImhhbmRsZXIiLCJlbXB0eSIsImxpbmtzIiwibGVmdCIsInJpZ2h0IiwibGVmdExpbmsiLCJyaWdodExpbmsiLCJzZWNvbmQiLCJmaXJzdExpbmsiLCJuZXh0TGluayIsIkFwb2xsb0xpbmsiLCJleGVjdXRlIiwidHJhbnNmb3JtZWRPcGVyYXRpb24iLCJ0cmFuc2Zvcm1PcGVyYXRpb24iLCJPUEVSQVRJT05fRklFTERTIiwidmFsaWRhdGVPcGVyYXRpb24iLCJOZXR3b3JrU3RhdHVzIiwiaXNOZXR3b3JrUmVxdWVzdEluRmxpZ2h0IiwibmV0d29ya1N0YXR1cyIsIkxpbmtPYnNlcnZhYmxlIiwiaXNOb25FbXB0eUFycmF5IiwiaXNBcG9sbG9FcnJvciIsIkZldGNoVHlwZSIsImdyYXBoUUxFcnJvcnMiLCJuZXR3b3JrRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJleHRyYUluZm8iLCJncmFwaFFMRXJyb3IiLCJBcG9sbG9FcnJvciIsInF1ZXJ5TWFuYWdlciIsInNob3VsZFN1YnNjcmliZSIsIm9uU3Vic2NyaWJlIiwib2JzZXJ2ZXJzIiwiaXNUb3JuRG93biIsInF1ZXJ5SWQiLCJnZW5lcmF0ZVF1ZXJ5SWQiLCJvcERlZiIsInF1ZXJ5TmFtZSIsImRlbGV0ZSIsInJlbW92ZVF1ZXJ5IiwiY3VycmVudFJlc3VsdCIsImdldEN1cnJlbnRSZXN1bHQiLCJsYXN0UmVzdWx0IiwibGFzdEVycm9yIiwibG9hZGluZyIsInN0b3JlVmFsdWUiLCJwb2xpY3kiLCJwYXJ0aWFsIiwicXVlcnlTdG9yZVZhbHVlIiwicXVlcnlTdG9yZSIsImZldGNoUG9saWN5IiwiaXNOZXR3b3JrRmV0Y2hQb2xpY3kiLCJlcnJvclBvbGljeSIsInJlYWR5IiwidXBkYXRlTGFzdFJlc3VsdCIsInN0YWxlIiwiaXNEaWZmZXJlbnRGcm9tTGFzdFJlc3VsdCIsIm5ld1Jlc3VsdCIsImxhc3RSZXN1bHRTbmFwc2hvdCIsInNuYXBzaG90IiwiZ2V0TGFzdFJlc3VsdCIsImdldExhc3RFcnJvciIsInJlc2V0TGFzdFJlc3VsdHMiLCJyZXNldFF1ZXJ5U3RvcmVFcnJvcnMiLCJyZWZldGNoIiwiZmV0Y2hRdWVyeSIsImZldGNoTW9yZSIsImZldGNoTW9yZU9wdGlvbnMiLCJjb21iaW5lZE9wdGlvbnMiLCJxaWQiLCJub3JtYWwiLCJmZXRjaE1vcmVSZXN1bHQiLCJ1cGRhdGVRdWVyeSIsInByZXZpb3VzUmVzdWx0Iiwic3RvcFF1ZXJ5Iiwic3Vic2NyaWJlVG9Nb3JlIiwic3RhcnRHcmFwaFFMU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uRGF0YSIsInByZXZpb3VzIiwib25FcnJvciIsInNldE9wdGlvbnMiLCJwb2xsSW50ZXJ2YWwiLCJzdGFydFBvbGxpbmciLCJzdG9wUG9sbGluZyIsInNldFZhcmlhYmxlcyIsIm9sZEZldGNoUG9saWN5IiwiZmV0Y2hSZXN1bHRzIiwidHJ5RmV0Y2giLCJtYXBGbiIsImRhdGFTdG9yZSIsIm1hcmtVcGRhdGVRdWVyeVJlc3VsdCIsImJyb2FkY2FzdFF1ZXJpZXMiLCJzdG9wUG9sbGluZ1F1ZXJ5IiwiYXNzZXJ0Tm90Q2FjaGVGaXJzdE9yT25seSIsInN0YXJ0UG9sbGluZ1F1ZXJ5IiwiYXNzdW1lSW1tdXRhYmxlUmVzdWx0cyIsInN1Yk9ic2VydmVyIiwiZGVmYXVsdFN1YnNjcmlwdGlvbk9ic2VydmVyRXJyb3JDYWxsYmFjayIsInNldFVwUXVlcnkiLCJ0ZWFyRG93blF1ZXJ5IiwiYWRkT2JzZXJ2YWJsZVF1ZXJ5IiwiaXRlcmF0ZU9ic2VydmVyc1NhZmVseSIsIm9ic2VydmVRdWVyeSIsInRyYW5zZm9ybSIsImdldExvY2FsU3RhdGUiLCJhZGRFeHBvcnRlZFZhcmlhYmxlcyIsInByZXZpb3VzVmFyaWFibGVzIiwic2VydmVyUXVlcnkiLCJzdWIiLCJyZW1vdmVPYnNlcnZhYmxlUXVlcnkiLCJvYnNlcnZlcnNXaXRoTWV0aG9kIiwib2JzIiwib2JzUXVlcnkiLCJzdG9yZSIsImdldFN0b3JlIiwibXV0YXRpb25JZCIsImluaXRNdXRhdGlvbiIsIm11dGF0aW9uIiwibWFya011dGF0aW9uRXJyb3IiLCJtYXJrTXV0YXRpb25SZXN1bHQiLCJyZXNldCIsImluaXRRdWVyeSIsInByZXZpb3VzUXVlcnkiLCJjbGllbnQiLCJyZXNvbHZlcnMiLCJmcmFnbWVudE1hdGNoZXIiLCJhZGRSZXNvbHZlcnMiLCJzZXRGcmFnbWVudE1hdGNoZXIiLCJyZXNvbHZlckdyb3VwIiwic2V0UmVzb2x2ZXJzIiwiZ2V0UmVzb2x2ZXJzIiwicnVuUmVzb2x2ZXJzIiwicmVtb3RlUmVzdWx0Iiwib25seVJ1bkZvcmNlZFJlc29sdmVycyIsInJlc29sdmVEb2N1bWVudCIsImxvY2FsUmVzdWx0IiwiZ2V0RnJhZ21lbnRNYXRjaGVyIiwiY2xpZW50UXVlcnkiLCJwcmVwYXJlQ29udGV4dCIsImdldENhY2hlS2V5IiwiZGF0YUlkRnJvbU9iamVjdCIsImJ1aWxkUm9vdFZhbHVlRnJvbUNhY2hlIiwiZXhwb3J0ZWRWYXJpYWJsZXMiLCJzaG91bGRGb3JjZVJlc29sdmVycyIsImZvcmNlUmVzb2x2ZXJzIiwiZGlmZiIsInJldHVyblBhcnRpYWxEYXRhIiwib3B0aW1pc3RpYyIsInJvb3RWYWx1ZSIsIm1haW5EZWZpbml0aW9uIiwiZnJhZ21lbnRNYXAiLCJkZWZpbml0aW9uT3BlcmF0aW9uIiwiZGVmYXVsdE9wZXJhdGlvblR5cGUiLCJjaGFyQXQiLCJleGVjQ29udGV4dCIsInJlc29sdmVTZWxlY3Rpb25TZXQiLCJyZXN1bHRzVG9NZXJnZSIsInJlc29sdmVGaWVsZCIsImZpZWxkUmVzdWx0IiwiZnJhZ21lbnRSZXN1bHQiLCJhbGwiLCJhbGlhc2VkRmllbGROYW1lIiwiYWxpYXNVc2VkIiwiZGVmYXVsdFJlc3VsdCIsInJlc3VsdFByb21pc2UiLCJyZXNvbHZlclR5cGUiLCJfX3R5cGVuYW1lIiwicmVzb2x2ZXJNYXAiLCJyZXNvbHZlU3ViU2VsZWN0ZWRBcnJheSIsIm11bHRpcGxleCIsInF1ZXJ5RGVkdXBsaWNhdGlvbiIsIm9uQnJvYWRjYXN0Iiwic3NyTW9kZSIsImNsaWVudEF3YXJlbmVzcyIsImxvY2FsU3RhdGUiLCJtdXRhdGlvblN0b3JlIiwiTXV0YXRpb25TdG9yZSIsImlkQ291bnRlciIsInF1ZXJpZXMiLCJmZXRjaFF1ZXJ5UmVqZWN0Rm5zIiwidHJhbnNmb3JtQ2FjaGUiLCJpbkZsaWdodExpbmtPYnNlcnZhYmxlcyIsInBvbGxpbmdJbmZvQnlRdWVyeUlkIiwiZ2V0Q2FjaGUiLCJzdG9wIiwiX2luZm8iLCJzdG9wUXVlcnlOb0Jyb2FkY2FzdCIsIm11dGF0ZSIsIm9wdGltaXN0aWNSZXNwb25zZSIsInVwZGF0ZVF1ZXJpZXMiLCJyZWZldGNoUXVlcmllcyIsImF3YWl0UmVmZXRjaFF1ZXJpZXMiLCJ1cGRhdGUiLCJzZXRRdWVyeSIsImdldFZhcmlhYmxlcyIsImdlbmVyYXRlVXBkYXRlUXVlcmllc0luZm8iLCJyZXQiLCJ1cGRhdGVRdWVyaWVzQnlOYW1lIiwib2JzZXJ2YWJsZVF1ZXJ5IiwidXBkYXRlciIsIm1hcmtNdXRhdGlvbkluaXQiLCJ1cGRhdGVXaXRoUHJveHlGbiIsInN0b3JlUmVzdWx0IiwiZ2V0T2JzZXJ2YWJsZUZyb21MaW5rIiwibWFya011dGF0aW9uQ29tcGxldGUiLCJyZWZldGNoUXVlcnlQcm9taXNlcyIsInJlZmV0Y2hRdWVyeSIsInF1ZXJ5T3B0aW9ucyIsImZldGNoVHlwZSIsImZldGNoTW9yZUZvclF1ZXJ5SWQiLCJtZXRhZGF0YSIsIm5lZWRUb0ZldGNoIiwiaXNOZXR3b3JrT25seSIsInNob3VsZEZldGNoIiwicmVxdWVzdElkIiwiY2FuY2VsIiwidXBkYXRlUXVlcnlXYXRjaCIsImxhc3RSZXF1ZXN0SWQiLCJpbnZhbGlkYXRlZCIsImludmFsaWRhdGUiLCJzdG9yZVByZXZpb3VzVmFyaWFibGVzIiwiaXNQb2xsIiwicG9sbCIsImlzUmVmZXRjaCIsIm5ldHdvcmtSZXN1bHQiLCJmZXRjaFJlcXVlc3QiLCJnZXRRdWVyeSIsIm1hcmtRdWVyeUVycm9yIiwibWFya1F1ZXJ5UmVzdWx0Q2xpZW50IiwiaGFzRm9yY2VkUmVzb2x2ZXJzIiwibWFya1F1ZXJ5UmVzdWx0IiwibmV3RGF0YSIsInF1ZXJ5TGlzdGVuZXJGb3JPYnNlcnZlciIsImludm9rZSIsIm5ldHdvcmtTdGF0dXNDaGFuZ2VkIiwic2hvdWxkTm90aWZ5SWZMb2FkaW5nIiwibm90aWZ5T25OZXR3b3JrU3RhdHVzQ2hhbmdlIiwiaGFzR3JhcGhRTEVycm9ycyIsImlzTWlzc2luZyIsImVycm9yU3RhdHVzQ2hhbmdlZCIsImRpZmZSZXN1bHQiLCJyZXN1bHRGcm9tU3RvcmUiLCJ0cmFuc2Zvcm1lZCIsInRyYW5zZm9ybURvY3VtZW50IiwiZm9yTGluayIsInRyYW5zZm9ybUZvckxpbmsiLCJkZWZhdWx0VmFycyIsIndhdGNoUXVlcnkiLCJ0cmFuc2Zvcm1lZE9wdGlvbnMiLCJ3YXRjaGVkUXVlcnkiLCJzdG9wUXVlcnlJblN0b3JlIiwic3RvcFF1ZXJ5SW5TdG9yZU5vQnJvYWRjYXN0IiwiYWRkUXVlcnlMaXN0ZW5lciIsImxpc3RlbmVyIiwid2F0Y2giLCJjYWxsYmFjayIsImNsZWFyU3RvcmUiLCJyZXNldElkcyIsInJlc2V0U3RvcmUiLCJyZUZldGNoT2JzZXJ2YWJsZVF1ZXJpZXMiLCJpbmNsdWRlU3RhbmRieSIsIm9ic2VydmFibGVRdWVyeVByb21pc2VzIiwic3RhcnRRdWVyeSIsIm1ha2VPYnNlcnZhYmxlIiwibWFya1N1YnNjcmlwdGlvblJlc3VsdCIsImdldEN1cnJlbnRRdWVyeVJlc3VsdCIsImdldFF1ZXJ5V2l0aFByZXZpb3VzUmVzdWx0IiwicXVlcnlJZE9yT2JzZXJ2YWJsZSIsImZvdW5kT2JzZXJ2ZWFibGVRdWVyeSIsImRlZHVwbGljYXRpb24iLCJmb3JjZUZldGNoIiwiYWN0aXZlTmV4dENvdW50IiwiYXN5bmNNYXAiLCJlcnJvcnNGcm9tU3RvcmUiLCJmcXJmSWQiLCJuZXdJbmZvIiwibmV3Q29udGV4dCIsImNoZWNrSW5GbGlnaHQiLCJpbnRlcnZhbCIsImluaXRpYWxDYWNoZSIsImlnbm9yZUVycm9ycyIsIndyaXRlV2l0aEVycm9ycyIsIndyaXRlIiwiZGF0YUlkIiwicmVjb3JkT3B0aW1pc3RpY1RyYW5zYWN0aW9uIiwib3JpZyIsIm5leHRRdWVyeVJlc3VsdCIsImN1cnJlbnRRdWVyeVJlc3VsdCIsIm11dGF0aW9uUmVzdWx0IiwicXVlcnlWYXJpYWJsZXMiLCJwZXJmb3JtVHJhbnNhY3Rpb24iLCJyZW1vdmVPcHRpbWlzdGljIiwiZGVmYXVsdE9wdGlvbnMiLCJyZXNldFN0b3JlQ2FsbGJhY2tzIiwiY2xlYXJTdG9yZUNhbGxiYWNrcyIsInNzckZvcmNlRmV0Y2hEZWxheSIsImNvbm5lY3RUb0RldlRvb2xzIiwidHlwZURlZnMiLCJkaXNhYmxlTmV0d29ya0ZldGNoZXMiLCJfX0FQT0xMT19DTElFTlRfXyIsImNsaWVudEF3YXJlbmVzc05hbWUiLCJjbGllbnRBd2FyZW5lc3NWZXJzaW9uIiwiZGV2VG9vbHNIb29rQ2IiLCJhY3Rpb24iLCJzdGF0ZSIsIm11dGF0aW9ucyIsImRhdGFXaXRoT3B0aW1pc3RpY1Jlc3VsdHMiLCJleHRyYWN0IiwicmVhZFF1ZXJ5IiwicmVhZEZyYWdtZW50Iiwid3JpdGVRdWVyeSIsIndyaXRlRnJhZ21lbnQiLCJ3cml0ZURhdGEiLCJfX2FjdGlvbkhvb2tGb3JEZXZUb29scyIsIl9fcmVxdWVzdFJhdyIsInBheWxvYWQiLCJpbml0UXVlcnlNYW5hZ2VyIiwib25SZXNldFN0b3JlIiwib25DbGVhclN0b3JlIiwicmVzdG9yZSIsInNlcmlhbGl6ZWRTdGF0ZSIsInNldExvY2FsU3RhdGVGcmFnbWVudE1hdGNoZXIiLCJxdWVyeUZyb21Qb2pvIiwic2VsZWN0aW9uU2V0RnJvbU9iaiIsIkNhY2hlIiwianVzdFR5cGVuYW1lUXVlcnkiLCJyZWFkIiwicm9vdElkIiwidHlwZW5hbWVSZXN1bHQiLCJkYXRhVG9Xcml0ZSIsImN1cnJlbnRDb250ZXh0IiwiTUlTU0lOR19WQUxVRSIsImhvc3QiLCJTbG90Iiwibm93IiwicmFuZG9tIiwic2xvdHMiLCJnZXRWYWx1ZSIsIndpdGhWYWx1ZSIsInNhdmVkIiwibm9Db250ZXh0IiwiZGVmYXVsdERpc3Bvc2UiLCJkaXNwb3NlIiwibmV3ZXN0Iiwib2xkZXN0IiwiZW50cnkiLCJnZXRFbnRyeSIsIm9sZGVyIiwibmV3ZXIiLCJjbGVhbiIsInBhcmVudEVudHJ5U2xvdCIsInJldXNhYmxlRW1wdHlBcnJheSIsImVtcHR5U2V0UG9vbCIsImFzc2VydCIsIm9wdGlvbmFsTWVzc2FnZSIsInZhbHVlR2V0IiwicGFyZW50cyIsImNoaWxkVmFsdWVzIiwiZGlydHlDaGlsZHJlbiIsImRpcnR5IiwicmVjb21wdXRpbmciLCJFbnRyeSIsInJlY29tcHV0ZSIsIm1pZ2h0QmVEaXJ0eSIsInJlcG9ydERpcnR5Q2hpbGQiLCJyZXBvcnRDbGVhbkNoaWxkIiwicmVtZW1iZXJQYXJlbnQiLCJtYXliZVJlcG9ydE9ycGhhbiIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJmb3JnZXRDaGlsZHJlbiIsInJlY29tcHV0ZU5ld1ZhbHVlIiwibWF5YmVVbnN1YnNjcmliZSIsInNldERpcnR5IiwibWF5YmVTdWJzY3JpYmUiLCJyZXBvcnRDbGVhbiIsInNldENsZWFuIiwicmVhbGx5UmVjb21wdXRlIiwicmVwb3J0RGlydHkiLCJmb3JnZXRDaGlsZCIsImNoaWxkVmFsdWUiLCJyZW1vdmVEaXJ0eUNoaWxkIiwiZGMiLCJyZXBvcnRPcnBoYW4iLCJfdmFsdWUiLCJ3ZWFrbmVzcyIsImxvb2t1cCIsImxvb2t1cEFycmF5IiwiZ2V0Q2hpbGRUcmllIiwiaXNPYmpSZWYiLCJ3ZWFrIiwic3Ryb25nIiwiS2V5VHJpZSIsImtleVRyaWUiLCJkZWZhdWx0TWFrZUNhY2hlS2V5IiwiY2FjaGVzIiwib3JpZ2luYWxGdW5jdGlvbiIsInBvdyIsImRpc3Bvc2FibGUiLCJtYWtlQ2FjaGVLZXkiLCJoYXZlV2FybmVkIiwic2hvdWxkV2FybiIsImFuc3dlciIsImVuc3VyZVJlYWR5IiwiY2FuQnlwYXNzSW5pdCIsImlkVmFsdWUiLCJpc1Jvb3RRdWVyeSIsImludHJvc3BlY3Rpb25RdWVyeVJlc3VsdERhdGEiLCJwb3NzaWJsZVR5cGVzTWFwIiwicGFyc2VJbnRyb3NwZWN0aW9uUmVzdWx0IiwiaXNSZWFkeSIsImltcGxlbWVudGluZ1R5cGVzIiwiaW50cm9zcGVjdGlvblJlc3VsdERhdGEiLCJ0eXBlTWFwIiwiX19zY2hlbWEiLCJwb3NzaWJsZVR5cGVzIiwiaW1wbGVtZW50aW5nVHlwZSIsImhhc093biIsImRlcGVuZCIsInRvT2JqZWN0IiwiZGVmYXVsdE5vcm1hbGl6ZWRDYWNoZUZhY3RvcnkiLCJjYWNoZUtleVJvb3QiLCJmcmVlemVSZXN1bHRzIiwiZXhlY3V0ZVN0b3JlUXVlcnkiLCJleGVjdXRlU2VsZWN0aW9uU2V0IiwiZXhlY3V0ZVN1YlNlbGVjdGVkQXJyYXkiLCJjb250ZXh0VmFsdWUiLCJ2YXJpYWJsZVZhbHVlcyIsInJlYWRRdWVyeUZyb21TdG9yZSIsImRpZmZRdWVyeUFnYWluc3RTdG9yZSIsImZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uIiwicXVlcnlEZWZpbml0aW9uIiwiY2FjaGVSZWRpcmVjdHMiLCJleGVjUmVzdWx0IiwiaGFzTWlzc2luZ0ZpZWxkcyIsIm1pc3NpbmciLCJ0b2xlcmFibGUiLCJmaW5hbFJlc3VsdCIsIm9iamVjdHNUb01lcmdlIiwiaGFuZGxlTWlzc2luZyIsImV4ZWN1dGVGaWVsZCIsImZyYWdtZW50RXhlY1Jlc3VsdCIsInJlYWRTdG9yZVJlc3VsdCIsInJlc3VsdEtleSIsInN0b3JlS2V5TmFtZSIsImZpZWxkVmFsdWUiLCJyZXNvbHZlciIsInN0b3JlT2JqIiwianNvbiIsInJlYWRTdG9yZVJlc29sdmVyIiwiY29tYmluZUV4ZWNSZXN1bHRzIiwiYXNzZXJ0U2VsZWN0aW9uU2V0Rm9ySWRWYWx1ZSIsImV4ZWNSZXN1bHRzIiwiY2hpbGRSZXN1bHQiLCJkZWZhdWx0RnJhZ21lbnRNYXRjaGVyIiwiYXNzZXJ0SWRWYWx1ZSIsIk9iamVjdENhY2hlIiwiZW5oYW5jZUVycm9yV2l0aERvY3VtZW50IiwiZW5oYW5jZWRFcnJvciIsIndyaXRlUXVlcnlUb1N0b3JlIiwid3JpdGVSZXN1bHRUb1N0b3JlIiwib3BlcmF0aW9uRGVmaW5pdGlvbiIsIndyaXRlU2VsZWN0aW9uU2V0VG9TdG9yZSIsInByb2Nlc3NlZERhdGEiLCJyZXN1bHRGaWVsZEtleSIsIndyaXRlRmllbGRUb1N0b3JlIiwiaXNEZWZlcmVkIiwiaXNDbGllbnQiLCJtYXRjaGVzIiwiZmFrZUNvbnRleHQiLCJzdG9yZU9iamVjdCIsInN0b3JlRmllbGROYW1lIiwiZ2VuZXJhdGVkSWQiLCJwcm9jZXNzQXJyYXlWYWx1ZSIsInZhbHVlRGF0YUlkIiwiaXNHZW5lcmF0ZWRJZCIsInNlbWFudGljSWQiLCJpc0RhdGFQcm9jZXNzZWQiLCJlc2NhcGVkSWQiLCJoYWRUeXBlbmFtZSIsImhhc1R5cGVuYW1lIiwidHlwZW5hbWVDaGFuZ2VkIiwibWVyZ2VXaXRoR2VuZXJhdGVkIiwiZ2VuZXJhdGVkS2V5IiwicmVhbEtleSIsInJlYWwiLCJtYWRlQ2hhbmdlcyIsInJlYWxWYWx1ZSIsIm5ld1JlYWxWYWx1ZSIsIml0ZW1EYXRhSWQiLCJkZWZhdWx0Q29uZmlnIiwiSGV1cmlzdGljRnJhZ21lbnRNYXRjaGVyIiwiZGVmYXVsdERhdGFJZEZyb21PYmplY3QiLCJhZGRUeXBlbmFtZSIsInJlc3VsdENhY2hpbmciLCJfaWQiLCJvcHRpbWlzdGljSWQiLCJ0cmFuc2FjdGlvbiIsIndhdGNoZXMiLCJ0eXBlbmFtZURvY3VtZW50Q2FjaGUiLCJzaWxlbmNlQnJvYWRjYXN0IiwiY3VzdG9tUmVzb2x2ZXJzIiwiY2FjaGVSZXNvbHZlcnMiLCJvcHRpbWlzdGljRGF0YSIsInN0b3JlV3JpdGVyIiwic3RvcmVSZWFkZXIiLCJtYXliZUJyb2FkY2FzdFdhdGNoIiwiYnJvYWRjYXN0V2F0Y2hlcyIsImV2aWN0IiwiaWRUb1JlbW92ZSIsInRvUmVhcHBseSIsInJlbW92ZWRDb3VudCIsImxheWVyIiwiZmFsbGJhY2tIdHRwQ29uZmlnIiwiaHR0cCIsImluY2x1ZGVRdWVyeSIsImluY2x1ZGVFeHRlbnNpb25zIiwiaGVhZGVycyIsImFjY2VwdCIsInRocm93U2VydmVyRXJyb3IiLCJyZXNwb25zZSIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzZXJpYWxpemVGZXRjaFBhcmFtZXRlciIsInNlcmlhbGl6ZWQiLCJwYXJzZUVycm9yIiwiY3JlYXRlSHR0cExpbmsiLCJsaW5rT3B0aW9ucyIsImZldGNoIiwidXNlR0VURm9yUXVlcmllcyIsImZldGNoZXIiLCJjaGVja0ZldGNoZXIiLCJsaW5rQ29uZmlnIiwicmVxdWVzdE9wdGlvbnMiLCJmZXRjaE9wdGlvbnMiLCJjcmVkZW50aWFscyIsImNob3NlblVSSSIsImZhbGxiYWNrVVJJIiwiY29udGV4dFVSSSIsImdldENvbnRleHQiLCJzZWxlY3RVUkkiLCJjbGllbnRBd2FyZW5lc3NIZWFkZXJzIiwiY29udHJvbGxlciIsImNvbnRleHRIZWFkZXJzIiwiY29udGV4dENvbmZpZyIsImZhbGxiYWNrQ29uZmlnIiwiY29uZmlncyIsInNpZ25hbCIsIkFib3J0Q29udHJvbGxlciIsIl9jb250cm9sbGVyIiwicXVlcnlQYXJhbXMiLCJhZGRRdWVyeVBhcmFtIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplZFZhcmlhYmxlcyIsInNlcmlhbGl6ZWRFeHRlbnNpb25zIiwicHJlRnJhZ21lbnQiLCJmcmFnbWVudFN0YXJ0Iiwic3Vic3RyIiwicXVlcnlQYXJhbXNQcmVmaXgiLCJuZXdVUkkiLCJzZXRDb250ZXh0IiwidGV4dCIsImJvZHlUZXh0IiwiYWJvcnQiLCJlcnJvckhhbmRsZXIiLCJyZXRyaWVkU3ViIiwicmV0cmllZFJlc3VsdCIsIlBSRVNFVF9DT05GSUdfS0VZUyIsImNsaWVudFN0YXRlIiwiZXJyb3JMaW5rIiwiZXJyb3JDYWxsYmFjayIsInJlcXVlc3RIYW5kbGVyIiwiaGFuZGxlIiwib3BlciIsImh0dHBMaW5rIiwiYWN0aXZlUmVzb2x2ZXJzIiwiYWN0aXZlVHlwZURlZnMiLCJhY3RpdmVGcmFnbWVudE1hdGNoZXIiLCJkZWZhdWx0cyIsIkFwb2xsb0NsaWVudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIs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QUFNLENBQ0o5ZSxNQUFLLEVBQ0w4VixLQUFJLEVBQ0pwK0IsS0FBSSxFQUNKa2IsUUFBTyxFQUNQaXNCLFVBQVdrYyxFQUNYclIsU0FBVXNSLEVBQ1ZsYyxnQkFBaUJtYyxLQUNWLEtBRWIsT0E5SG1ELGlCQThIbkQsRUE5SEEsQ0FBbURFLEciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIxKTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZU5vZGUsXG4gIEZpZWxkTm9kZSxcbiAgSW50VmFsdWVOb2RlLFxuICBGbG9hdFZhbHVlTm9kZSxcbiAgU3RyaW5nVmFsdWVOb2RlLFxuICBCb29sZWFuVmFsdWVOb2RlLFxuICBPYmplY3RWYWx1ZU5vZGUsXG4gIExpc3RWYWx1ZU5vZGUsXG4gIEVudW1WYWx1ZU5vZGUsXG4gIE51bGxWYWx1ZU5vZGUsXG4gIFZhcmlhYmxlTm9kZSxcbiAgSW5saW5lRnJhZ21lbnROb2RlLFxuICBWYWx1ZU5vZGUsXG4gIFNlbGVjdGlvbk5vZGUsXG4gIE5hbWVOb2RlLFxufSBmcm9tICdncmFwaHFsJztcblxuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICdmYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeSc7XG5pbXBvcnQgeyBJbnZhcmlhbnRFcnJvciB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSWRWYWx1ZSB7XG4gIHR5cGU6ICdpZCc7XG4gIGlkOiBzdHJpbmc7XG4gIGdlbmVyYXRlZDogYm9vbGVhbjtcbiAgdHlwZW5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBKc29uVmFsdWUge1xuICB0eXBlOiAnanNvbic7XG4gIGpzb246IGFueTtcbn1cblxuZXhwb3J0IHR5cGUgTGlzdFZhbHVlID0gQXJyYXk8bnVsbCB8IElkVmFsdWU+O1xuXG5leHBvcnQgdHlwZSBTdG9yZVZhbHVlID1cbiAgfCBudW1iZXJcbiAgfCBzdHJpbmdcbiAgfCBzdHJpbmdbXVxuICB8IElkVmFsdWVcbiAgfCBMaXN0VmFsdWVcbiAgfCBKc29uVmFsdWVcbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgdm9pZFxuICB8IE9iamVjdDtcblxuZXhwb3J0IHR5cGUgU2NhbGFyVmFsdWUgPSBTdHJpbmdWYWx1ZU5vZGUgfCBCb29sZWFuVmFsdWVOb2RlIHwgRW51bVZhbHVlTm9kZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2NhbGFyVmFsdWUodmFsdWU6IFZhbHVlTm9kZSk6IHZhbHVlIGlzIFNjYWxhclZhbHVlIHtcbiAgcmV0dXJuIFsnU3RyaW5nVmFsdWUnLCAnQm9vbGVhblZhbHVlJywgJ0VudW1WYWx1ZSddLmluZGV4T2YodmFsdWUua2luZCkgPiAtMTtcbn1cblxuZXhwb3J0IHR5cGUgTnVtYmVyVmFsdWUgPSBJbnRWYWx1ZU5vZGUgfCBGbG9hdFZhbHVlTm9kZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyVmFsdWUodmFsdWU6IFZhbHVlTm9kZSk6IHZhbHVlIGlzIE51bWJlclZhbHVlIHtcbiAgcmV0dXJuIFsnSW50VmFsdWUnLCAnRmxvYXRWYWx1ZSddLmluZGV4T2YodmFsdWUua2luZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gaXNTdHJpbmdWYWx1ZSh2YWx1ZTogVmFsdWVOb2RlKTogdmFsdWUgaXMgU3RyaW5nVmFsdWVOb2RlIHtcbiAgcmV0dXJuIHZhbHVlLmtpbmQgPT09ICdTdHJpbmdWYWx1ZSc7XG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhblZhbHVlKHZhbHVlOiBWYWx1ZU5vZGUpOiB2YWx1ZSBpcyBCb29sZWFuVmFsdWVOb2RlIHtcbiAgcmV0dXJuIHZhbHVlLmtpbmQgPT09ICdCb29sZWFuVmFsdWUnO1xufVxuXG5mdW5jdGlvbiBpc0ludFZhbHVlKHZhbHVlOiBWYWx1ZU5vZGUpOiB2YWx1ZSBpcyBJbnRWYWx1ZU5vZGUge1xuICByZXR1cm4gdmFsdWUua2luZCA9PT0gJ0ludFZhbHVlJztcbn1cblxuZnVuY3Rpb24gaXNGbG9hdFZhbHVlKHZhbHVlOiBWYWx1ZU5vZGUpOiB2YWx1ZSBpcyBGbG9hdFZhbHVlTm9kZSB7XG4gIHJldHVybiB2YWx1ZS5raW5kID09PSAnRmxvYXRWYWx1ZSc7XG59XG5cbmZ1bmN0aW9uIGlzVmFyaWFibGUodmFsdWU6IFZhbHVlTm9kZSk6IHZhbHVlIGlzIFZhcmlhYmxlTm9kZSB7XG4gIHJldHVybiB2YWx1ZS5raW5kID09PSAnVmFyaWFibGUnO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdFZhbHVlKHZhbHVlOiBWYWx1ZU5vZGUpOiB2YWx1ZSBpcyBPYmplY3RWYWx1ZU5vZGUge1xuICByZXR1cm4gdmFsdWUua2luZCA9PT0gJ09iamVjdFZhbHVlJztcbn1cblxuZnVuY3Rpb24gaXNMaXN0VmFsdWUodmFsdWU6IFZhbHVlTm9kZSk6IHZhbHVlIGlzIExpc3RWYWx1ZU5vZGUge1xuICByZXR1cm4gdmFsdWUua2luZCA9PT0gJ0xpc3RWYWx1ZSc7XG59XG5cbmZ1bmN0aW9uIGlzRW51bVZhbHVlKHZhbHVlOiBWYWx1ZU5vZGUpOiB2YWx1ZSBpcyBFbnVtVmFsdWVOb2RlIHtcbiAgcmV0dXJuIHZhbHVlLmtpbmQgPT09ICdFbnVtVmFsdWUnO1xufVxuXG5mdW5jdGlvbiBpc051bGxWYWx1ZSh2YWx1ZTogVmFsdWVOb2RlKTogdmFsdWUgaXMgTnVsbFZhbHVlTm9kZSB7XG4gIHJldHVybiB2YWx1ZS5raW5kID09PSAnTnVsbFZhbHVlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbihcbiAgYXJnT2JqOiBhbnksXG4gIG5hbWU6IE5hbWVOb2RlLFxuICB2YWx1ZTogVmFsdWVOb2RlLFxuICB2YXJpYWJsZXM/OiBPYmplY3QsXG4pIHtcbiAgaWYgKGlzSW50VmFsdWUodmFsdWUpIHx8IGlzRmxvYXRWYWx1ZSh2YWx1ZSkpIHtcbiAgICBhcmdPYmpbbmFtZS52YWx1ZV0gPSBOdW1iZXIodmFsdWUudmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQm9vbGVhblZhbHVlKHZhbHVlKSB8fCBpc1N0cmluZ1ZhbHVlKHZhbHVlKSkge1xuICAgIGFyZ09ialtuYW1lLnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0VmFsdWUodmFsdWUpKSB7XG4gICAgY29uc3QgbmVzdGVkQXJnT2JqID0ge307XG4gICAgdmFsdWUuZmllbGRzLm1hcChvYmogPT5cbiAgICAgIHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbihuZXN0ZWRBcmdPYmosIG9iai5uYW1lLCBvYmoudmFsdWUsIHZhcmlhYmxlcyksXG4gICAgKTtcbiAgICBhcmdPYmpbbmFtZS52YWx1ZV0gPSBuZXN0ZWRBcmdPYmo7XG4gIH0gZWxzZSBpZiAoaXNWYXJpYWJsZSh2YWx1ZSkpIHtcbiAgICBjb25zdCB2YXJpYWJsZVZhbHVlID0gKHZhcmlhYmxlcyB8fCAoe30gYXMgYW55KSlbdmFsdWUubmFtZS52YWx1ZV07XG4gICAgYXJnT2JqW25hbWUudmFsdWVdID0gdmFyaWFibGVWYWx1ZTtcbiAgfSBlbHNlIGlmIChpc0xpc3RWYWx1ZSh2YWx1ZSkpIHtcbiAgICBhcmdPYmpbbmFtZS52YWx1ZV0gPSB2YWx1ZS52YWx1ZXMubWFwKGxpc3RWYWx1ZSA9PiB7XG4gICAgICBjb25zdCBuZXN0ZWRBcmdBcnJheU9iaiA9IHt9O1xuICAgICAgdmFsdWVUb09iamVjdFJlcHJlc2VudGF0aW9uKFxuICAgICAgICBuZXN0ZWRBcmdBcnJheU9iaixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGlzdFZhbHVlLFxuICAgICAgICB2YXJpYWJsZXMsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChuZXN0ZWRBcmdBcnJheU9iaiBhcyBhbnkpW25hbWUudmFsdWVdO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzRW51bVZhbHVlKHZhbHVlKSkge1xuICAgIGFyZ09ialtuYW1lLnZhbHVlXSA9ICh2YWx1ZSBhcyBFbnVtVmFsdWVOb2RlKS52YWx1ZTtcbiAgfSBlbHNlIGlmIChpc051bGxWYWx1ZSh2YWx1ZSkpIHtcbiAgICBhcmdPYmpbbmFtZS52YWx1ZV0gPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgIGBUaGUgaW5saW5lIGFyZ3VtZW50IFwiJHtuYW1lLnZhbHVlfVwiIG9mIGtpbmQgXCIkeyh2YWx1ZSBhcyBhbnkpLmtpbmR9XCJgICtcbiAgICAgICAgJ2lzIG5vdCBzdXBwb3J0ZWQuIFVzZSB2YXJpYWJsZXMgaW5zdGVhZCBvZiBpbmxpbmUgYXJndW1lbnRzIHRvICcgK1xuICAgICAgICAnb3ZlcmNvbWUgdGhpcyBsaW1pdGF0aW9uLicsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVLZXlOYW1lRnJvbUZpZWxkKFxuICBmaWVsZDogRmllbGROb2RlLFxuICB2YXJpYWJsZXM/OiBPYmplY3QsXG4pOiBzdHJpbmcge1xuICBsZXQgZGlyZWN0aXZlc09iajogYW55ID0gbnVsbDtcbiAgaWYgKGZpZWxkLmRpcmVjdGl2ZXMpIHtcbiAgICBkaXJlY3RpdmVzT2JqID0ge307XG4gICAgZmllbGQuZGlyZWN0aXZlcy5mb3JFYWNoKGRpcmVjdGl2ZSA9PiB7XG4gICAgICBkaXJlY3RpdmVzT2JqW2RpcmVjdGl2ZS5uYW1lLnZhbHVlXSA9IHt9O1xuXG4gICAgICBpZiAoZGlyZWN0aXZlLmFyZ3VtZW50cykge1xuICAgICAgICBkaXJlY3RpdmUuYXJndW1lbnRzLmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT5cbiAgICAgICAgICB2YWx1ZVRvT2JqZWN0UmVwcmVzZW50YXRpb24oXG4gICAgICAgICAgICBkaXJlY3RpdmVzT2JqW2RpcmVjdGl2ZS5uYW1lLnZhbHVlXSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGFyZ09iajogYW55ID0gbnVsbDtcbiAgaWYgKGZpZWxkLmFyZ3VtZW50cyAmJiBmaWVsZC5hcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgYXJnT2JqID0ge307XG4gICAgZmllbGQuYXJndW1lbnRzLmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT5cbiAgICAgIHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbihhcmdPYmosIG5hbWUsIHZhbHVlLCB2YXJpYWJsZXMpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZ2V0U3RvcmVLZXlOYW1lKGZpZWxkLm5hbWUudmFsdWUsIGFyZ09iaiwgZGlyZWN0aXZlc09iaik7XG59XG5cbmV4cG9ydCB0eXBlIERpcmVjdGl2ZXMgPSB7XG4gIFtkaXJlY3RpdmVOYW1lOiBzdHJpbmddOiB7XG4gICAgW2FyZ05hbWU6IHN0cmluZ106IGFueTtcbiAgfTtcbn07XG5cbmNvbnN0IEtOT1dOX0RJUkVDVElWRVM6IHN0cmluZ1tdID0gW1xuICAnY29ubmVjdGlvbicsXG4gICdpbmNsdWRlJyxcbiAgJ3NraXAnLFxuICAnY2xpZW50JyxcbiAgJ3Jlc3QnLFxuICAnZXhwb3J0Jyxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZUtleU5hbWUoXG4gIGZpZWxkTmFtZTogc3RyaW5nLFxuICBhcmdzPzogT2JqZWN0LFxuICBkaXJlY3RpdmVzPzogRGlyZWN0aXZlcyxcbik6IHN0cmluZyB7XG4gIGlmIChcbiAgICBkaXJlY3RpdmVzICYmXG4gICAgZGlyZWN0aXZlc1snY29ubmVjdGlvbiddICYmXG4gICAgZGlyZWN0aXZlc1snY29ubmVjdGlvbiddWydrZXknXVxuICApIHtcbiAgICBpZiAoXG4gICAgICBkaXJlY3RpdmVzWydjb25uZWN0aW9uJ11bJ2ZpbHRlciddICYmXG4gICAgICAoZGlyZWN0aXZlc1snY29ubmVjdGlvbiddWydmaWx0ZXInXSBhcyBzdHJpbmdbXSkubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgY29uc3QgZmlsdGVyS2V5cyA9IGRpcmVjdGl2ZXNbJ2Nvbm5lY3Rpb24nXVsnZmlsdGVyJ11cbiAgICAgICAgPyAoZGlyZWN0aXZlc1snY29ubmVjdGlvbiddWydmaWx0ZXInXSBhcyBzdHJpbmdbXSlcbiAgICAgICAgOiBbXTtcbiAgICAgIGZpbHRlcktleXMuc29ydCgpO1xuXG4gICAgICBjb25zdCBxdWVyeUFyZ3MgPSBhcmdzIGFzIHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gICAgICBjb25zdCBmaWx0ZXJlZEFyZ3MgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAgICAgZmlsdGVyS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGZpbHRlcmVkQXJnc1trZXldID0gcXVlcnlBcmdzW2tleV07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGAke2RpcmVjdGl2ZXNbJ2Nvbm5lY3Rpb24nXVsna2V5J119KCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIGZpbHRlcmVkQXJncyxcbiAgICAgICl9KWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzWydjb25uZWN0aW9uJ11bJ2tleSddO1xuICAgIH1cbiAgfVxuXG4gIGxldCBjb21wbGV0ZUZpZWxkTmFtZTogc3RyaW5nID0gZmllbGROYW1lO1xuXG4gIGlmIChhcmdzKSB7XG4gICAgLy8gV2UgY2FuJ3QgdXNlIGBKU09OLnN0cmluZ2lmeWAgaGVyZSBzaW5jZSBpdCdzIG5vbi1kZXRlcm1pbmlzdGljLFxuICAgIC8vIGFuZCBjYW4gbGVhZCB0byBkaWZmZXJlbnQgc3RvcmUga2V5IG5hbWVzIGJlaW5nIGNyZWF0ZWQgZXZlbiB0aG91Z2hcbiAgICAvLyB0aGUgYGFyZ3NgIG9iamVjdCB1c2VkIGR1cmluZyBjcmVhdGlvbiBoYXMgdGhlIHNhbWUgcHJvcGVydGllcy92YWx1ZXMuXG4gICAgY29uc3Qgc3RyaW5naWZpZWRBcmdzOiBzdHJpbmcgPSBzdHJpbmdpZnkoYXJncyk7XG4gICAgY29tcGxldGVGaWVsZE5hbWUgKz0gYCgke3N0cmluZ2lmaWVkQXJnc30pYDtcbiAgfVxuXG4gIGlmIChkaXJlY3RpdmVzKSB7XG4gICAgT2JqZWN0LmtleXMoZGlyZWN0aXZlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKEtOT1dOX0RJUkVDVElWRVMuaW5kZXhPZihrZXkpICE9PSAtMSkgcmV0dXJuO1xuICAgICAgaWYgKGRpcmVjdGl2ZXNba2V5XSAmJiBPYmplY3Qua2V5cyhkaXJlY3RpdmVzW2tleV0pLmxlbmd0aCkge1xuICAgICAgICBjb21wbGV0ZUZpZWxkTmFtZSArPSBgQCR7a2V5fSgke0pTT04uc3RyaW5naWZ5KGRpcmVjdGl2ZXNba2V5XSl9KWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZUZpZWxkTmFtZSArPSBgQCR7a2V5fWA7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY29tcGxldGVGaWVsZE5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmd1bWVudHNPYmplY3RGcm9tRmllbGQoXG4gIGZpZWxkOiBGaWVsZE5vZGUgfCBEaXJlY3RpdmVOb2RlLFxuICB2YXJpYWJsZXM6IE9iamVjdCxcbik6IE9iamVjdCB7XG4gIGlmIChmaWVsZC5hcmd1bWVudHMgJiYgZmllbGQuYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGFyZ09iajogT2JqZWN0ID0ge307XG4gICAgZmllbGQuYXJndW1lbnRzLmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT5cbiAgICAgIHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbihhcmdPYmosIG5hbWUsIHZhbHVlLCB2YXJpYWJsZXMpLFxuICAgICk7XG4gICAgcmV0dXJuIGFyZ09iajtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdWx0S2V5TmFtZUZyb21GaWVsZChmaWVsZDogRmllbGROb2RlKTogc3RyaW5nIHtcbiAgcmV0dXJuIGZpZWxkLmFsaWFzID8gZmllbGQuYWxpYXMudmFsdWUgOiBmaWVsZC5uYW1lLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGaWVsZChzZWxlY3Rpb246IFNlbGVjdGlvbk5vZGUpOiBzZWxlY3Rpb24gaXMgRmllbGROb2RlIHtcbiAgcmV0dXJuIHNlbGVjdGlvbi5raW5kID09PSAnRmllbGQnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmxpbmVGcmFnbWVudChcbiAgc2VsZWN0aW9uOiBTZWxlY3Rpb25Ob2RlLFxuKTogc2VsZWN0aW9uIGlzIElubGluZUZyYWdtZW50Tm9kZSB7XG4gIHJldHVybiBzZWxlY3Rpb24ua2luZCA9PT0gJ0lubGluZUZyYWdtZW50Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSWRWYWx1ZShpZE9iamVjdDogU3RvcmVWYWx1ZSk6IGlkT2JqZWN0IGlzIElkVmFsdWUge1xuICByZXR1cm4gaWRPYmplY3QgJiZcbiAgICAoaWRPYmplY3QgYXMgSWRWYWx1ZSB8IEpzb25WYWx1ZSkudHlwZSA9PT0gJ2lkJyAmJlxuICAgIHR5cGVvZiAoaWRPYmplY3QgYXMgSWRWYWx1ZSkuZ2VuZXJhdGVkID09PSAnYm9vbGVhbic7XG59XG5cbmV4cG9ydCB0eXBlIElkQ29uZmlnID0ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvSWRWYWx1ZShcbiAgaWRDb25maWc6IHN0cmluZyB8IElkQ29uZmlnLFxuICBnZW5lcmF0ZWQgPSBmYWxzZSxcbik6IElkVmFsdWUge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdpZCcsXG4gICAgZ2VuZXJhdGVkLFxuICAgIC4uLih0eXBlb2YgaWRDb25maWcgPT09ICdzdHJpbmcnXG4gICAgICA/IHsgaWQ6IGlkQ29uZmlnLCB0eXBlbmFtZTogdW5kZWZpbmVkIH1cbiAgICAgIDogaWRDb25maWcpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uVmFsdWUoanNvbk9iamVjdDogU3RvcmVWYWx1ZSk6IGpzb25PYmplY3QgaXMgSnNvblZhbHVlIHtcbiAgcmV0dXJuIChcbiAgICBqc29uT2JqZWN0ICE9IG51bGwgJiZcbiAgICB0eXBlb2YganNvbk9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAoanNvbk9iamVjdCBhcyBJZFZhbHVlIHwgSnNvblZhbHVlKS50eXBlID09PSAnanNvbidcbiAgKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFZhbHVlRnJvbVZhcmlhYmxlKG5vZGU6IFZhcmlhYmxlTm9kZSkge1xuICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoYFZhcmlhYmxlIG5vZGVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHZhbHVlRnJvbU5vZGVgKTtcbn1cblxuZXhwb3J0IHR5cGUgVmFyaWFibGVWYWx1ZSA9IChub2RlOiBWYXJpYWJsZU5vZGUpID0+IGFueTtcblxuLyoqXG4gKiBFdmFsdWF0ZSBhIFZhbHVlTm9kZSBhbmQgeWllbGQgaXRzIHZhbHVlIGluIGl0cyBuYXR1cmFsIEpTIGZvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZUZyb21Ob2RlKFxuICBub2RlOiBWYWx1ZU5vZGUsXG4gIG9uVmFyaWFibGU6IFZhcmlhYmxlVmFsdWUgPSBkZWZhdWx0VmFsdWVGcm9tVmFyaWFibGUsXG4pOiBhbnkge1xuICBzd2l0Y2ggKG5vZGUua2luZCkge1xuICAgIGNhc2UgJ1ZhcmlhYmxlJzpcbiAgICAgIHJldHVybiBvblZhcmlhYmxlKG5vZGUpO1xuICAgIGNhc2UgJ051bGxWYWx1ZSc6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICdJbnRWYWx1ZSc6XG4gICAgICByZXR1cm4gcGFyc2VJbnQobm9kZS52YWx1ZSwgMTApO1xuICAgIGNhc2UgJ0Zsb2F0VmFsdWUnOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobm9kZS52YWx1ZSk7XG4gICAgY2FzZSAnTGlzdFZhbHVlJzpcbiAgICAgIHJldHVybiBub2RlLnZhbHVlcy5tYXAodiA9PiB2YWx1ZUZyb21Ob2RlKHYsIG9uVmFyaWFibGUpKTtcbiAgICBjYXNlICdPYmplY3RWYWx1ZSc6IHtcbiAgICAgIGNvbnN0IHZhbHVlOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIG5vZGUuZmllbGRzKSB7XG4gICAgICAgIHZhbHVlW2ZpZWxkLm5hbWUudmFsdWVdID0gdmFsdWVGcm9tTm9kZShmaWVsZC52YWx1ZSwgb25WYXJpYWJsZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgfVxufVxuIiwiLy8gUHJvdmlkZXMgdGhlIG1ldGhvZHMgdGhhdCBhbGxvdyBRdWVyeU1hbmFnZXIgdG8gaGFuZGxlIHRoZSBgc2tpcGAgYW5kXG4vLyBgaW5jbHVkZWAgZGlyZWN0aXZlcyB3aXRoaW4gR3JhcGhRTC5cbmltcG9ydCB7XG4gIEZpZWxkTm9kZSxcbiAgU2VsZWN0aW9uTm9kZSxcbiAgVmFyaWFibGVOb2RlLFxuICBCb29sZWFuVmFsdWVOb2RlLFxuICBEaXJlY3RpdmVOb2RlLFxuICBEb2N1bWVudE5vZGUsXG4gIEFyZ3VtZW50Tm9kZSxcbiAgVmFsdWVOb2RlLFxufSBmcm9tICdncmFwaHFsJztcblxuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICdncmFwaHFsL2xhbmd1YWdlL3Zpc2l0b3InO1xuXG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuXG5pbXBvcnQgeyBhcmd1bWVudHNPYmplY3RGcm9tRmllbGQgfSBmcm9tICcuL3N0b3JlVXRpbHMnO1xuXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVJbmZvID0ge1xuICBbZmllbGROYW1lOiBzdHJpbmddOiB7IFthcmdOYW1lOiBzdHJpbmddOiBhbnkgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3RpdmVJbmZvRnJvbUZpZWxkKFxuICBmaWVsZDogRmllbGROb2RlLFxuICB2YXJpYWJsZXM6IE9iamVjdCxcbik6IERpcmVjdGl2ZUluZm8ge1xuICBpZiAoZmllbGQuZGlyZWN0aXZlcyAmJiBmaWVsZC5kaXJlY3RpdmVzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRpcmVjdGl2ZU9iajogRGlyZWN0aXZlSW5mbyA9IHt9O1xuICAgIGZpZWxkLmRpcmVjdGl2ZXMuZm9yRWFjaCgoZGlyZWN0aXZlOiBEaXJlY3RpdmVOb2RlKSA9PiB7XG4gICAgICBkaXJlY3RpdmVPYmpbZGlyZWN0aXZlLm5hbWUudmFsdWVdID0gYXJndW1lbnRzT2JqZWN0RnJvbUZpZWxkKFxuICAgICAgICBkaXJlY3RpdmUsXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRpcmVjdGl2ZU9iajtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEluY2x1ZGUoXG4gIHNlbGVjdGlvbjogU2VsZWN0aW9uTm9kZSxcbiAgdmFyaWFibGVzOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfSA9IHt9LFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRJbmNsdXNpb25EaXJlY3RpdmVzKFxuICAgIHNlbGVjdGlvbi5kaXJlY3RpdmVzLFxuICApLmV2ZXJ5KCh7IGRpcmVjdGl2ZSwgaWZBcmd1bWVudCB9KSA9PiB7XG4gICAgbGV0IGV2YWxlZFZhbHVlOiBib29sZWFuID0gZmFsc2U7XG4gICAgaWYgKGlmQXJndW1lbnQudmFsdWUua2luZCA9PT0gJ1ZhcmlhYmxlJykge1xuICAgICAgZXZhbGVkVmFsdWUgPSB2YXJpYWJsZXNbKGlmQXJndW1lbnQudmFsdWUgYXMgVmFyaWFibGVOb2RlKS5uYW1lLnZhbHVlXTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZXZhbGVkVmFsdWUgIT09IHZvaWQgMCxcbiAgICAgICAgYEludmFsaWQgdmFyaWFibGUgcmVmZXJlbmNlZCBpbiBAJHtkaXJlY3RpdmUubmFtZS52YWx1ZX0gZGlyZWN0aXZlLmAsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmFsZWRWYWx1ZSA9IChpZkFyZ3VtZW50LnZhbHVlIGFzIEJvb2xlYW5WYWx1ZU5vZGUpLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0aXZlLm5hbWUudmFsdWUgPT09ICdza2lwJyA/ICFldmFsZWRWYWx1ZSA6IGV2YWxlZFZhbHVlO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERpcmVjdGl2ZU5hbWVzKGRvYzogRG9jdW1lbnROb2RlKSB7XG4gIGNvbnN0IG5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIHZpc2l0KGRvYywge1xuICAgIERpcmVjdGl2ZShub2RlKSB7XG4gICAgICBuYW1lcy5wdXNoKG5vZGUubmFtZS52YWx1ZSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG5hbWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzRGlyZWN0aXZlcyhuYW1lczogc3RyaW5nW10sIGRvYzogRG9jdW1lbnROb2RlKSB7XG4gIHJldHVybiBnZXREaXJlY3RpdmVOYW1lcyhkb2MpLnNvbWUoXG4gICAgKG5hbWU6IHN0cmluZykgPT4gbmFtZXMuaW5kZXhPZihuYW1lKSA+IC0xLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzQ2xpZW50RXhwb3J0cyhkb2N1bWVudDogRG9jdW1lbnROb2RlKSB7XG4gIHJldHVybiAoXG4gICAgZG9jdW1lbnQgJiZcbiAgICBoYXNEaXJlY3RpdmVzKFsnY2xpZW50J10sIGRvY3VtZW50KSAmJlxuICAgIGhhc0RpcmVjdGl2ZXMoWydleHBvcnQnXSwgZG9jdW1lbnQpXG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIEluY2x1c2lvbkRpcmVjdGl2ZXMgPSBBcnJheTx7XG4gIGRpcmVjdGl2ZTogRGlyZWN0aXZlTm9kZTtcbiAgaWZBcmd1bWVudDogQXJndW1lbnROb2RlO1xufT47XG5cbmZ1bmN0aW9uIGlzSW5jbHVzaW9uRGlyZWN0aXZlKHsgbmFtZTogeyB2YWx1ZSB9IH06IERpcmVjdGl2ZU5vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlID09PSAnc2tpcCcgfHwgdmFsdWUgPT09ICdpbmNsdWRlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEluY2x1c2lvbkRpcmVjdGl2ZXMoXG4gIGRpcmVjdGl2ZXM6IFJlYWRvbmx5QXJyYXk8RGlyZWN0aXZlTm9kZT4sXG4pOiBJbmNsdXNpb25EaXJlY3RpdmVzIHtcbiAgcmV0dXJuIGRpcmVjdGl2ZXMgPyBkaXJlY3RpdmVzLmZpbHRlcihpc0luY2x1c2lvbkRpcmVjdGl2ZSkubWFwKGRpcmVjdGl2ZSA9PiB7XG4gICAgY29uc3QgZGlyZWN0aXZlQXJndW1lbnRzID0gZGlyZWN0aXZlLmFyZ3VtZW50cztcbiAgICBjb25zdCBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWUudmFsdWU7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBkaXJlY3RpdmVBcmd1bWVudHMgJiYgZGlyZWN0aXZlQXJndW1lbnRzLmxlbmd0aCA9PT0gMSxcbiAgICAgIGBJbmNvcnJlY3QgbnVtYmVyIG9mIGFyZ3VtZW50cyBmb3IgdGhlIEAke2RpcmVjdGl2ZU5hbWV9IGRpcmVjdGl2ZS5gLFxuICAgICk7XG5cbiAgICBjb25zdCBpZkFyZ3VtZW50ID0gZGlyZWN0aXZlQXJndW1lbnRzWzBdO1xuICAgIGludmFyaWFudChcbiAgICAgIGlmQXJndW1lbnQubmFtZSAmJiBpZkFyZ3VtZW50Lm5hbWUudmFsdWUgPT09ICdpZicsXG4gICAgICBgSW52YWxpZCBhcmd1bWVudCBmb3IgdGhlIEAke2RpcmVjdGl2ZU5hbWV9IGRpcmVjdGl2ZS5gLFxuICAgICk7XG5cbiAgICBjb25zdCBpZlZhbHVlOiBWYWx1ZU5vZGUgPSBpZkFyZ3VtZW50LnZhbHVlO1xuXG4gICAgLy8gbWVhbnMgaXQgaGFzIHRvIGJlIGEgdmFyaWFibGUgdmFsdWUgaWYgdGhpcyBpcyBhIHZhbGlkIEBza2lwIG9yIEBpbmNsdWRlIGRpcmVjdGl2ZVxuICAgIGludmFyaWFudChcbiAgICAgIGlmVmFsdWUgJiZcbiAgICAgICAgKGlmVmFsdWUua2luZCA9PT0gJ1ZhcmlhYmxlJyB8fCBpZlZhbHVlLmtpbmQgPT09ICdCb29sZWFuVmFsdWUnKSxcbiAgICAgIGBBcmd1bWVudCBmb3IgdGhlIEAke2RpcmVjdGl2ZU5hbWV9IGRpcmVjdGl2ZSBtdXN0IGJlIGEgdmFyaWFibGUgb3IgYSBib29sZWFuIHZhbHVlLmAsXG4gICAgKTtcblxuICAgIHJldHVybiB7IGRpcmVjdGl2ZSwgaWZBcmd1bWVudCB9O1xuICB9KSA6IFtdO1xufVxuXG4iLCJpbXBvcnQgeyBEb2N1bWVudE5vZGUsIEZyYWdtZW50RGVmaW5pdGlvbk5vZGUgfSBmcm9tICdncmFwaHFsJztcbmltcG9ydCB7IGludmFyaWFudCwgSW52YXJpYW50RXJyb3IgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuXG4vKipcbiAqIFJldHVybnMgYSBxdWVyeSBkb2N1bWVudCB3aGljaCBhZGRzIGEgc2luZ2xlIHF1ZXJ5IG9wZXJhdGlvbiB0aGF0IG9ubHlcbiAqIHNwcmVhZHMgdGhlIHRhcmdldCBmcmFnbWVudCBpbnNpZGUgb2YgaXQuXG4gKlxuICogU28gZm9yIGV4YW1wbGUgYSBkb2N1bWVudCBvZjpcbiAqXG4gKiBgYGBncmFwaHFsXG4gKiBmcmFnbWVudCBmb28gb24gRm9vIHsgYSBiIGMgfVxuICogYGBgXG4gKlxuICogVHVybnMgaW50bzpcbiAqXG4gKiBgYGBncmFwaHFsXG4gKiB7IC4uLmZvbyB9XG4gKlxuICogZnJhZ21lbnQgZm9vIG9uIEZvbyB7IGEgYiBjIH1cbiAqIGBgYFxuICpcbiAqIFRoZSB0YXJnZXQgZnJhZ21lbnQgd2lsbCBlaXRoZXIgYmUgdGhlIG9ubHkgZnJhZ21lbnQgaW4gdGhlIGRvY3VtZW50LCBvciBhXG4gKiBmcmFnbWVudCBzcGVjaWZpZWQgYnkgdGhlIHByb3ZpZGVkIGBmcmFnbWVudE5hbWVgLiBJZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lXG4gKiBmcmFnbWVudCwgYnV0IGEgYGZyYWdtZW50TmFtZWAgd2FzIG5vdCBkZWZpbmVkIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQoXG4gIGRvY3VtZW50OiBEb2N1bWVudE5vZGUsXG4gIGZyYWdtZW50TmFtZT86IHN0cmluZyxcbik6IERvY3VtZW50Tm9kZSB7XG4gIGxldCBhY3R1YWxGcmFnbWVudE5hbWUgPSBmcmFnbWVudE5hbWU7XG5cbiAgLy8gQnVpbGQgYW4gYXJyYXkgb2YgYWxsIG91ciBmcmFnbWVudCBkZWZpbml0aW9ucyB0aGF0IHdpbGwgYmUgdXNlZCBmb3JcbiAgLy8gdmFsaWRhdGlvbnMuIFdlIGFsc28gZG8gc29tZSB2YWxpZGF0aW9ucyBvbiB0aGUgb3RoZXIgZGVmaW5pdGlvbnMgaW4gdGhlXG4gIC8vIGRvY3VtZW50IHdoaWxlIGJ1aWxkaW5nIHRoaXMgbGlzdC5cbiAgY29uc3QgZnJhZ21lbnRzOiBBcnJheTxGcmFnbWVudERlZmluaXRpb25Ob2RlPiA9IFtdO1xuICBkb2N1bWVudC5kZWZpbml0aW9ucy5mb3JFYWNoKGRlZmluaXRpb24gPT4ge1xuICAgIC8vIFRocm93IGFuIGVycm9yIGlmIHdlIGVuY291bnRlciBhbiBvcGVyYXRpb24gZGVmaW5pdGlvbiBiZWNhdXNlIHdlIHdpbGxcbiAgICAvLyBkZWZpbmUgb3VyIG93biBvcGVyYXRpb24gZGVmaW5pdGlvbiBsYXRlciBvbi5cbiAgICBpZiAoZGVmaW5pdGlvbi5raW5kID09PSAnT3BlcmF0aW9uRGVmaW5pdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgYEZvdW5kIGEgJHtkZWZpbml0aW9uLm9wZXJhdGlvbn0gb3BlcmF0aW9uJHtcbiAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPyBgIG5hbWVkICcke2RlZmluaXRpb24ubmFtZS52YWx1ZX0nYCA6ICcnXG4gICAgICAgIH0uIGAgK1xuICAgICAgICAgICdObyBvcGVyYXRpb25zIGFyZSBhbGxvd2VkIHdoZW4gdXNpbmcgYSBmcmFnbWVudCBhcyBhIHF1ZXJ5LiBPbmx5IGZyYWdtZW50cyBhcmUgYWxsb3dlZC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQWRkIG91ciBkZWZpbml0aW9uIHRvIHRoZSBmcmFnbWVudHMgYXJyYXkgaWYgaXQgaXMgYSBmcmFnbWVudFxuICAgIC8vIGRlZmluaXRpb24uXG4gICAgaWYgKGRlZmluaXRpb24ua2luZCA9PT0gJ0ZyYWdtZW50RGVmaW5pdGlvbicpIHtcbiAgICAgIGZyYWdtZW50cy5wdXNoKGRlZmluaXRpb24pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSWYgdGhlIHVzZXIgZGlkIG5vdCBnaXZlIHVzIGEgZnJhZ21lbnQgbmFtZSB0aGVuIGxldCB1cyB0cnkgdG8gZ2V0IGFcbiAgLy8gbmFtZSBmcm9tIGEgc2luZ2xlIGZyYWdtZW50IGluIHRoZSBkZWZpbml0aW9uLlxuICBpZiAodHlwZW9mIGFjdHVhbEZyYWdtZW50TmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBmcmFnbWVudHMubGVuZ3RoID09PSAxLFxuICAgICAgYEZvdW5kICR7XG4gICAgICAgIGZyYWdtZW50cy5sZW5ndGhcbiAgICAgIH0gZnJhZ21lbnRzLiBcXGBmcmFnbWVudE5hbWVcXGAgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHRoZXJlIGlzIG5vdCBleGFjdGx5IDEgZnJhZ21lbnQuYCxcbiAgICApO1xuICAgIGFjdHVhbEZyYWdtZW50TmFtZSA9IGZyYWdtZW50c1swXS5uYW1lLnZhbHVlO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgYSBxdWVyeSBkb2N1bWVudCB3aXRoIGFuIG9wZXJhdGlvbiB0aGF0IHNpbXBseSBzcHJlYWRzIHRoZVxuICAvLyBmcmFnbWVudCBpbnNpZGUgb2YgaXQuXG4gIGNvbnN0IHF1ZXJ5OiBEb2N1bWVudE5vZGUgPSB7XG4gICAgLi4uZG9jdW1lbnQsXG4gICAgZGVmaW5pdGlvbnM6IFtcbiAgICAgIHtcbiAgICAgICAga2luZDogJ09wZXJhdGlvbkRlZmluaXRpb24nLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICAgIHNlbGVjdGlvblNldDoge1xuICAgICAgICAgIGtpbmQ6ICdTZWxlY3Rpb25TZXQnLFxuICAgICAgICAgIHNlbGVjdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2luZDogJ0ZyYWdtZW50U3ByZWFkJyxcbiAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYWN0dWFsRnJhZ21lbnROYW1lLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIC4uLmRvY3VtZW50LmRlZmluaXRpb25zLFxuICAgIF0sXG4gIH07XG5cbiAgcmV0dXJuIHF1ZXJ5O1xufVxuIiwiLyoqXG4gKiBBZGRzIHRoZSBwcm9wZXJ0aWVzIG9mIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIHRvIGEgdGFyZ2V0IG9iamVjdC4gV29ya3MgZXhhY3RseSBsaWtlXG4gKiBgT2JqZWN0LmFzc2lnbmAsIGJ1dCBhcyBhIHV0aWxpdHkgdG8gbWFpbnRhaW4gc3VwcG9ydCBmb3IgSUUgMTEuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvc3RhY2svYXBvbGxvLWNsaWVudC9wdWxsLzEwMDlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbjxBLCBCPihhOiBBLCBiOiBCKTogQSAmIEI7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduPEEsIEIsIEM+KGE6IEEsIGI6IEIsIGM6IEMpOiBBICYgQiAmIEM7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduPEEsIEIsIEMsIEQ+KGE6IEEsIGI6IEIsIGM6IEMsIGQ6IEQpOiBBICYgQiAmIEMgJiBEO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbjxBLCBCLCBDLCBELCBFPihcbiAgYTogQSxcbiAgYjogQixcbiAgYzogQyxcbiAgZDogRCxcbiAgZTogRSxcbik6IEEgJiBCICYgQyAmIEQgJiBFO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQ6IGFueSwgLi4uc291cmNlczogQXJyYXk8YW55Pik6IGFueTtcbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24oXG4gIHRhcmdldDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcbiAgLi4uc291cmNlczogQXJyYXk8eyBba2V5OiBzdHJpbmddOiBhbnkgfT5cbik6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xuICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3VuZGVmaW5lZCcgfHwgc291cmNlID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG4iLCJpbXBvcnQge1xuICBEb2N1bWVudE5vZGUsXG4gIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlLFxuICBGcmFnbWVudERlZmluaXRpb25Ob2RlLFxuICBWYWx1ZU5vZGUsXG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyBpbnZhcmlhbnQsIEludmFyaWFudEVycm9yIH0gZnJvbSAndHMtaW52YXJpYW50JztcblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsL2Fzc2lnbic7XG5cbmltcG9ydCB7IHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbiwgSnNvblZhbHVlIH0gZnJvbSAnLi9zdG9yZVV0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGF0aW9uRGVmaW5pdGlvbihcbiAgZG9jOiBEb2N1bWVudE5vZGUsXG4pOiBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSB7XG4gIGNoZWNrRG9jdW1lbnQoZG9jKTtcblxuICBsZXQgbXV0YXRpb25EZWY6IE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlIHwgbnVsbCA9IGRvYy5kZWZpbml0aW9ucy5maWx0ZXIoXG4gICAgZGVmaW5pdGlvbiA9PlxuICAgICAgZGVmaW5pdGlvbi5raW5kID09PSAnT3BlcmF0aW9uRGVmaW5pdGlvbicgJiZcbiAgICAgIGRlZmluaXRpb24ub3BlcmF0aW9uID09PSAnbXV0YXRpb24nLFxuICApWzBdIGFzIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlO1xuXG4gIGludmFyaWFudChtdXRhdGlvbkRlZiwgJ011c3QgY29udGFpbiBhIG11dGF0aW9uIGRlZmluaXRpb24uJyk7XG5cbiAgcmV0dXJuIG11dGF0aW9uRGVmO1xufVxuXG4vLyBDaGVja3MgdGhlIGRvY3VtZW50IGZvciBlcnJvcnMgYW5kIHRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tEb2N1bWVudChkb2M6IERvY3VtZW50Tm9kZSkge1xuICBpbnZhcmlhbnQoXG4gICAgZG9jICYmIGRvYy5raW5kID09PSAnRG9jdW1lbnQnLFxuICAgIGBFeHBlY3RpbmcgYSBwYXJzZWQgR3JhcGhRTCBkb2N1bWVudC4gUGVyaGFwcyB5b3UgbmVlZCB0byB3cmFwIHRoZSBxdWVyeSBcXFxuc3RyaW5nIGluIGEgXCJncWxcIiB0YWc/IGh0dHA6Ly9kb2NzLmFwb2xsb3N0YWNrLmNvbS9hcG9sbG8tY2xpZW50L2NvcmUuaHRtbCNncWxgLFxuICApO1xuXG4gIGNvbnN0IG9wZXJhdGlvbnMgPSBkb2MuZGVmaW5pdGlvbnNcbiAgICAuZmlsdGVyKGQgPT4gZC5raW5kICE9PSAnRnJhZ21lbnREZWZpbml0aW9uJylcbiAgICAubWFwKGRlZmluaXRpb24gPT4ge1xuICAgICAgaWYgKGRlZmluaXRpb24ua2luZCAhPT0gJ09wZXJhdGlvbkRlZmluaXRpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgICBgU2NoZW1hIHR5cGUgZGVmaW5pdGlvbnMgbm90IGFsbG93ZWQgaW4gcXVlcmllcy4gRm91bmQ6IFwiJHtcbiAgICAgICAgICAgIGRlZmluaXRpb24ua2luZFxuICAgICAgICAgIH1cImAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgICB9KTtcblxuICBpbnZhcmlhbnQoXG4gICAgb3BlcmF0aW9ucy5sZW5ndGggPD0gMSxcbiAgICBgQW1iaWd1b3VzIEdyYXBoUUwgZG9jdW1lbnQ6IGNvbnRhaW5zICR7b3BlcmF0aW9ucy5sZW5ndGh9IG9wZXJhdGlvbnNgLFxuICApO1xuXG4gIHJldHVybiBkb2M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcGVyYXRpb25EZWZpbml0aW9uKFxuICBkb2M6IERvY3VtZW50Tm9kZSxcbik6IE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlIHwgdW5kZWZpbmVkIHtcbiAgY2hlY2tEb2N1bWVudChkb2MpO1xuICByZXR1cm4gZG9jLmRlZmluaXRpb25zLmZpbHRlcihcbiAgICBkZWZpbml0aW9uID0+IGRlZmluaXRpb24ua2luZCA9PT0gJ09wZXJhdGlvbkRlZmluaXRpb24nLFxuICApWzBdIGFzIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uRGVmaW5pdGlvbk9yRGllKFxuICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuKTogT3BlcmF0aW9uRGVmaW5pdGlvbk5vZGUge1xuICBjb25zdCBkZWYgPSBnZXRPcGVyYXRpb25EZWZpbml0aW9uKGRvY3VtZW50KTtcbiAgaW52YXJpYW50KGRlZiwgYEdyYXBoUUwgZG9jdW1lbnQgaXMgbWlzc2luZyBhbiBvcGVyYXRpb25gKTtcbiAgcmV0dXJuIGRlZjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wZXJhdGlvbk5hbWUoZG9jOiBEb2N1bWVudE5vZGUpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIChcbiAgICBkb2MuZGVmaW5pdGlvbnNcbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIGRlZmluaXRpb24gPT5cbiAgICAgICAgICBkZWZpbml0aW9uLmtpbmQgPT09ICdPcGVyYXRpb25EZWZpbml0aW9uJyAmJiBkZWZpbml0aW9uLm5hbWUsXG4gICAgICApXG4gICAgICAubWFwKCh4OiBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSkgPT4geC5uYW1lLnZhbHVlKVswXSB8fCBudWxsXG4gICk7XG59XG5cbi8vIFJldHVybnMgdGhlIEZyYWdtZW50RGVmaW5pdGlvbnMgZnJvbSBhIHBhcnRpY3VsYXIgZG9jdW1lbnQgYXMgYW4gYXJyYXlcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFnbWVudERlZmluaXRpb25zKFxuICBkb2M6IERvY3VtZW50Tm9kZSxcbik6IEZyYWdtZW50RGVmaW5pdGlvbk5vZGVbXSB7XG4gIHJldHVybiBkb2MuZGVmaW5pdGlvbnMuZmlsdGVyKFxuICAgIGRlZmluaXRpb24gPT4gZGVmaW5pdGlvbi5raW5kID09PSAnRnJhZ21lbnREZWZpbml0aW9uJyxcbiAgKSBhcyBGcmFnbWVudERlZmluaXRpb25Ob2RlW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRRdWVyeURlZmluaXRpb24oZG9jOiBEb2N1bWVudE5vZGUpOiBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSB7XG4gIGNvbnN0IHF1ZXJ5RGVmID0gZ2V0T3BlcmF0aW9uRGVmaW5pdGlvbihkb2MpIGFzIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlO1xuXG4gIGludmFyaWFudChcbiAgICBxdWVyeURlZiAmJiBxdWVyeURlZi5vcGVyYXRpb24gPT09ICdxdWVyeScsXG4gICAgJ011c3QgY29udGFpbiBhIHF1ZXJ5IGRlZmluaXRpb24uJyxcbiAgKTtcblxuICByZXR1cm4gcXVlcnlEZWY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFnbWVudERlZmluaXRpb24oXG4gIGRvYzogRG9jdW1lbnROb2RlLFxuKTogRnJhZ21lbnREZWZpbml0aW9uTm9kZSB7XG4gIGludmFyaWFudChcbiAgICBkb2Mua2luZCA9PT0gJ0RvY3VtZW50JyxcbiAgICBgRXhwZWN0aW5nIGEgcGFyc2VkIEdyYXBoUUwgZG9jdW1lbnQuIFBlcmhhcHMgeW91IG5lZWQgdG8gd3JhcCB0aGUgcXVlcnkgXFxcbnN0cmluZyBpbiBhIFwiZ3FsXCIgdGFnPyBodHRwOi8vZG9jcy5hcG9sbG9zdGFjay5jb20vYXBvbGxvLWNsaWVudC9jb3JlLmh0bWwjZ3FsYCxcbiAgKTtcblxuICBpbnZhcmlhbnQoXG4gICAgZG9jLmRlZmluaXRpb25zLmxlbmd0aCA8PSAxLFxuICAgICdGcmFnbWVudCBtdXN0IGhhdmUgZXhhY3RseSBvbmUgZGVmaW5pdGlvbi4nLFxuICApO1xuXG4gIGNvbnN0IGZyYWdtZW50RGVmID0gZG9jLmRlZmluaXRpb25zWzBdIGFzIEZyYWdtZW50RGVmaW5pdGlvbk5vZGU7XG5cbiAgaW52YXJpYW50KFxuICAgIGZyYWdtZW50RGVmLmtpbmQgPT09ICdGcmFnbWVudERlZmluaXRpb24nLFxuICAgICdNdXN0IGJlIGEgZnJhZ21lbnQgZGVmaW5pdGlvbi4nLFxuICApO1xuXG4gIHJldHVybiBmcmFnbWVudERlZiBhcyBGcmFnbWVudERlZmluaXRpb25Ob2RlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IG9wZXJhdGlvbiBkZWZpbml0aW9uIGZvdW5kIGluIHRoaXMgZG9jdW1lbnQuXG4gKiBJZiBubyBvcGVyYXRpb24gZGVmaW5pdGlvbiBpcyBmb3VuZCwgdGhlIGZpcnN0IGZyYWdtZW50IGRlZmluaXRpb24gd2lsbCBiZSByZXR1cm5lZC5cbiAqIElmIG5vIGRlZmluaXRpb25zIGFyZSBmb3VuZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYWluRGVmaW5pdGlvbihcbiAgcXVlcnlEb2M6IERvY3VtZW50Tm9kZSxcbik6IE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlIHwgRnJhZ21lbnREZWZpbml0aW9uTm9kZSB7XG4gIGNoZWNrRG9jdW1lbnQocXVlcnlEb2MpO1xuXG4gIGxldCBmcmFnbWVudERlZmluaXRpb247XG5cbiAgZm9yIChsZXQgZGVmaW5pdGlvbiBvZiBxdWVyeURvYy5kZWZpbml0aW9ucykge1xuICAgIGlmIChkZWZpbml0aW9uLmtpbmQgPT09ICdPcGVyYXRpb25EZWZpbml0aW9uJykge1xuICAgICAgY29uc3Qgb3BlcmF0aW9uID0gKGRlZmluaXRpb24gYXMgT3BlcmF0aW9uRGVmaW5pdGlvbk5vZGUpLm9wZXJhdGlvbjtcbiAgICAgIGlmIChcbiAgICAgICAgb3BlcmF0aW9uID09PSAncXVlcnknIHx8XG4gICAgICAgIG9wZXJhdGlvbiA9PT0gJ211dGF0aW9uJyB8fFxuICAgICAgICBvcGVyYXRpb24gPT09ICdzdWJzY3JpcHRpb24nXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb24gYXMgT3BlcmF0aW9uRGVmaW5pdGlvbk5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWZpbml0aW9uLmtpbmQgPT09ICdGcmFnbWVudERlZmluaXRpb24nICYmICFmcmFnbWVudERlZmluaXRpb24pIHtcbiAgICAgIC8vIHdlIGRvIHRoaXMgYmVjYXVzZSB3ZSB3YW50IHRvIGFsbG93IG11bHRpcGxlIGZyYWdtZW50IGRlZmluaXRpb25zXG4gICAgICAvLyB0byBwcmVjZWRlIGFuIG9wZXJhdGlvbiBkZWZpbml0aW9uLlxuICAgICAgZnJhZ21lbnREZWZpbml0aW9uID0gZGVmaW5pdGlvbiBhcyBGcmFnbWVudERlZmluaXRpb25Ob2RlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmcmFnbWVudERlZmluaXRpb24pIHtcbiAgICByZXR1cm4gZnJhZ21lbnREZWZpbml0aW9uO1xuICB9XG5cbiAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKFxuICAgICdFeHBlY3RlZCBhIHBhcnNlZCBHcmFwaFFMIHF1ZXJ5IHdpdGggYSBxdWVyeSwgbXV0YXRpb24sIHN1YnNjcmlwdGlvbiwgb3IgYSBmcmFnbWVudC4nLFxuICApO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYW4gaW50ZXJmYWNlIHRoYXQgZGVzY3JpYmVzIGEgbWFwIGZyb20gZnJhZ21lbnQgbmFtZXMgdG8gZnJhZ21lbnQgZGVmaW5pdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnJhZ21lbnRNYXAge1xuICBbZnJhZ21lbnROYW1lOiBzdHJpbmddOiBGcmFnbWVudERlZmluaXRpb25Ob2RlO1xufVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBsaXN0IG9mIGZyYWdtZW50IGRlZmluaXRpb25zIGFuZCBtYWtlcyBhIGhhc2ggb3V0IG9mIHRoZW1cbi8vIHRoYXQgbWFwcyB0aGUgbmFtZSBvZiB0aGUgZnJhZ21lbnQgdG8gdGhlIGZyYWdtZW50IGRlZmluaXRpb24uXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnRNYXAoXG4gIGZyYWdtZW50czogRnJhZ21lbnREZWZpbml0aW9uTm9kZVtdID0gW10sXG4pOiBGcmFnbWVudE1hcCB7XG4gIGNvbnN0IHN5bVRhYmxlOiBGcmFnbWVudE1hcCA9IHt9O1xuICBmcmFnbWVudHMuZm9yRWFjaChmcmFnbWVudCA9PiB7XG4gICAgc3ltVGFibGVbZnJhZ21lbnQubmFtZS52YWx1ZV0gPSBmcmFnbWVudDtcbiAgfSk7XG5cbiAgcmV0dXJuIHN5bVRhYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlcyhcbiAgZGVmaW5pdGlvbjogT3BlcmF0aW9uRGVmaW5pdGlvbk5vZGUgfCB1bmRlZmluZWQsXG4pOiB7IFtrZXk6IHN0cmluZ106IEpzb25WYWx1ZSB9IHtcbiAgaWYgKFxuICAgIGRlZmluaXRpb24gJiZcbiAgICBkZWZpbml0aW9uLnZhcmlhYmxlRGVmaW5pdGlvbnMgJiZcbiAgICBkZWZpbml0aW9uLnZhcmlhYmxlRGVmaW5pdGlvbnMubGVuZ3RoXG4gICkge1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZXMgPSBkZWZpbml0aW9uLnZhcmlhYmxlRGVmaW5pdGlvbnNcbiAgICAgIC5maWx0ZXIoKHsgZGVmYXVsdFZhbHVlIH0pID0+IGRlZmF1bHRWYWx1ZSlcbiAgICAgIC5tYXAoXG4gICAgICAgICh7IHZhcmlhYmxlLCBkZWZhdWx0VmFsdWUgfSk6IHsgW2tleTogc3RyaW5nXTogSnNvblZhbHVlIH0gPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZU9iajogeyBba2V5OiBzdHJpbmddOiBKc29uVmFsdWUgfSA9IHt9O1xuICAgICAgICAgIHZhbHVlVG9PYmplY3RSZXByZXNlbnRhdGlvbihcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZU9iaixcbiAgICAgICAgICAgIHZhcmlhYmxlLm5hbWUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgYXMgVmFsdWVOb2RlLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlT2JqO1xuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgIHJldHVybiBhc3NpZ24oe30sIC4uLmRlZmF1bHRWYWx1ZXMpO1xuICB9XG5cbiAgcmV0dXJuIHt9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWVzIG9mIGFsbCB2YXJpYWJsZXMgZGVjbGFyZWQgYnkgdGhlIG9wZXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhcmlhYmxlc0luT3BlcmF0aW9uKFxuICBvcGVyYXRpb246IE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlLFxuKTogU2V0PHN0cmluZz4ge1xuICBjb25zdCBuYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBpZiAob3BlcmF0aW9uLnZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGRlZmluaXRpb24gb2Ygb3BlcmF0aW9uLnZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICAgIG5hbWVzLmFkZChkZWZpbml0aW9uLnZhcmlhYmxlLm5hbWUudmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJJblBsYWNlPFQ+KFxuICBhcnJheTogVFtdLFxuICB0ZXN0OiAoZWxlbTogVCkgPT4gYm9vbGVhbixcbiAgY29udGV4dD86IGFueSxcbik6IFRbXSB7XG4gIGxldCB0YXJnZXQgPSAwO1xuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtLCBpKSB7XG4gICAgaWYgKHRlc3QuY2FsbCh0aGlzLCBlbGVtLCBpLCBhcnJheSkpIHtcbiAgICAgIGFycmF5W3RhcmdldCsrXSA9IGVsZW07XG4gICAgfVxuICB9LCBjb250ZXh0KTtcbiAgYXJyYXkubGVuZ3RoID0gdGFyZ2V0O1xuICByZXR1cm4gYXJyYXk7XG59XG4iLCJpbXBvcnQge1xuICBEb2N1bWVudE5vZGUsXG4gIFNlbGVjdGlvbk5vZGUsXG4gIFNlbGVjdGlvblNldE5vZGUsXG4gIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlLFxuICBGaWVsZE5vZGUsXG4gIERpcmVjdGl2ZU5vZGUsXG4gIEZyYWdtZW50RGVmaW5pdGlvbk5vZGUsXG4gIEFyZ3VtZW50Tm9kZSxcbiAgRnJhZ21lbnRTcHJlYWROb2RlLFxuICBWYXJpYWJsZURlZmluaXRpb25Ob2RlLFxuICBWYXJpYWJsZU5vZGUsXG59IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICdncmFwaHFsL2xhbmd1YWdlL3Zpc2l0b3InO1xuXG5pbXBvcnQge1xuICBjaGVja0RvY3VtZW50LFxuICBnZXRPcGVyYXRpb25EZWZpbml0aW9uLFxuICBnZXRGcmFnbWVudERlZmluaXRpb24sXG4gIGdldEZyYWdtZW50RGVmaW5pdGlvbnMsXG4gIGNyZWF0ZUZyYWdtZW50TWFwLFxuICBGcmFnbWVudE1hcCxcbiAgZ2V0TWFpbkRlZmluaXRpb24sXG59IGZyb20gJy4vZ2V0RnJvbUFTVCc7XG5pbXBvcnQgeyBmaWx0ZXJJblBsYWNlIH0gZnJvbSAnLi91dGlsL2ZpbHRlckluUGxhY2UnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAndHMtaW52YXJpYW50JztcbmltcG9ydCB7IGlzRmllbGQsIGlzSW5saW5lRnJhZ21lbnQgfSBmcm9tICcuL3N0b3JlVXRpbHMnO1xuXG5leHBvcnQgdHlwZSBSZW1vdmVOb2RlQ29uZmlnPE4+ID0ge1xuICBuYW1lPzogc3RyaW5nO1xuICB0ZXN0PzogKG5vZGU6IE4pID0+IGJvb2xlYW47XG4gIHJlbW92ZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBHZXROb2RlQ29uZmlnPE4+ID0ge1xuICBuYW1lPzogc3RyaW5nO1xuICB0ZXN0PzogKG5vZGU6IE4pID0+IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBSZW1vdmVEaXJlY3RpdmVDb25maWcgPSBSZW1vdmVOb2RlQ29uZmlnPERpcmVjdGl2ZU5vZGU+O1xuZXhwb3J0IHR5cGUgR2V0RGlyZWN0aXZlQ29uZmlnID0gR2V0Tm9kZUNvbmZpZzxEaXJlY3RpdmVOb2RlPjtcbmV4cG9ydCB0eXBlIFJlbW92ZUFyZ3VtZW50c0NvbmZpZyA9IFJlbW92ZU5vZGVDb25maWc8QXJndW1lbnROb2RlPjtcbmV4cG9ydCB0eXBlIEdldEZyYWdtZW50U3ByZWFkQ29uZmlnID0gR2V0Tm9kZUNvbmZpZzxGcmFnbWVudFNwcmVhZE5vZGU+O1xuZXhwb3J0IHR5cGUgUmVtb3ZlRnJhZ21lbnRTcHJlYWRDb25maWcgPSBSZW1vdmVOb2RlQ29uZmlnPEZyYWdtZW50U3ByZWFkTm9kZT47XG5leHBvcnQgdHlwZSBSZW1vdmVGcmFnbWVudERlZmluaXRpb25Db25maWcgPSBSZW1vdmVOb2RlQ29uZmlnPFxuICBGcmFnbWVudERlZmluaXRpb25Ob2RlXG4+O1xuZXhwb3J0IHR5cGUgUmVtb3ZlVmFyaWFibGVEZWZpbml0aW9uQ29uZmlnID0gUmVtb3ZlTm9kZUNvbmZpZzxcbiAgVmFyaWFibGVEZWZpbml0aW9uTm9kZVxuPjtcblxuY29uc3QgVFlQRU5BTUVfRklFTEQ6IEZpZWxkTm9kZSA9IHtcbiAga2luZDogJ0ZpZWxkJyxcbiAgbmFtZToge1xuICAgIGtpbmQ6ICdOYW1lJyxcbiAgICB2YWx1ZTogJ19fdHlwZW5hbWUnLFxuICB9LFxufTtcblxuZnVuY3Rpb24gaXNFbXB0eShcbiAgb3A6IE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlIHwgRnJhZ21lbnREZWZpbml0aW9uTm9kZSxcbiAgZnJhZ21lbnRzOiBGcmFnbWVudE1hcCxcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gb3Auc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMuZXZlcnkoXG4gICAgc2VsZWN0aW9uID0+XG4gICAgICBzZWxlY3Rpb24ua2luZCA9PT0gJ0ZyYWdtZW50U3ByZWFkJyAmJlxuICAgICAgaXNFbXB0eShmcmFnbWVudHNbc2VsZWN0aW9uLm5hbWUudmFsdWVdLCBmcmFnbWVudHMpLFxuICApO1xufVxuXG5mdW5jdGlvbiBudWxsSWZEb2NJc0VtcHR5KGRvYzogRG9jdW1lbnROb2RlKSB7XG4gIHJldHVybiBpc0VtcHR5KFxuICAgIGdldE9wZXJhdGlvbkRlZmluaXRpb24oZG9jKSB8fCBnZXRGcmFnbWVudERlZmluaXRpb24oZG9jKSxcbiAgICBjcmVhdGVGcmFnbWVudE1hcChnZXRGcmFnbWVudERlZmluaXRpb25zKGRvYykpLFxuICApXG4gICAgPyBudWxsXG4gICAgOiBkb2M7XG59XG5cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZU1hdGNoZXIoXG4gIGRpcmVjdGl2ZXM6IChSZW1vdmVEaXJlY3RpdmVDb25maWcgfCBHZXREaXJlY3RpdmVDb25maWcpW10sXG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRpcmVjdGl2ZU1hdGNoZXIoZGlyZWN0aXZlOiBEaXJlY3RpdmVOb2RlKSB7XG4gICAgcmV0dXJuIGRpcmVjdGl2ZXMuc29tZShcbiAgICAgIGRpciA9PlxuICAgICAgICAoZGlyLm5hbWUgJiYgZGlyLm5hbWUgPT09IGRpcmVjdGl2ZS5uYW1lLnZhbHVlKSB8fFxuICAgICAgICAoZGlyLnRlc3QgJiYgZGlyLnRlc3QoZGlyZWN0aXZlKSksXG4gICAgKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURpcmVjdGl2ZXNGcm9tRG9jdW1lbnQoXG4gIGRpcmVjdGl2ZXM6IFJlbW92ZURpcmVjdGl2ZUNvbmZpZ1tdLFxuICBkb2M6IERvY3VtZW50Tm9kZSxcbik6IERvY3VtZW50Tm9kZSB8IG51bGwge1xuICBjb25zdCB2YXJpYWJsZXNJblVzZTogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBsZXQgdmFyaWFibGVzVG9SZW1vdmU6IFJlbW92ZUFyZ3VtZW50c0NvbmZpZ1tdID0gW107XG5cbiAgY29uc3QgZnJhZ21lbnRTcHJlYWRzSW5Vc2U6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgbGV0IGZyYWdtZW50U3ByZWFkc1RvUmVtb3ZlOiBSZW1vdmVGcmFnbWVudFNwcmVhZENvbmZpZ1tdID0gW107XG5cbiAgbGV0IG1vZGlmaWVkRG9jID0gbnVsbElmRG9jSXNFbXB0eShcbiAgICB2aXNpdChkb2MsIHtcbiAgICAgIFZhcmlhYmxlOiB7XG4gICAgICAgIGVudGVyKG5vZGUsIF9rZXksIHBhcmVudCkge1xuICAgICAgICAgIC8vIFN0b3JlIGVhY2ggdmFyaWFibGUgdGhhdCdzIHJlZmVyZW5jZWQgYXMgcGFydCBvZiBhbiBhcmd1bWVudFxuICAgICAgICAgIC8vIChleGNsdWRpbmcgb3BlcmF0aW9uIGRlZmluaXRpb24gdmFyaWFibGVzKSwgc28gd2Uga25vdyB3aGljaFxuICAgICAgICAgIC8vIHZhcmlhYmxlcyBhcmUgYmVpbmcgdXNlZC4gSWYgd2UgbGF0ZXIgd2FudCB0byByZW1vdmUgYSB2YXJpYWJsZVxuICAgICAgICAgIC8vIHdlJ2xsIGZpc3QgY2hlY2sgdG8gc2VlIGlmIGl0J3MgYmVpbmcgdXNlZCwgYmVmb3JlIGNvbnRpbnVpbmcgd2l0aFxuICAgICAgICAgIC8vIHRoZSByZW1vdmFsLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChwYXJlbnQgYXMgVmFyaWFibGVEZWZpbml0aW9uTm9kZSkua2luZCAhPT0gJ1ZhcmlhYmxlRGVmaW5pdGlvbidcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhcmlhYmxlc0luVXNlW25vZGUubmFtZS52YWx1ZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG5cbiAgICAgIEZpZWxkOiB7XG4gICAgICAgIGVudGVyKG5vZGUpIHtcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlcyAmJiBub2RlLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICAgIC8vIElmIGByZW1vdmVgIGlzIHNldCB0byB0cnVlIGZvciBhIGRpcmVjdGl2ZSwgYW5kIGEgZGlyZWN0aXZlIG1hdGNoXG4gICAgICAgICAgICAvLyBpcyBmb3VuZCBmb3IgYSBmaWVsZCwgcmVtb3ZlIHRoZSBmaWVsZCBhcyB3ZWxsLlxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlRmllbGQgPSBkaXJlY3RpdmVzLnNvbWUoXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZSA9PiBkaXJlY3RpdmUucmVtb3ZlLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzaG91bGRSZW1vdmVGaWVsZCAmJlxuICAgICAgICAgICAgICBub2RlLmRpcmVjdGl2ZXMgJiZcbiAgICAgICAgICAgICAgbm9kZS5kaXJlY3RpdmVzLnNvbWUoZ2V0RGlyZWN0aXZlTWF0Y2hlcihkaXJlY3RpdmVzKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAobm9kZS5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBmaWVsZCBhcmd1bWVudCB2YXJpYWJsZXMgc28gdGhleSBjYW4gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIC8vIGZyb20gdGhlIG9wZXJhdGlvbiBkZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgIG5vZGUuYXJndW1lbnRzLmZvckVhY2goYXJnID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChhcmcudmFsdWUua2luZCA9PT0gJ1ZhcmlhYmxlJykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXNUb1JlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAoYXJnLnZhbHVlIGFzIFZhcmlhYmxlTm9kZSkubmFtZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAobm9kZS5zZWxlY3Rpb25TZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBmcmFnbWVudCBzcHJlYWQgbmFtZXMgc28gdGhleSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgICAgICAgICAgICAgIC8vIGRvY3VlbW50LlxuICAgICAgICAgICAgICAgIGdldEFsbEZyYWdtZW50U3ByZWFkc0Zyb21TZWxlY3Rpb25TZXQobm9kZS5zZWxlY3Rpb25TZXQpLmZvckVhY2goXG4gICAgICAgICAgICAgICAgICBmcmFnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnRTcHJlYWRzVG9SZW1vdmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogZnJhZy5uYW1lLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZmllbGQuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG5cbiAgICAgIEZyYWdtZW50U3ByZWFkOiB7XG4gICAgICAgIGVudGVyKG5vZGUpIHtcbiAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHJlZmVyZW5jZWQgZnJhZ21lbnQgc3ByZWFkcy4gVGhpcyBpcyB1c2VkIHRvXG4gICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHRvcCBsZXZlbCBmcmFnbWVudCBkZWZpbml0aW9ucyBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAgICBmcmFnbWVudFNwcmVhZHNJblVzZVtub2RlLm5hbWUudmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG5cbiAgICAgIERpcmVjdGl2ZToge1xuICAgICAgICBlbnRlcihub2RlKSB7XG4gICAgICAgICAgLy8gSWYgYSBtYXRjaGluZyBkaXJlY3RpdmUgaXMgZm91bmQsIHJlbW92ZSBpdC5cbiAgICAgICAgICBpZiAoZ2V0RGlyZWN0aXZlTWF0Y2hlcihkaXJlY3RpdmVzKShub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcblxuICAvLyBJZiB3ZSd2ZSByZW1vdmVkIGZpZWxkcyB3aXRoIGFyZ3VtZW50cywgbWFrZSBzdXJlIHRoZSBhc3NvY2lhdGVkXG4gIC8vIHZhcmlhYmxlcyBhcmUgYWxzbyByZW1vdmVkIGZyb20gdGhlIHJlc3Qgb2YgdGhlIGRvY3VtZW50LCBhcyBsb25nIGFzIHRoZXlcbiAgLy8gYXJlbid0IGJlaW5nIHVzZWQgZWxzZXdoZXJlLlxuICBpZiAoXG4gICAgbW9kaWZpZWREb2MgJiZcbiAgICBmaWx0ZXJJblBsYWNlKHZhcmlhYmxlc1RvUmVtb3ZlLCB2ID0+ICF2YXJpYWJsZXNJblVzZVt2Lm5hbWVdKS5sZW5ndGhcbiAgKSB7XG4gICAgbW9kaWZpZWREb2MgPSByZW1vdmVBcmd1bWVudHNGcm9tRG9jdW1lbnQodmFyaWFibGVzVG9SZW1vdmUsIG1vZGlmaWVkRG9jKTtcbiAgfVxuXG4gIC8vIElmIHdlJ3ZlIHJlbW92ZWQgc2VsZWN0aW9uIHNldHMgd2l0aCBmcmFnbWVudCBzcHJlYWRzLCBtYWtlIHN1cmUgdGhlXG4gIC8vIGFzc29jaWF0ZWQgZnJhZ21lbnQgZGVmaW5pdGlvbnMgYXJlIGFsc28gcmVtb3ZlZCBmcm9tIHRoZSByZXN0IG9mIHRoZVxuICAvLyBkb2N1bWVudCwgYXMgbG9uZyBhcyB0aGV5IGFyZW4ndCBiZWluZyB1c2VkIGVsc2V3aGVyZS5cbiAgaWYgKFxuICAgIG1vZGlmaWVkRG9jICYmXG4gICAgZmlsdGVySW5QbGFjZShmcmFnbWVudFNwcmVhZHNUb1JlbW92ZSwgZnMgPT4gIWZyYWdtZW50U3ByZWFkc0luVXNlW2ZzLm5hbWVdKVxuICAgICAgLmxlbmd0aFxuICApIHtcbiAgICBtb2RpZmllZERvYyA9IHJlbW92ZUZyYWdtZW50U3ByZWFkRnJvbURvY3VtZW50KFxuICAgICAgZnJhZ21lbnRTcHJlYWRzVG9SZW1vdmUsXG4gICAgICBtb2RpZmllZERvYyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG1vZGlmaWVkRG9jO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVHlwZW5hbWVUb0RvY3VtZW50KGRvYzogRG9jdW1lbnROb2RlKTogRG9jdW1lbnROb2RlIHtcbiAgcmV0dXJuIHZpc2l0KGNoZWNrRG9jdW1lbnQoZG9jKSwge1xuICAgIFNlbGVjdGlvblNldDoge1xuICAgICAgZW50ZXIobm9kZSwgX2tleSwgcGFyZW50KSB7XG4gICAgICAgIC8vIERvbid0IGFkZCBfX3R5cGVuYW1lIHRvIE9wZXJhdGlvbkRlZmluaXRpb25zLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFyZW50ICYmXG4gICAgICAgICAgKHBhcmVudCBhcyBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSkua2luZCA9PT0gJ09wZXJhdGlvbkRlZmluaXRpb24nXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vIGNoYW5nZXMgaWYgbm8gc2VsZWN0aW9ucy5cbiAgICAgICAgY29uc3QgeyBzZWxlY3Rpb25zIH0gPSBub2RlO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBzZWxlY3Rpb25zIGFscmVhZHkgaGF2ZSBhIF9fdHlwZW5hbWUsIG9yIGFyZSBwYXJ0IG9mIGFuXG4gICAgICAgIC8vIGludHJvc3BlY3Rpb24gcXVlcnksIGRvIG5vdGhpbmcuXG4gICAgICAgIGNvbnN0IHNraXAgPSBzZWxlY3Rpb25zLnNvbWUoc2VsZWN0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNGaWVsZChzZWxlY3Rpb24pICYmXG4gICAgICAgICAgICAoc2VsZWN0aW9uLm5hbWUudmFsdWUgPT09ICdfX3R5cGVuYW1lJyB8fFxuICAgICAgICAgICAgICBzZWxlY3Rpb24ubmFtZS52YWx1ZS5sYXN0SW5kZXhPZignX18nLCAwKSA9PT0gMClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNraXApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIFNlbGVjdGlvblNldCBpcyBAZXhwb3J0LWVkIGFzIGFuIGlucHV0IHZhcmlhYmxlLCBpdCBzaG91bGRcbiAgICAgICAgLy8gbm90IGhhdmUgYSBfX3R5cGVuYW1lIGZpZWxkIChzZWUgaXNzdWUgIzQ2OTEpLlxuICAgICAgICBjb25zdCBmaWVsZCA9IHBhcmVudCBhcyBGaWVsZE5vZGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0ZpZWxkKGZpZWxkKSAmJlxuICAgICAgICAgIGZpZWxkLmRpcmVjdGl2ZXMgJiZcbiAgICAgICAgICBmaWVsZC5kaXJlY3RpdmVzLnNvbWUoZCA9PiBkLm5hbWUudmFsdWUgPT09ICdleHBvcnQnKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBTZWxlY3Rpb25TZXQgd2l0aCBhIF9fdHlwZW5hbWUgRmllbGQuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubm9kZSxcbiAgICAgICAgICBzZWxlY3Rpb25zOiBbLi4uc2VsZWN0aW9ucywgVFlQRU5BTUVfRklFTERdLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbn1cblxuY29uc3QgY29ubmVjdGlvblJlbW92ZUNvbmZpZyA9IHtcbiAgdGVzdDogKGRpcmVjdGl2ZTogRGlyZWN0aXZlTm9kZSkgPT4ge1xuICAgIGNvbnN0IHdpbGxSZW1vdmUgPSBkaXJlY3RpdmUubmFtZS52YWx1ZSA9PT0gJ2Nvbm5lY3Rpb24nO1xuICAgIGlmICh3aWxsUmVtb3ZlKSB7XG4gICAgICBpZiAoXG4gICAgICAgICFkaXJlY3RpdmUuYXJndW1lbnRzIHx8XG4gICAgICAgICFkaXJlY3RpdmUuYXJndW1lbnRzLnNvbWUoYXJnID0+IGFyZy5uYW1lLnZhbHVlID09PSAna2V5JylcbiAgICAgICkge1xuICAgICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgICAnUmVtb3ZpbmcgYW4gQGNvbm5lY3Rpb24gZGlyZWN0aXZlIGV2ZW4gdGhvdWdoIGl0IGRvZXMgbm90IGhhdmUgYSBrZXkuICcgK1xuICAgICAgICAgICAgJ1lvdSBtYXkgd2FudCB0byB1c2UgdGhlIGtleSBwYXJhbWV0ZXIgdG8gc3BlY2lmeSBhIHN0b3JlIGtleS4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3aWxsUmVtb3ZlO1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25EaXJlY3RpdmVGcm9tRG9jdW1lbnQoZG9jOiBEb2N1bWVudE5vZGUpIHtcbiAgcmV0dXJuIHJlbW92ZURpcmVjdGl2ZXNGcm9tRG9jdW1lbnQoXG4gICAgW2Nvbm5lY3Rpb25SZW1vdmVDb25maWddLFxuICAgIGNoZWNrRG9jdW1lbnQoZG9jKSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gaGFzRGlyZWN0aXZlc0luU2VsZWN0aW9uU2V0KFxuICBkaXJlY3RpdmVzOiBHZXREaXJlY3RpdmVDb25maWdbXSxcbiAgc2VsZWN0aW9uU2V0OiBTZWxlY3Rpb25TZXROb2RlLFxuICBuZXN0ZWRDaGVjayA9IHRydWUsXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBzZWxlY3Rpb25TZXQgJiZcbiAgICBzZWxlY3Rpb25TZXQuc2VsZWN0aW9ucyAmJlxuICAgIHNlbGVjdGlvblNldC5zZWxlY3Rpb25zLnNvbWUoc2VsZWN0aW9uID0+XG4gICAgICBoYXNEaXJlY3RpdmVzSW5TZWxlY3Rpb24oZGlyZWN0aXZlcywgc2VsZWN0aW9uLCBuZXN0ZWRDaGVjayksXG4gICAgKVxuICApO1xufVxuXG5mdW5jdGlvbiBoYXNEaXJlY3RpdmVzSW5TZWxlY3Rpb24oXG4gIGRpcmVjdGl2ZXM6IEdldERpcmVjdGl2ZUNvbmZpZ1tdLFxuICBzZWxlY3Rpb246IFNlbGVjdGlvbk5vZGUsXG4gIG5lc3RlZENoZWNrID0gdHJ1ZSxcbik6IGJvb2xlYW4ge1xuICBpZiAoIWlzRmllbGQoc2VsZWN0aW9uKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKCFzZWxlY3Rpb24uZGlyZWN0aXZlcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgc2VsZWN0aW9uLmRpcmVjdGl2ZXMuc29tZShnZXREaXJlY3RpdmVNYXRjaGVyKGRpcmVjdGl2ZXMpKSB8fFxuICAgIChuZXN0ZWRDaGVjayAmJlxuICAgICAgaGFzRGlyZWN0aXZlc0luU2VsZWN0aW9uU2V0KFxuICAgICAgICBkaXJlY3RpdmVzLFxuICAgICAgICBzZWxlY3Rpb24uc2VsZWN0aW9uU2V0LFxuICAgICAgICBuZXN0ZWRDaGVjayxcbiAgICAgICkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3RpdmVzRnJvbURvY3VtZW50KFxuICBkaXJlY3RpdmVzOiBHZXREaXJlY3RpdmVDb25maWdbXSxcbiAgZG9jOiBEb2N1bWVudE5vZGUsXG4pOiBEb2N1bWVudE5vZGUge1xuICBjaGVja0RvY3VtZW50KGRvYyk7XG5cbiAgbGV0IHBhcmVudFBhdGg6IHN0cmluZztcblxuICByZXR1cm4gbnVsbElmRG9jSXNFbXB0eShcbiAgICB2aXNpdChkb2MsIHtcbiAgICAgIFNlbGVjdGlvblNldDoge1xuICAgICAgICBlbnRlcihub2RlLCBfa2V5LCBfcGFyZW50LCBwYXRoKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSBwYXRoLmpvaW4oJy0nKTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFwYXJlbnRQYXRoIHx8XG4gICAgICAgICAgICBjdXJyZW50UGF0aCA9PT0gcGFyZW50UGF0aCB8fFxuICAgICAgICAgICAgIWN1cnJlbnRQYXRoLnN0YXJ0c1dpdGgocGFyZW50UGF0aClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChub2RlLnNlbGVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uc1dpdGhEaXJlY3RpdmVzID0gbm9kZS5zZWxlY3Rpb25zLmZpbHRlcihcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPT4gaGFzRGlyZWN0aXZlc0luU2VsZWN0aW9uKGRpcmVjdGl2ZXMsIHNlbGVjdGlvbiksXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKGhhc0RpcmVjdGl2ZXNJblNlbGVjdGlvblNldChkaXJlY3RpdmVzLCBub2RlLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRQYXRoID0gY3VycmVudFBhdGg7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm5vZGUsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uczogc2VsZWN0aW9uc1dpdGhEaXJlY3RpdmVzLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXJndW1lbnRNYXRjaGVyKGNvbmZpZzogUmVtb3ZlQXJndW1lbnRzQ29uZmlnW10pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGFyZ3VtZW50TWF0Y2hlcihhcmd1bWVudDogQXJndW1lbnROb2RlKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5zb21lKFxuICAgICAgKGFDb25maWc6IFJlbW92ZUFyZ3VtZW50c0NvbmZpZykgPT5cbiAgICAgICAgYXJndW1lbnQudmFsdWUgJiZcbiAgICAgICAgYXJndW1lbnQudmFsdWUua2luZCA9PT0gJ1ZhcmlhYmxlJyAmJlxuICAgICAgICBhcmd1bWVudC52YWx1ZS5uYW1lICYmXG4gICAgICAgIChhQ29uZmlnLm5hbWUgPT09IGFyZ3VtZW50LnZhbHVlLm5hbWUudmFsdWUgfHxcbiAgICAgICAgICAoYUNvbmZpZy50ZXN0ICYmIGFDb25maWcudGVzdChhcmd1bWVudCkpKSxcbiAgICApO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXJndW1lbnRzRnJvbURvY3VtZW50KFxuICBjb25maWc6IFJlbW92ZUFyZ3VtZW50c0NvbmZpZ1tdLFxuICBkb2M6IERvY3VtZW50Tm9kZSxcbik6IERvY3VtZW50Tm9kZSB7XG4gIGNvbnN0IGFyZ01hdGNoZXIgPSBnZXRBcmd1bWVudE1hdGNoZXIoY29uZmlnKTtcblxuICByZXR1cm4gbnVsbElmRG9jSXNFbXB0eShcbiAgICB2aXNpdChkb2MsIHtcbiAgICAgIE9wZXJhdGlvbkRlZmluaXRpb246IHtcbiAgICAgICAgZW50ZXIobm9kZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgLy8gUmVtb3ZlIG1hdGNoaW5nIHRvcCBsZXZlbCB2YXJpYWJsZXMgZGVmaW5pdGlvbnMuXG4gICAgICAgICAgICB2YXJpYWJsZURlZmluaXRpb25zOiBub2RlLnZhcmlhYmxlRGVmaW5pdGlvbnMuZmlsdGVyKFxuICAgICAgICAgICAgICB2YXJEZWYgPT5cbiAgICAgICAgICAgICAgICAhY29uZmlnLnNvbWUoYXJnID0+IGFyZy5uYW1lID09PSB2YXJEZWYudmFyaWFibGUubmFtZS52YWx1ZSksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICB9LFxuXG4gICAgICBGaWVsZDoge1xuICAgICAgICBlbnRlcihub2RlKSB7XG4gICAgICAgICAgLy8gSWYgYHJlbW92ZWAgaXMgc2V0IHRvIHRydWUgZm9yIGFuIGFyZ3VtZW50LCBhbmQgYW4gYXJndW1lbnQgbWF0Y2hcbiAgICAgICAgICAvLyBpcyBmb3VuZCBmb3IgYSBmaWVsZCwgcmVtb3ZlIHRoZSBmaWVsZCBhcyB3ZWxsLlxuICAgICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUZpZWxkID0gY29uZmlnLnNvbWUoYXJnQ29uZmlnID0+IGFyZ0NvbmZpZy5yZW1vdmUpO1xuXG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZUZpZWxkKSB7XG4gICAgICAgICAgICBsZXQgYXJnTWF0Y2hDb3VudCA9IDA7XG4gICAgICAgICAgICBub2RlLmFyZ3VtZW50cy5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICAgICAgICAgIGlmIChhcmdNYXRjaGVyKGFyZykpIHtcbiAgICAgICAgICAgICAgICBhcmdNYXRjaENvdW50ICs9IDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFyZ01hdGNoQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcblxuICAgICAgQXJndW1lbnQ6IHtcbiAgICAgICAgZW50ZXIobm9kZSkge1xuICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbWF0Y2hpbmcgYXJndW1lbnRzLlxuICAgICAgICAgIGlmIChhcmdNYXRjaGVyKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJhZ21lbnRTcHJlYWRGcm9tRG9jdW1lbnQoXG4gIGNvbmZpZzogUmVtb3ZlRnJhZ21lbnRTcHJlYWRDb25maWdbXSxcbiAgZG9jOiBEb2N1bWVudE5vZGUsXG4pOiBEb2N1bWVudE5vZGUge1xuICBmdW5jdGlvbiBlbnRlcihcbiAgICBub2RlOiBGcmFnbWVudFNwcmVhZE5vZGUgfCBGcmFnbWVudERlZmluaXRpb25Ob2RlLFxuICApOiBudWxsIHwgdm9pZCB7XG4gICAgaWYgKGNvbmZpZy5zb21lKGRlZiA9PiBkZWYubmFtZSA9PT0gbm9kZS5uYW1lLnZhbHVlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGxJZkRvY0lzRW1wdHkoXG4gICAgdmlzaXQoZG9jLCB7XG4gICAgICBGcmFnbWVudFNwcmVhZDogeyBlbnRlciB9LFxuICAgICAgRnJhZ21lbnREZWZpbml0aW9uOiB7IGVudGVyIH0sXG4gICAgfSksXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbEZyYWdtZW50U3ByZWFkc0Zyb21TZWxlY3Rpb25TZXQoXG4gIHNlbGVjdGlvblNldDogU2VsZWN0aW9uU2V0Tm9kZSxcbik6IEZyYWdtZW50U3ByZWFkTm9kZVtdIHtcbiAgY29uc3QgYWxsRnJhZ21lbnRzOiBGcmFnbWVudFNwcmVhZE5vZGVbXSA9IFtdO1xuXG4gIHNlbGVjdGlvblNldC5zZWxlY3Rpb25zLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICBpZiAoXG4gICAgICAoaXNGaWVsZChzZWxlY3Rpb24pIHx8IGlzSW5saW5lRnJhZ21lbnQoc2VsZWN0aW9uKSkgJiZcbiAgICAgIHNlbGVjdGlvbi5zZWxlY3Rpb25TZXRcbiAgICApIHtcbiAgICAgIGdldEFsbEZyYWdtZW50U3ByZWFkc0Zyb21TZWxlY3Rpb25TZXQoc2VsZWN0aW9uLnNlbGVjdGlvblNldCkuZm9yRWFjaChcbiAgICAgICAgZnJhZyA9PiBhbGxGcmFnbWVudHMucHVzaChmcmFnKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChzZWxlY3Rpb24ua2luZCA9PT0gJ0ZyYWdtZW50U3ByZWFkJykge1xuICAgICAgYWxsRnJhZ21lbnRzLnB1c2goc2VsZWN0aW9uKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhbGxGcmFnbWVudHM7XG59XG5cbi8vIElmIHRoZSBpbmNvbWluZyBkb2N1bWVudCBpcyBhIHF1ZXJ5LCByZXR1cm4gaXQgYXMgaXMuIE90aGVyd2lzZSwgYnVpbGQgYVxuLy8gbmV3IGRvY3VtZW50IGNvbnRhaW5pbmcgYSBxdWVyeSBvcGVyYXRpb24gYmFzZWQgb24gdGhlIHNlbGVjdGlvbiBzZXRcbi8vIG9mIHRoZSBwcmV2aW91cyBtYWluIG9wZXJhdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5RnJvbVNlbGVjdGlvblNldChcbiAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSxcbik6IERvY3VtZW50Tm9kZSB7XG4gIGNvbnN0IGRlZmluaXRpb24gPSBnZXRNYWluRGVmaW5pdGlvbihkb2N1bWVudCk7XG4gIGNvbnN0IGRlZmluaXRpb25PcGVyYXRpb24gPSAoPE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlPmRlZmluaXRpb24pLm9wZXJhdGlvbjtcblxuICBpZiAoZGVmaW5pdGlvbk9wZXJhdGlvbiA9PT0gJ3F1ZXJ5Jykge1xuICAgIC8vIEFscmVhZHkgYSBxdWVyeSwgc28gcmV0dXJuIHRoZSBleGlzdGluZyBkb2N1bWVudC5cbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cblxuICAvLyBCdWlsZCBhIG5ldyBxdWVyeSB1c2luZyB0aGUgc2VsZWN0aW9uIHNldCBvZiB0aGUgbWFpbiBvcGVyYXRpb24uXG4gIGNvbnN0IG1vZGlmaWVkRG9jID0gdmlzaXQoZG9jdW1lbnQsIHtcbiAgICBPcGVyYXRpb25EZWZpbml0aW9uOiB7XG4gICAgICBlbnRlcihub2RlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubm9kZSxcbiAgICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gbW9kaWZpZWREb2M7XG59XG5cbi8vIFJlbW92ZSBmaWVsZHMgLyBzZWxlY3Rpb24gc2V0cyB0aGF0IGluY2x1ZGUgYW4gQGNsaWVudCBkaXJlY3RpdmUuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xpZW50U2V0c0Zyb21Eb2N1bWVudChcbiAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSxcbik6IERvY3VtZW50Tm9kZSB8IG51bGwge1xuICBjaGVja0RvY3VtZW50KGRvY3VtZW50KTtcblxuICBsZXQgbW9kaWZpZWREb2MgPSByZW1vdmVEaXJlY3RpdmVzRnJvbURvY3VtZW50KFxuICAgIFtcbiAgICAgIHtcbiAgICAgICAgdGVzdDogKGRpcmVjdGl2ZTogRGlyZWN0aXZlTm9kZSkgPT4gZGlyZWN0aXZlLm5hbWUudmFsdWUgPT09ICdjbGllbnQnLFxuICAgICAgICByZW1vdmU6IHRydWUsXG4gICAgICB9LFxuICAgIF0sXG4gICAgZG9jdW1lbnQsXG4gICk7XG5cbiAgLy8gQWZ0ZXIgYSBmcmFnbWVudCBkZWZpbml0aW9uIGhhcyBoYWQgaXRzIEBjbGllbnQgcmVsYXRlZCBkb2N1bWVudFxuICAvLyBzZXRzIHJlbW92ZWQsIGlmIHRoZSBvbmx5IGZpZWxkIGl0IGhhcyBsZWZ0IGlzIGEgX190eXBlbmFtZSBmaWVsZCxcbiAgLy8gcmVtb3ZlIHRoZSBlbnRpcmUgZnJhZ21lbnQgb3BlcmF0aW9uIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyBmaXJlZFxuICAvLyBvbiB0aGUgc2VydmVyLlxuICBpZiAobW9kaWZpZWREb2MpIHtcbiAgICBtb2RpZmllZERvYyA9IHZpc2l0KG1vZGlmaWVkRG9jLCB7XG4gICAgICBGcmFnbWVudERlZmluaXRpb246IHtcbiAgICAgICAgZW50ZXIobm9kZSkge1xuICAgICAgICAgIGlmIChub2RlLnNlbGVjdGlvblNldCkge1xuICAgICAgICAgICAgY29uc3QgaXNUeXBlbmFtZU9ubHkgPSBub2RlLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zLmV2ZXJ5KFxuICAgICAgICAgICAgICBzZWxlY3Rpb24gPT5cbiAgICAgICAgICAgICAgICBpc0ZpZWxkKHNlbGVjdGlvbikgJiYgc2VsZWN0aW9uLm5hbWUudmFsdWUgPT09ICdfX3R5cGVuYW1lJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaXNUeXBlbmFtZU9ubHkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBtb2RpZmllZERvYztcbn1cbiIsImV4cG9ydCBjb25zdCBjYW5Vc2VXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgIShcbiAgdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiZcbiAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZSdcbik7XG4iLCJjb25zdCB7IHRvU3RyaW5nIH0gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIERlZXBseSBjbG9uZXMgYSB2YWx1ZSB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZXA8VD4odmFsdWU6IFQpOiBUIHtcbiAgcmV0dXJuIGNsb25lRGVlcEhlbHBlcih2YWx1ZSwgbmV3IE1hcCgpKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVEZWVwSGVscGVyPFQ+KHZhbDogVCwgc2VlbjogTWFwPGFueSwgYW55Pik6IFQge1xuICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwodmFsKSkge1xuICBjYXNlIFwiW29iamVjdCBBcnJheV1cIjoge1xuICAgIGlmIChzZWVuLmhhcyh2YWwpKSByZXR1cm4gc2Vlbi5nZXQodmFsKTtcbiAgICBjb25zdCBjb3B5OiBUICYgYW55W10gPSAodmFsIGFzIGFueSkuc2xpY2UoMCk7XG4gICAgc2Vlbi5zZXQodmFsLCBjb3B5KTtcbiAgICBjb3B5LmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICBjb3B5W2ldID0gY2xvbmVEZWVwSGVscGVyKGNoaWxkLCBzZWVuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGNhc2UgXCJbb2JqZWN0IE9iamVjdF1cIjoge1xuICAgIGlmIChzZWVuLmhhcyh2YWwpKSByZXR1cm4gc2Vlbi5nZXQodmFsKTtcbiAgICAvLyBIaWdoIGZpZGVsaXR5IHBvbHlmaWxscyBvZiBPYmplY3QuY3JlYXRlIGFuZCBPYmplY3QuZ2V0UHJvdG90eXBlT2YgYXJlXG4gICAgLy8gcG9zc2libGUgaW4gYWxsIEpTIGVudmlyb25tZW50cywgc28gd2Ugd2lsbCBhc3N1bWUgdGhleSBleGlzdC93b3JrLlxuICAgIGNvbnN0IGNvcHkgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpKTtcbiAgICBzZWVuLnNldCh2YWwsIGNvcHkpO1xuICAgIE9iamVjdC5rZXlzKHZhbCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29weVtrZXldID0gY2xvbmVEZWVwSGVscGVyKCh2YWwgYXMgYW55KVtrZXldLCBzZWVuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEVudigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuICB9XG5cbiAgLy8gZGVmYXVsdCBlbnZpcm9ubWVudFxuICByZXR1cm4gJ2RldmVsb3BtZW50Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW52KGVudjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRFbnYoKSA9PT0gZW52O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9kdWN0aW9uKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNFbnYoJ3Byb2R1Y3Rpb24nKSA9PT0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGV2ZWxvcG1lbnQoKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc0VudignZGV2ZWxvcG1lbnQnKSA9PT0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGVzdCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzRW52KCd0ZXN0JykgPT09IHRydWU7XG59XG4iLCJpbXBvcnQgeyBFeGVjdXRpb25SZXN1bHQgfSBmcm9tICdncmFwaHFsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUZ1bmN0aW9uT3JMb2dFcnJvcihmOiBGdW5jdGlvbikge1xuICB0cnkge1xuICAgIHJldHVybiBmKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoY29uc29sZS5lcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyYXBoUUxSZXN1bHRIYXNFcnJvcihyZXN1bHQ6IEV4ZWN1dGlvblJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aDtcbn1cbiIsImltcG9ydCB7IGlzRGV2ZWxvcG1lbnQsIGlzVGVzdCB9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG4vLyBUYWtlbiAobW9zdGx5KSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9kZWVwLWZyZWV6ZSB0byBhdm9pZFxuLy8gaW1wb3J0IGhhc3NsZXMgd2l0aCByb2xsdXAuXG5mdW5jdGlvbiBkZWVwRnJlZXplKG86IGFueSkge1xuICBPYmplY3QuZnJlZXplKG8pO1xuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgIGlmIChcbiAgICAgIG9bcHJvcF0gIT09IG51bGwgJiZcbiAgICAgICh0eXBlb2Ygb1twcm9wXSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9bcHJvcF0gPT09ICdmdW5jdGlvbicpICYmXG4gICAgICAhT2JqZWN0LmlzRnJvemVuKG9bcHJvcF0pXG4gICAgKSB7XG4gICAgICBkZWVwRnJlZXplKG9bcHJvcF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG87XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZURlZXBGcmVlemUob2JqOiBhbnkpIHtcbiAgaWYgKGlzRGV2ZWxvcG1lbnQoKSB8fCBpc1Rlc3QoKSkge1xuICAgIC8vIFBvbHlmaWxsZWQgU3ltYm9scyBwb3RlbnRpYWxseSBjYXVzZSBpbmZpbml0ZSAvIHZlcnkgZGVlcCByZWN1cnNpb24gd2hpbGUgZGVlcCBmcmVlemluZ1xuICAgIC8vIHdoaWNoIGlzIGtub3duIHRvIGNyYXNoIElFMTEgKGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1jbGllbnQvaXNzdWVzLzMwNDMpLlxuICAgIGNvbnN0IHN5bWJvbElzUG9seWZpbGxlZCA9XG4gICAgICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2woJycpID09PSAnc3RyaW5nJztcblxuICAgIGlmICghc3ltYm9sSXNQb2x5ZmlsbGVkKSB7XG4gICAgICByZXR1cm4gZGVlcEZyZWV6ZShvYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuIiwiY29uc3QgeyBoYXNPd25Qcm9wZXJ0eSB9ID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLy8gVGhlc2UgbWVyZ2VEZWVwIGFuZCBtZXJnZURlZXBBcnJheSB1dGlsaXRpZXMgbWVyZ2UgYW55IG51bWJlciBvZiBvYmplY3RzXG4vLyB0b2dldGhlciwgc2hhcmluZyBhcyBtdWNoIG1lbW9yeSBhcyBwb3NzaWJsZSB3aXRoIHRoZSBzb3VyY2Ugb2JqZWN0cywgd2hpbGVcbi8vIHJlbWFpbmluZyBjYXJlZnVsIHRvIGF2b2lkIG1vZGlmeWluZyBhbnkgc291cmNlIG9iamVjdHMuXG5cbi8vIExvZ2ljYWxseSwgdGhlIHJldHVybiB0eXBlIG9mIG1lcmdlRGVlcCBzaG91bGQgYmUgdGhlIGludGVyc2VjdGlvbiBvZlxuLy8gYWxsIHRoZSBhcmd1bWVudCB0eXBlcy4gVGhlIGJpbmFyeSBjYWxsIHNpZ25hdHVyZSBpcyBieSBmYXIgdGhlIG1vc3Rcbi8vIGNvbW1vbiwgYnV0IHdlIHN1cHBvcnQgMC0gdGhyb3VnaCA1LWFyeSBhcyB3ZWxsLiBBZnRlciB0aGF0LCB0aGVcbi8vIHJlc3VsdGluZyB0eXBlIGlzIGp1c3QgdGhlIGluZmVycmVkIGFycmF5IGVsZW1lbnQgdHlwZS4gTm90ZSB0byBuZXJkczpcbi8vIHRoZXJlIGlzIGEgbW9yZSBjbGV2ZXIgd2F5IG9mIGRvaW5nIHRoaXMgdGhhdCBjb252ZXJ0cyB0aGUgdHVwbGUgdHlwZVxuLy8gZmlyc3QgdG8gYSB1bmlvbiB0eXBlIChlYXN5IGVub3VnaDogVFtudW1iZXJdKSBhbmQgdGhlbiBjb252ZXJ0cyB0aGVcbi8vIHVuaW9uIHRvIGFuIGludGVyc2VjdGlvbiB0eXBlIHVzaW5nIGRpc3RyaWJ1dGl2ZSBjb25kaXRpb25hbCB0eXBlXG4vLyBpbmZlcmVuY2UsIGJ1dCB0aGF0IGFwcHJvYWNoIGhhcyBzZXZlcmFsIGZhdGFsIGZsYXdzIChib29sZWFuIGJlY29tZXNcbi8vIHRydWUgJiBmYWxzZSwgYW5kIHRoZSBpbmZlcnJlZCB0eXBlIGVuZHMgdXAgYXMgdW5rbm93biBpbiBtYW55IGNhc2VzKSxcbi8vIGluIGFkZGl0aW9uIHRvIGJlaW5nIG5lYXJseSBpbXBvc3NpYmxlIHRvIGV4cGxhaW4vdW5kZXJzdGFuZC5cbmV4cG9ydCB0eXBlIFR1cGxlVG9JbnRlcnNlY3Rpb248VCBleHRlbmRzIGFueVtdPiA9XG4gIFQgZXh0ZW5kcyBbaW5mZXIgQV0gPyBBIDpcbiAgVCBleHRlbmRzIFtpbmZlciBBLCBpbmZlciBCXSA/IEEgJiBCIDpcbiAgVCBleHRlbmRzIFtpbmZlciBBLCBpbmZlciBCLCBpbmZlciBDXSA/IEEgJiBCICYgQyA6XG4gIFQgZXh0ZW5kcyBbaW5mZXIgQSwgaW5mZXIgQiwgaW5mZXIgQywgaW5mZXIgRF0gPyBBICYgQiAmIEMgJiBEIDpcbiAgVCBleHRlbmRzIFtpbmZlciBBLCBpbmZlciBCLCBpbmZlciBDLCBpbmZlciBELCBpbmZlciBFXSA/IEEgJiBCICYgQyAmIEQgJiBFIDpcbiAgVCBleHRlbmRzIChpbmZlciBVKVtdID8gVSA6IGFueTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRGVlcDxUIGV4dGVuZHMgYW55W10+KFxuICAuLi5zb3VyY2VzOiBUXG4pOiBUdXBsZVRvSW50ZXJzZWN0aW9uPFQ+IHtcbiAgcmV0dXJuIG1lcmdlRGVlcEFycmF5KHNvdXJjZXMpO1xufVxuXG4vLyBJbiBhbG1vc3QgYW55IHNpdHVhdGlvbiB3aGVyZSB5b3UgY291bGQgc3VjY2VlZCBpbiBnZXR0aW5nIHRoZVxuLy8gVHlwZVNjcmlwdCBjb21waWxlciB0byBpbmZlciBhIHR1cGxlIHR5cGUgZm9yIHRoZSBzb3VyY2VzIGFycmF5LCB5b3Vcbi8vIGNvdWxkIGp1c3QgdXNlIG1lcmdlRGVlcCBpbnN0ZWFkIG9mIG1lcmdlRGVlcEFycmF5LCBzbyBpbnN0ZWFkIG9mXG4vLyB0cnlpbmcgdG8gY29udmVydCBUW10gdG8gYW4gaW50ZXJzZWN0aW9uIHR5cGUgd2UganVzdCBpbmZlciB0aGUgYXJyYXlcbi8vIGVsZW1lbnQgdHlwZSwgd2hpY2ggd29ya3MgcGVyZmVjdGx5IHdoZW4gdGhlIHNvdXJjZXMgYXJyYXkgaGFzIGFcbi8vIGNvbnNpc3RlbnQgZWxlbWVudCB0eXBlLlxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRGVlcEFycmF5PFQ+KHNvdXJjZXM6IFRbXSk6IFQge1xuICBsZXQgdGFyZ2V0ID0gc291cmNlc1swXSB8fCB7fSBhcyBUO1xuICBjb25zdCBjb3VudCA9IHNvdXJjZXMubGVuZ3RoO1xuICBpZiAoY291bnQgPiAxKSB7XG4gICAgY29uc3QgcGFzdENvcGllczogYW55W10gPSBbXTtcbiAgICB0YXJnZXQgPSBzaGFsbG93Q29weUZvck1lcmdlKHRhcmdldCwgcGFzdENvcGllcyk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICB0YXJnZXQgPSBtZXJnZUhlbHBlcih0YXJnZXQsIHNvdXJjZXNbaV0sIHBhc3RDb3BpZXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmo6IGFueSk6IG9iaiBpcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyLCBhbnk+IHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jztcbn1cblxuZnVuY3Rpb24gbWVyZ2VIZWxwZXIoXG4gIHRhcmdldDogYW55LFxuICBzb3VyY2U6IGFueSxcbiAgcGFzdENvcGllczogYW55W10sXG4pIHtcbiAgaWYgKGlzT2JqZWN0KHNvdXJjZSkgJiYgaXNPYmplY3QodGFyZ2V0KSkge1xuICAgIC8vIEluIGNhc2UgdGhlIHRhcmdldCBoYXMgYmVlbiBmcm96ZW4sIG1ha2UgYW4gZXh0ZW5zaWJsZSBjb3B5IHNvIHRoYXRcbiAgICAvLyB3ZSBjYW4gbWVyZ2UgcHJvcGVydGllcyBpbnRvIHRoZSBjb3B5LlxuICAgIGlmIChPYmplY3QuaXNFeHRlbnNpYmxlICYmICFPYmplY3QuaXNFeHRlbnNpYmxlKHRhcmdldCkpIHtcbiAgICAgIHRhcmdldCA9IHNoYWxsb3dDb3B5Rm9yTWVyZ2UodGFyZ2V0LCBwYXN0Q29waWVzKTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goc291cmNlS2V5ID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZVZhbHVlID0gc291cmNlW3NvdXJjZUtleV07XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHNvdXJjZUtleSkpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRbc291cmNlS2V5XTtcbiAgICAgICAgaWYgKHNvdXJjZVZhbHVlICE9PSB0YXJnZXRWYWx1ZSkge1xuICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYSBrZXkgY29sbGlzaW9uLCB3ZSBuZWVkIHRvIG1ha2UgYSBzaGFsbG93IGNvcHkgb2ZcbiAgICAgICAgICAvLyB0YXJnZXRbc291cmNlS2V5XSBzbyB0aGUgbWVyZ2UgZG9lcyBub3QgbW9kaWZ5IGFueSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgICAgICAvLyBUbyBhdm9pZCBtYWtpbmcgdW5uZWNlc3NhcnkgY29waWVzLCB3ZSB1c2UgYSBzaW1wbGUgYXJyYXkgdG8gdHJhY2tcbiAgICAgICAgICAvLyBwYXN0IGNvcGllcywgc2luY2UgaXQncyBzYWZlIHRvIG1vZGlmeSBjb3BpZXMgY3JlYXRlZCBlYXJsaWVyIGluXG4gICAgICAgICAgLy8gdGhlIG1lcmdlLiBXZSB1c2UgYW4gYXJyYXkgZm9yIHBhc3RDb3BpZXMgaW5zdGVhZCBvZiBhIE1hcCBvciBTZXQsXG4gICAgICAgICAgLy8gc2luY2UgdGhlIG51bWJlciBvZiBjb3BpZXMgc2hvdWxkIGJlIHJlbGF0aXZlbHkgc21hbGwsIGFuZCBzb21lXG4gICAgICAgICAgLy8gTWFwL1NldCBwb2x5ZmlsbHMgbW9kaWZ5IHRoZWlyIGtleXMuXG4gICAgICAgICAgdGFyZ2V0W3NvdXJjZUtleV0gPSBtZXJnZUhlbHBlcihcbiAgICAgICAgICAgIHNoYWxsb3dDb3B5Rm9yTWVyZ2UodGFyZ2V0VmFsdWUsIHBhc3RDb3BpZXMpLFxuICAgICAgICAgICAgc291cmNlVmFsdWUsXG4gICAgICAgICAgICBwYXN0Q29waWVzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGNvbGxpc2lvbiwgdGhlIHRhcmdldCBjYW4gc2FmZWx5IHNoYXJlIG1lbW9yeSB3aXRoXG4gICAgICAgIC8vIHRoZSBzb3VyY2UsIGFuZCB0aGUgcmVjdXJzaW9uIGNhbiB0ZXJtaW5hdGUgaGVyZS5cbiAgICAgICAgdGFyZ2V0W3NvdXJjZUtleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvLyBJZiBzb3VyY2UgKG9yIHRhcmdldCkgaXMgbm90IGFuIG9iamVjdCwgbGV0IHNvdXJjZSByZXBsYWNlIHRhcmdldC5cbiAgcmV0dXJuIHNvdXJjZTtcbn1cblxuZnVuY3Rpb24gc2hhbGxvd0NvcHlGb3JNZXJnZTxUPih2YWx1ZTogVCwgcGFzdENvcGllczogYW55W10pOiBUIHtcbiAgaWYgKFxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIHBhc3RDb3BpZXMuaW5kZXhPZih2YWx1ZSkgPCAwXG4gICkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSAodmFsdWUgYXMgYW55KS5zbGljZSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSB7XG4gICAgICAgIF9fcHJvdG9fXzogT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSxcbiAgICAgICAgLi4udmFsdWUsXG4gICAgICB9O1xuICAgIH1cbiAgICBwYXN0Q29waWVzLnB1c2godmFsdWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbiIsImltcG9ydCB7IGlzUHJvZHVjdGlvbiwgaXNUZXN0IH0gZnJvbSAnLi9lbnZpcm9ubWVudCc7XG5cbmNvbnN0IGhhdmVXYXJuZWQgPSBPYmplY3QuY3JlYXRlKHt9KTtcblxuLyoqXG4gKiBQcmludCBhIHdhcm5pbmcgb25seSBvbmNlIGluIGRldmVsb3BtZW50LlxuICogSW4gcHJvZHVjdGlvbiBubyB3YXJuaW5ncyBhcmUgcHJpbnRlZC5cbiAqIEluIHRlc3QgYWxsIHdhcm5pbmdzIGFyZSBwcmludGVkLlxuICpcbiAqIEBwYXJhbSBtc2cgVGhlIHdhcm5pbmcgbWVzc2FnZVxuICogQHBhcmFtIHR5cGUgd2FybiBvciBlcnJvciAod2lsbCBjYWxsIGNvbnNvbGUud2FybiBvciBjb25zb2xlLmVycm9yKVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2VJbkRldmVsb3BtZW50KG1zZzogc3RyaW5nLCB0eXBlID0gJ3dhcm4nKSB7XG4gIGlmICghaXNQcm9kdWN0aW9uKCkgJiYgIWhhdmVXYXJuZWRbbXNnXSkge1xuICAgIGlmICghaXNUZXN0KCkpIHtcbiAgICAgIGhhdmVXYXJuZWRbbXNnXSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybihtc2cpO1xuICAgIH1cbiAgfVxufVxuIiwiY29uc3QgZ2VuZXJpY01lc3NhZ2UgPSBcIkludmFyaWFudCBWaW9sYXRpb25cIjtcbmNvbnN0IHtcbiAgc2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbiAob2JqOiBhbnksIHByb3RvOiBhbnkpIHtcbiAgICBvYmouX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbn0gPSBPYmplY3QgYXMgYW55O1xuXG5leHBvcnQgY2xhc3MgSW52YXJpYW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGZyYW1lc1RvUG9wID0gMTtcbiAgbmFtZSA9IGdlbmVyaWNNZXNzYWdlO1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgfCBudW1iZXIgPSBnZW5lcmljTWVzc2FnZSkge1xuICAgIHN1cGVyKFxuICAgICAgdHlwZW9mIG1lc3NhZ2UgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyBgJHtnZW5lcmljTWVzc2FnZX06ICR7bWVzc2FnZX0gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9pbnZhcmlhbnQtcGFja2FnZXMpYFxuICAgICAgICA6IG1lc3NhZ2VcbiAgICApO1xuICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIEludmFyaWFudEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb246IGFueSwgbWVzc2FnZT86IHN0cmluZyB8IG51bWJlcikge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwQ29uc29sZU1ldGhvZChtZXRob2Q6IFwid2FyblwiIHwgXCJlcnJvclwiKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmd1bWVudHMgYXMgYW55KTtcbiAgfSBhcyAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgaW52YXJpYW50IHtcbiAgZXhwb3J0IGNvbnN0IHdhcm4gPSB3cmFwQ29uc29sZU1ldGhvZChcIndhcm5cIik7XG4gIGV4cG9ydCBjb25zdCBlcnJvciA9IHdyYXBDb25zb2xlTWV0aG9kKFwiZXJyb3JcIik7XG59XG5cbi8vIENvZGUgdGhhdCB1c2VzIHRzLWludmFyaWFudCB3aXRoIHJvbGx1cC1wbHVnaW4taW52YXJpYW50IG1heSB3YW50IHRvXG4vLyBpbXBvcnQgdGhpcyBwcm9jZXNzIHN0dWIgdG8gYXZvaWQgZXJyb3JzIGV2YWx1YXRpbmcgcHJvY2Vzcy5lbnYuTk9ERV9FTlYuXG4vLyBIb3dldmVyLCBiZWNhdXNlIG1vc3QgRVNNLXRvLUNKUyBjb21waWxlcnMgd2lsbCByZXdyaXRlIHRoZSBwcm9jZXNzIGltcG9ydFxuLy8gYXMgdHNJbnZhcmlhbnQucHJvY2Vzcywgd2hpY2ggcHJldmVudHMgcHJvcGVyIHJlcGxhY2VtZW50IGJ5IG1pbmlmaWVycywgd2Vcbi8vIGFsc28gYXR0ZW1wdCB0byBkZWZpbmUgdGhlIHN0dWIgZ2xvYmFsbHkgd2hlbiBpdCBpcyBub3QgYWxyZWFkeSBkZWZpbmVkLlxubGV0IHByb2Nlc3NTdHViOiBOb2RlSlMuUHJvY2VzcyA9IHsgZW52OiB7fSB9IGFzIGFueTtcbmV4cG9ydCB7IHByb2Nlc3NTdHViIGFzIHByb2Nlc3MgfTtcbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIikge1xuICBwcm9jZXNzU3R1YiA9IHByb2Nlc3M7XG59IGVsc2UgdHJ5IHtcbiAgLy8gVXNpbmcgRnVuY3Rpb24gdG8gZXZhbHVhdGUgdGhpcyBhc3NpZ25tZW50IGluIGdsb2JhbCBzY29wZSBhbHNvIGVzY2FwZXNcbiAgLy8gdGhlIHN0cmljdCBtb2RlIG9mIHRoZSBjdXJyZW50IG1vZHVsZSwgdGhlcmVieSBhbGxvd2luZyB0aGUgYXNzaWdubWVudC5cbiAgLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL3B1bGwvMzY5LlxuICBGdW5jdGlvbihcInN0dWJcIiwgXCJwcm9jZXNzID0gc3R1YlwiKShwcm9jZXNzU3R1Yik7XG59IGNhdGNoIChhdExlYXN0V2VUcmllZCkge1xuICAvLyBUaGUgYXNzaWdubWVudCBjYW4gZmFpbCBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGhlYXZ5LWhhbmRlZGx5XG4gIC8vIGZvcmJpZHMgRnVuY3Rpb24gdXNhZ2UuIEluIHRob3NlIGVudmlyb25tZW50cywgZGV2ZWxvcGVycyBzaG91bGQgdGFrZVxuICAvLyBleHRyYSBjYXJlIHRvIHJlcGxhY2UgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgaW4gdGhlaXIgcHJvZHVjdGlvbiBidWlsZHMsXG4gIC8vIG9yIGRlZmluZSBhbiBhcHByb3ByaWF0ZSBnbG9iYWwucHJvY2VzcyBwb2x5ZmlsbC5cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW52YXJpYW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnZpc2l0ID0gdmlzaXQ7XG5leHBvcnRzLnZpc2l0SW5QYXJhbGxlbCA9IHZpc2l0SW5QYXJhbGxlbDtcbmV4cG9ydHMuZ2V0VmlzaXRGbiA9IGdldFZpc2l0Rm47XG5leHBvcnRzLkJSRUFLID0gZXhwb3J0cy5RdWVyeURvY3VtZW50S2V5cyA9IHZvaWQgMDtcblxudmFyIF9pbnNwZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vanN1dGlscy9pbnNwZWN0XCIpKTtcblxudmFyIF9hc3QgPSByZXF1aXJlKFwiLi9hc3RcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBRdWVyeURvY3VtZW50S2V5cyA9IHtcbiAgTmFtZTogW10sXG4gIERvY3VtZW50OiBbJ2RlZmluaXRpb25zJ10sXG4gIE9wZXJhdGlvbkRlZmluaXRpb246IFsnbmFtZScsICd2YXJpYWJsZURlZmluaXRpb25zJywgJ2RpcmVjdGl2ZXMnLCAnc2VsZWN0aW9uU2V0J10sXG4gIFZhcmlhYmxlRGVmaW5pdGlvbjogWyd2YXJpYWJsZScsICd0eXBlJywgJ2RlZmF1bHRWYWx1ZScsICdkaXJlY3RpdmVzJ10sXG4gIFZhcmlhYmxlOiBbJ25hbWUnXSxcbiAgU2VsZWN0aW9uU2V0OiBbJ3NlbGVjdGlvbnMnXSxcbiAgRmllbGQ6IFsnYWxpYXMnLCAnbmFtZScsICdhcmd1bWVudHMnLCAnZGlyZWN0aXZlcycsICdzZWxlY3Rpb25TZXQnXSxcbiAgQXJndW1lbnQ6IFsnbmFtZScsICd2YWx1ZSddLFxuICBGcmFnbWVudFNwcmVhZDogWyduYW1lJywgJ2RpcmVjdGl2ZXMnXSxcbiAgSW5saW5lRnJhZ21lbnQ6IFsndHlwZUNvbmRpdGlvbicsICdkaXJlY3RpdmVzJywgJ3NlbGVjdGlvblNldCddLFxuICBGcmFnbWVudERlZmluaXRpb246IFsnbmFtZScsIC8vIE5vdGU6IGZyYWdtZW50IHZhcmlhYmxlIGRlZmluaXRpb25zIGFyZSBleHBlcmltZW50YWwgYW5kIG1heSBiZSBjaGFuZ2VkXG4gIC8vIG9yIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cbiAgJ3ZhcmlhYmxlRGVmaW5pdGlvbnMnLCAndHlwZUNvbmRpdGlvbicsICdkaXJlY3RpdmVzJywgJ3NlbGVjdGlvblNldCddLFxuICBJbnRWYWx1ZTogW10sXG4gIEZsb2F0VmFsdWU6IFtdLFxuICBTdHJpbmdWYWx1ZTogW10sXG4gIEJvb2xlYW5WYWx1ZTogW10sXG4gIE51bGxWYWx1ZTogW10sXG4gIEVudW1WYWx1ZTogW10sXG4gIExpc3RWYWx1ZTogWyd2YWx1ZXMnXSxcbiAgT2JqZWN0VmFsdWU6IFsnZmllbGRzJ10sXG4gIE9iamVjdEZpZWxkOiBbJ25hbWUnLCAndmFsdWUnXSxcbiAgRGlyZWN0aXZlOiBbJ25hbWUnLCAnYXJndW1lbnRzJ10sXG4gIE5hbWVkVHlwZTogWyduYW1lJ10sXG4gIExpc3RUeXBlOiBbJ3R5cGUnXSxcbiAgTm9uTnVsbFR5cGU6IFsndHlwZSddLFxuICBTY2hlbWFEZWZpbml0aW9uOiBbJ2Rlc2NyaXB0aW9uJywgJ2RpcmVjdGl2ZXMnLCAnb3BlcmF0aW9uVHlwZXMnXSxcbiAgT3BlcmF0aW9uVHlwZURlZmluaXRpb246IFsndHlwZSddLFxuICBTY2FsYXJUeXBlRGVmaW5pdGlvbjogWydkZXNjcmlwdGlvbicsICduYW1lJywgJ2RpcmVjdGl2ZXMnXSxcbiAgT2JqZWN0VHlwZURlZmluaXRpb246IFsnZGVzY3JpcHRpb24nLCAnbmFtZScsICdpbnRlcmZhY2VzJywgJ2RpcmVjdGl2ZXMnLCAnZmllbGRzJ10sXG4gIEZpZWxkRGVmaW5pdGlvbjogWydkZXNjcmlwdGlvbicsICduYW1lJywgJ2FyZ3VtZW50cycsICd0eXBlJywgJ2RpcmVjdGl2ZXMnXSxcbiAgSW5wdXRWYWx1ZURlZmluaXRpb246IFsnZGVzY3JpcHRpb24nLCAnbmFtZScsICd0eXBlJywgJ2RlZmF1bHRWYWx1ZScsICdkaXJlY3RpdmVzJ10sXG4gIEludGVyZmFjZVR5cGVEZWZpbml0aW9uOiBbJ2Rlc2NyaXB0aW9uJywgJ25hbWUnLCAnaW50ZXJmYWNlcycsICdkaXJlY3RpdmVzJywgJ2ZpZWxkcyddLFxuICBVbmlvblR5cGVEZWZpbml0aW9uOiBbJ2Rlc2NyaXB0aW9uJywgJ25hbWUnLCAnZGlyZWN0aXZlcycsICd0eXBlcyddLFxuICBFbnVtVHlwZURlZmluaXRpb246IFsnZGVzY3JpcHRpb24nLCAnbmFtZScsICdkaXJlY3RpdmVzJywgJ3ZhbHVlcyddLFxuICBFbnVtVmFsdWVEZWZpbml0aW9uOiBbJ2Rlc2NyaXB0aW9uJywgJ25hbWUnLCAnZGlyZWN0aXZlcyddLFxuICBJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOiBbJ2Rlc2NyaXB0aW9uJywgJ25hbWUnLCAnZGlyZWN0aXZlcycsICdmaWVsZHMnXSxcbiAgRGlyZWN0aXZlRGVmaW5pdGlvbjogWydkZXNjcmlwdGlvbicsICduYW1lJywgJ2FyZ3VtZW50cycsICdsb2NhdGlvbnMnXSxcbiAgU2NoZW1hRXh0ZW5zaW9uOiBbJ2RpcmVjdGl2ZXMnLCAnb3BlcmF0aW9uVHlwZXMnXSxcbiAgU2NhbGFyVHlwZUV4dGVuc2lvbjogWyduYW1lJywgJ2RpcmVjdGl2ZXMnXSxcbiAgT2JqZWN0VHlwZUV4dGVuc2lvbjogWyduYW1lJywgJ2ludGVyZmFjZXMnLCAnZGlyZWN0aXZlcycsICdmaWVsZHMnXSxcbiAgSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjogWyduYW1lJywgJ2ludGVyZmFjZXMnLCAnZGlyZWN0aXZlcycsICdmaWVsZHMnXSxcbiAgVW5pb25UeXBlRXh0ZW5zaW9uOiBbJ25hbWUnLCAnZGlyZWN0aXZlcycsICd0eXBlcyddLFxuICBFbnVtVHlwZUV4dGVuc2lvbjogWyduYW1lJywgJ2RpcmVjdGl2ZXMnLCAndmFsdWVzJ10sXG4gIElucHV0T2JqZWN0VHlwZUV4dGVuc2lvbjogWyduYW1lJywgJ2RpcmVjdGl2ZXMnLCAnZmllbGRzJ11cbn07XG5leHBvcnRzLlF1ZXJ5RG9jdW1lbnRLZXlzID0gUXVlcnlEb2N1bWVudEtleXM7XG52YXIgQlJFQUsgPSBPYmplY3QuZnJlZXplKHt9KTtcbi8qKlxuICogdmlzaXQoKSB3aWxsIHdhbGsgdGhyb3VnaCBhbiBBU1QgdXNpbmcgYSBkZXB0aCBmaXJzdCB0cmF2ZXJzYWwsIGNhbGxpbmdcbiAqIHRoZSB2aXNpdG9yJ3MgZW50ZXIgZnVuY3Rpb24gYXQgZWFjaCBub2RlIGluIHRoZSB0cmF2ZXJzYWwsIGFuZCBjYWxsaW5nIHRoZVxuICogbGVhdmUgZnVuY3Rpb24gYWZ0ZXIgdmlzaXRpbmcgdGhhdCBub2RlIGFuZCBhbGwgb2YgaXRzIGNoaWxkIG5vZGVzLlxuICpcbiAqIEJ5IHJldHVybmluZyBkaWZmZXJlbnQgdmFsdWVzIGZyb20gdGhlIGVudGVyIGFuZCBsZWF2ZSBmdW5jdGlvbnMsIHRoZVxuICogYmVoYXZpb3Igb2YgdGhlIHZpc2l0b3IgY2FuIGJlIGFsdGVyZWQsIGluY2x1ZGluZyBza2lwcGluZyBvdmVyIGEgc3ViLXRyZWUgb2ZcbiAqIHRoZSBBU1QgKGJ5IHJldHVybmluZyBmYWxzZSksIGVkaXRpbmcgdGhlIEFTVCBieSByZXR1cm5pbmcgYSB2YWx1ZSBvciBudWxsXG4gKiB0byByZW1vdmUgdGhlIHZhbHVlLCBvciB0byBzdG9wIHRoZSB3aG9sZSB0cmF2ZXJzYWwgYnkgcmV0dXJuaW5nIEJSRUFLLlxuICpcbiAqIFdoZW4gdXNpbmcgdmlzaXQoKSB0byBlZGl0IGFuIEFTVCwgdGhlIG9yaWdpbmFsIEFTVCB3aWxsIG5vdCBiZSBtb2RpZmllZCwgYW5kXG4gKiBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBBU1Qgd2l0aCB0aGUgY2hhbmdlcyBhcHBsaWVkIHdpbGwgYmUgcmV0dXJuZWQgZnJvbSB0aGVcbiAqIHZpc2l0IGZ1bmN0aW9uLlxuICpcbiAqICAgICBjb25zdCBlZGl0ZWRBU1QgPSB2aXNpdChhc3QsIHtcbiAqICAgICAgIGVudGVyKG5vZGUsIGtleSwgcGFyZW50LCBwYXRoLCBhbmNlc3RvcnMpIHtcbiAqICAgICAgICAgLy8gQHJldHVyblxuICogICAgICAgICAvLyAgIHVuZGVmaW5lZDogbm8gYWN0aW9uXG4gKiAgICAgICAgIC8vICAgZmFsc2U6IHNraXAgdmlzaXRpbmcgdGhpcyBub2RlXG4gKiAgICAgICAgIC8vICAgdmlzaXRvci5CUkVBSzogc3RvcCB2aXNpdGluZyBhbHRvZ2V0aGVyXG4gKiAgICAgICAgIC8vICAgbnVsbDogZGVsZXRlIHRoaXMgbm9kZVxuICogICAgICAgICAvLyAgIGFueSB2YWx1ZTogcmVwbGFjZSB0aGlzIG5vZGUgd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAqICAgICAgIH0sXG4gKiAgICAgICBsZWF2ZShub2RlLCBrZXksIHBhcmVudCwgcGF0aCwgYW5jZXN0b3JzKSB7XG4gKiAgICAgICAgIC8vIEByZXR1cm5cbiAqICAgICAgICAgLy8gICB1bmRlZmluZWQ6IG5vIGFjdGlvblxuICogICAgICAgICAvLyAgIGZhbHNlOiBubyBhY3Rpb25cbiAqICAgICAgICAgLy8gICB2aXNpdG9yLkJSRUFLOiBzdG9wIHZpc2l0aW5nIGFsdG9nZXRoZXJcbiAqICAgICAgICAgLy8gICBudWxsOiBkZWxldGUgdGhpcyBub2RlXG4gKiAgICAgICAgIC8vICAgYW55IHZhbHVlOiByZXBsYWNlIHRoaXMgbm9kZSB3aXRoIHRoZSByZXR1cm5lZCB2YWx1ZVxuICogICAgICAgfVxuICogICAgIH0pO1xuICpcbiAqIEFsdGVybmF0aXZlbHkgdG8gcHJvdmlkaW5nIGVudGVyKCkgYW5kIGxlYXZlKCkgZnVuY3Rpb25zLCBhIHZpc2l0b3IgY2FuXG4gKiBpbnN0ZWFkIHByb3ZpZGUgZnVuY3Rpb25zIG5hbWVkIHRoZSBzYW1lIGFzIHRoZSBraW5kcyBvZiBBU1Qgbm9kZXMsIG9yXG4gKiBlbnRlci9sZWF2ZSB2aXNpdG9ycyBhdCBhIG5hbWVkIGtleSwgbGVhZGluZyB0byBmb3VyIHBlcm11dGF0aW9ucyBvZlxuICogdmlzaXRvciBBUEk6XG4gKlxuICogMSkgTmFtZWQgdmlzaXRvcnMgdHJpZ2dlcmVkIHdoZW4gZW50ZXJpbmcgYSBub2RlIGEgc3BlY2lmaWMga2luZC5cbiAqXG4gKiAgICAgdmlzaXQoYXN0LCB7XG4gKiAgICAgICBLaW5kKG5vZGUpIHtcbiAqICAgICAgICAgLy8gZW50ZXIgdGhlIFwiS2luZFwiIG5vZGVcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqIDIpIE5hbWVkIHZpc2l0b3JzIHRoYXQgdHJpZ2dlciB1cG9uIGVudGVyaW5nIGFuZCBsZWF2aW5nIGEgbm9kZSBvZlxuICogICAgYSBzcGVjaWZpYyBraW5kLlxuICpcbiAqICAgICB2aXNpdChhc3QsIHtcbiAqICAgICAgIEtpbmQ6IHtcbiAqICAgICAgICAgZW50ZXIobm9kZSkge1xuICogICAgICAgICAgIC8vIGVudGVyIHRoZSBcIktpbmRcIiBub2RlXG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgbGVhdmUobm9kZSkge1xuICogICAgICAgICAgIC8vIGxlYXZlIHRoZSBcIktpbmRcIiBub2RlXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqIDMpIEdlbmVyaWMgdmlzaXRvcnMgdGhhdCB0cmlnZ2VyIHVwb24gZW50ZXJpbmcgYW5kIGxlYXZpbmcgYW55IG5vZGUuXG4gKlxuICogICAgIHZpc2l0KGFzdCwge1xuICogICAgICAgZW50ZXIobm9kZSkge1xuICogICAgICAgICAvLyBlbnRlciBhbnkgbm9kZVxuICogICAgICAgfSxcbiAqICAgICAgIGxlYXZlKG5vZGUpIHtcbiAqICAgICAgICAgLy8gbGVhdmUgYW55IG5vZGVcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqIDQpIFBhcmFsbGVsIHZpc2l0b3JzIGZvciBlbnRlcmluZyBhbmQgbGVhdmluZyBub2RlcyBvZiBhIHNwZWNpZmljIGtpbmQuXG4gKlxuICogICAgIHZpc2l0KGFzdCwge1xuICogICAgICAgZW50ZXI6IHtcbiAqICAgICAgICAgS2luZChub2RlKSB7XG4gKiAgICAgICAgICAgLy8gZW50ZXIgdGhlIFwiS2luZFwiIG5vZGVcbiAqICAgICAgICAgfVxuICogICAgICAgfSxcbiAqICAgICAgIGxlYXZlOiB7XG4gKiAgICAgICAgIEtpbmQobm9kZSkge1xuICogICAgICAgICAgIC8vIGxlYXZlIHRoZSBcIktpbmRcIiBub2RlXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9KVxuICovXG5cbmV4cG9ydHMuQlJFQUsgPSBCUkVBSztcblxuZnVuY3Rpb24gdmlzaXQocm9vdCwgdmlzaXRvcikge1xuICB2YXIgdmlzaXRvcktleXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFF1ZXJ5RG9jdW1lbnRLZXlzO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmLWluaXQgKi9cbiAgdmFyIHN0YWNrID0gdW5kZWZpbmVkO1xuICB2YXIgaW5BcnJheSA9IEFycmF5LmlzQXJyYXkocm9vdCk7XG4gIHZhciBrZXlzID0gW3Jvb3RdO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdmFyIGVkaXRzID0gW107XG4gIHZhciBub2RlID0gdW5kZWZpbmVkO1xuICB2YXIga2V5ID0gdW5kZWZpbmVkO1xuICB2YXIgcGFyZW50ID0gdW5kZWZpbmVkO1xuICB2YXIgcGF0aCA9IFtdO1xuICB2YXIgYW5jZXN0b3JzID0gW107XG4gIHZhciBuZXdSb290ID0gcm9vdDtcbiAgLyogZXNsaW50LWVuYWJsZSBuby11bmRlZi1pbml0ICovXG5cbiAgZG8ge1xuICAgIGluZGV4Kys7XG4gICAgdmFyIGlzTGVhdmluZyA9IGluZGV4ID09PSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaXNFZGl0ZWQgPSBpc0xlYXZpbmcgJiYgZWRpdHMubGVuZ3RoICE9PSAwO1xuXG4gICAgaWYgKGlzTGVhdmluZykge1xuICAgICAga2V5ID0gYW5jZXN0b3JzLmxlbmd0aCA9PT0gMCA/IHVuZGVmaW5lZCA6IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBhbmNlc3RvcnMucG9wKCk7XG5cbiAgICAgIGlmIChpc0VkaXRlZCkge1xuICAgICAgICBpZiAoaW5BcnJheSkge1xuICAgICAgICAgIG5vZGUgPSBub2RlLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNsb25lID0ge307XG5cbiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXMobm9kZSk7IF9pMiA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgdmFyIGsgPSBfT2JqZWN0JGtleXMyW19pMl07XG4gICAgICAgICAgICBjbG9uZVtrXSA9IG5vZGVba107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9kZSA9IGNsb25lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVkaXRPZmZzZXQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBlZGl0cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICB2YXIgZWRpdEtleSA9IGVkaXRzW2lpXVswXTtcbiAgICAgICAgICB2YXIgZWRpdFZhbHVlID0gZWRpdHNbaWldWzFdO1xuXG4gICAgICAgICAgaWYgKGluQXJyYXkpIHtcbiAgICAgICAgICAgIGVkaXRLZXkgLT0gZWRpdE9mZnNldDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5BcnJheSAmJiBlZGl0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUuc3BsaWNlKGVkaXRLZXksIDEpO1xuICAgICAgICAgICAgZWRpdE9mZnNldCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlW2VkaXRLZXldID0gZWRpdFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbmRleCA9IHN0YWNrLmluZGV4O1xuICAgICAga2V5cyA9IHN0YWNrLmtleXM7XG4gICAgICBlZGl0cyA9IHN0YWNrLmVkaXRzO1xuICAgICAgaW5BcnJheSA9IHN0YWNrLmluQXJyYXk7XG4gICAgICBzdGFjayA9IHN0YWNrLnByZXY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IHBhcmVudCA/IGluQXJyYXkgPyBpbmRleCA6IGtleXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgbm9kZSA9IHBhcmVudCA/IHBhcmVudFtrZXldIDogbmV3Um9vdDtcblxuICAgICAgaWYgKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhdGgucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICAgIGlmICghKDAsIF9hc3QuaXNOb2RlKShub2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEFTVCBOb2RlOiBcIi5jb25jYXQoKDAsIF9pbnNwZWN0LmRlZmF1bHQpKG5vZGUpLCBcIi5cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmlzaXRGbiA9IGdldFZpc2l0Rm4odmlzaXRvciwgbm9kZS5raW5kLCBpc0xlYXZpbmcpO1xuXG4gICAgICBpZiAodmlzaXRGbikge1xuICAgICAgICByZXN1bHQgPSB2aXNpdEZuLmNhbGwodmlzaXRvciwgbm9kZSwga2V5LCBwYXJlbnQsIHBhdGgsIGFuY2VzdG9ycyk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gQlJFQUspIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKCFpc0xlYXZpbmcpIHtcbiAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlZGl0cy5wdXNoKFtrZXksIHJlc3VsdF0pO1xuXG4gICAgICAgICAgaWYgKCFpc0xlYXZpbmcpIHtcbiAgICAgICAgICAgIGlmICgoMCwgX2FzdC5pc05vZGUpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgbm9kZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCAmJiBpc0VkaXRlZCkge1xuICAgICAgZWRpdHMucHVzaChba2V5LCBub2RlXSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTGVhdmluZykge1xuICAgICAgcGF0aC5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF92aXNpdG9yS2V5cyRub2RlJGtpbjtcblxuICAgICAgc3RhY2sgPSB7XG4gICAgICAgIGluQXJyYXk6IGluQXJyYXksXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgZWRpdHM6IGVkaXRzLFxuICAgICAgICBwcmV2OiBzdGFja1xuICAgICAgfTtcbiAgICAgIGluQXJyYXkgPSBBcnJheS5pc0FycmF5KG5vZGUpO1xuICAgICAga2V5cyA9IGluQXJyYXkgPyBub2RlIDogKF92aXNpdG9yS2V5cyRub2RlJGtpbiA9IHZpc2l0b3JLZXlzW25vZGUua2luZF0pICE9PSBudWxsICYmIF92aXNpdG9yS2V5cyRub2RlJGtpbiAhPT0gdm9pZCAwID8gX3Zpc2l0b3JLZXlzJG5vZGUka2luIDogW107XG4gICAgICBpbmRleCA9IC0xO1xuICAgICAgZWRpdHMgPSBbXTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBhbmNlc3RvcnMucHVzaChwYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBwYXJlbnQgPSBub2RlO1xuICAgIH1cbiAgfSB3aGlsZSAoc3RhY2sgIT09IHVuZGVmaW5lZCk7XG5cbiAgaWYgKGVkaXRzLmxlbmd0aCAhPT0gMCkge1xuICAgIG5ld1Jvb3QgPSBlZGl0c1tlZGl0cy5sZW5ndGggLSAxXVsxXTtcbiAgfVxuXG4gIHJldHVybiBuZXdSb290O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZpc2l0b3IgaW5zdGFuY2Ugd2hpY2ggZGVsZWdhdGVzIHRvIG1hbnkgdmlzaXRvcnMgdG8gcnVuIGluXG4gKiBwYXJhbGxlbC4gRWFjaCB2aXNpdG9yIHdpbGwgYmUgdmlzaXRlZCBmb3IgZWFjaCBub2RlIGJlZm9yZSBtb3Zpbmcgb24uXG4gKlxuICogSWYgYSBwcmlvciB2aXNpdG9yIGVkaXRzIGEgbm9kZSwgbm8gZm9sbG93aW5nIHZpc2l0b3JzIHdpbGwgc2VlIHRoYXQgbm9kZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZpc2l0SW5QYXJhbGxlbCh2aXNpdG9ycykge1xuICB2YXIgc2tpcHBpbmcgPSBuZXcgQXJyYXkodmlzaXRvcnMubGVuZ3RoKTtcbiAgcmV0dXJuIHtcbiAgICBlbnRlcjogZnVuY3Rpb24gZW50ZXIobm9kZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aXNpdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2tpcHBpbmdbaV0gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmbiA9IGdldFZpc2l0Rm4odmlzaXRvcnNbaV0sIG5vZGUua2luZCxcbiAgICAgICAgICAvKiBpc0xlYXZpbmcgKi9cbiAgICAgICAgICBmYWxzZSk7XG5cbiAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmbi5hcHBseSh2aXNpdG9yc1tpXSwgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgc2tpcHBpbmdbaV0gPSBub2RlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IEJSRUFLKSB7XG4gICAgICAgICAgICAgIHNraXBwaW5nW2ldID0gQlJFQUs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsZWF2ZTogZnVuY3Rpb24gbGVhdmUobm9kZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aXNpdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2tpcHBpbmdbaV0gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmbiA9IGdldFZpc2l0Rm4odmlzaXRvcnNbaV0sIG5vZGUua2luZCxcbiAgICAgICAgICAvKiBpc0xlYXZpbmcgKi9cbiAgICAgICAgICB0cnVlKTtcblxuICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KHZpc2l0b3JzW2ldLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBCUkVBSykge1xuICAgICAgICAgICAgICBza2lwcGluZ1tpXSA9IEJSRUFLO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNraXBwaW5nW2ldID09PSBub2RlKSB7XG4gICAgICAgICAgc2tpcHBpbmdbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuLyoqXG4gKiBHaXZlbiBhIHZpc2l0b3IgaW5zdGFuY2UsIGlmIGl0IGlzIGxlYXZpbmcgb3Igbm90LCBhbmQgYSBub2RlIGtpbmQsIHJldHVyblxuICogdGhlIGZ1bmN0aW9uIHRoZSB2aXNpdG9yIHJ1bnRpbWUgc2hvdWxkIGNhbGwuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRWaXNpdEZuKHZpc2l0b3IsIGtpbmQsIGlzTGVhdmluZykge1xuICB2YXIga2luZFZpc2l0b3IgPSB2aXNpdG9yW2tpbmRdO1xuXG4gIGlmIChraW5kVmlzaXRvcikge1xuICAgIGlmICghaXNMZWF2aW5nICYmIHR5cGVvZiBraW5kVmlzaXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8geyBLaW5kKCkge30gfVxuICAgICAgcmV0dXJuIGtpbmRWaXNpdG9yO1xuICAgIH1cblxuICAgIHZhciBraW5kU3BlY2lmaWNWaXNpdG9yID0gaXNMZWF2aW5nID8ga2luZFZpc2l0b3IubGVhdmUgOiBraW5kVmlzaXRvci5lbnRlcjtcblxuICAgIGlmICh0eXBlb2Yga2luZFNwZWNpZmljVmlzaXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8geyBLaW5kOiB7IGVudGVyKCkge30sIGxlYXZlKCkge30gfSB9XG4gICAgICByZXR1cm4ga2luZFNwZWNpZmljVmlzaXRvcjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNwZWNpZmljVmlzaXRvciA9IGlzTGVhdmluZyA/IHZpc2l0b3IubGVhdmUgOiB2aXNpdG9yLmVudGVyO1xuXG4gICAgaWYgKHNwZWNpZmljVmlzaXRvcikge1xuICAgICAgaWYgKHR5cGVvZiBzcGVjaWZpY1Zpc2l0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8geyBlbnRlcigpIHt9LCBsZWF2ZSgpIHt9IH1cbiAgICAgICAgcmV0dXJuIHNwZWNpZmljVmlzaXRvcjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNwZWNpZmljS2luZFZpc2l0b3IgPSBzcGVjaWZpY1Zpc2l0b3Jba2luZF07XG5cbiAgICAgIGlmICh0eXBlb2Ygc3BlY2lmaWNLaW5kVmlzaXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyB7IGVudGVyOiB7IEtpbmQoKSB7fSB9LCBsZWF2ZTogeyBLaW5kKCkge30gfSB9XG4gICAgICAgIHJldHVybiBzcGVjaWZpY0tpbmRWaXNpdG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmV4cG9ydHMuVG9rZW4gPSBleHBvcnRzLkxvY2F0aW9uID0gdm9pZCAwO1xuXG52YXIgX2RlZmluZUluc3BlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9qc3V0aWxzL2RlZmluZUluc3BlY3RcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIENvbnRhaW5zIGEgcmFuZ2Ugb2YgVVRGLTggY2hhcmFjdGVyIG9mZnNldHMgYW5kIHRva2VuIHJlZmVyZW5jZXMgdGhhdFxuICogaWRlbnRpZnkgdGhlIHJlZ2lvbiBvZiB0aGUgc291cmNlIGZyb20gd2hpY2ggdGhlIEFTVCBkZXJpdmVkLlxuICovXG52YXIgTG9jYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogVGhlIGNoYXJhY3RlciBvZmZzZXQgYXQgd2hpY2ggdGhpcyBOb2RlIGJlZ2lucy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBjaGFyYWN0ZXIgb2Zmc2V0IGF0IHdoaWNoIHRoaXMgTm9kZSBlbmRzLlxuICAgKi9cblxuICAvKipcbiAgICogVGhlIFRva2VuIGF0IHdoaWNoIHRoaXMgTm9kZSBiZWdpbnMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgVG9rZW4gYXQgd2hpY2ggdGhpcyBOb2RlIGVuZHMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgU291cmNlIGRvY3VtZW50IHRoZSBBU1QgcmVwcmVzZW50cy5cbiAgICovXG4gIGZ1bmN0aW9uIExvY2F0aW9uKHN0YXJ0VG9rZW4sIGVuZFRva2VuLCBzb3VyY2UpIHtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnRUb2tlbi5zdGFydDtcbiAgICB0aGlzLmVuZCA9IGVuZFRva2VuLmVuZDtcbiAgICB0aGlzLnN0YXJ0VG9rZW4gPSBzdGFydFRva2VuO1xuICAgIHRoaXMuZW5kVG9rZW4gPSBlbmRUb2tlbjtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBMb2NhdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuZW5kXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gTG9jYXRpb247XG59KCk7IC8vIFByaW50IGEgc2ltcGxpZmllZCBmb3JtIHdoZW4gYXBwZWFyaW5nIGluIGBpbnNwZWN0YCBhbmQgYHV0aWwuaW5zcGVjdGAuXG5cblxuZXhwb3J0cy5Mb2NhdGlvbiA9IExvY2F0aW9uO1xuKDAsIF9kZWZpbmVJbnNwZWN0LmRlZmF1bHQpKExvY2F0aW9uKTtcbi8qKlxuICogUmVwcmVzZW50cyBhIHJhbmdlIG9mIGNoYXJhY3RlcnMgcmVwcmVzZW50ZWQgYnkgYSBsZXhpY2FsIHRva2VuXG4gKiB3aXRoaW4gYSBTb3VyY2UuXG4gKi9cblxudmFyIFRva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIFRva2VuLlxuICAgKi9cblxuICAvKipcbiAgICogVGhlIGNoYXJhY3RlciBvZmZzZXQgYXQgd2hpY2ggdGhpcyBOb2RlIGJlZ2lucy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBjaGFyYWN0ZXIgb2Zmc2V0IGF0IHdoaWNoIHRoaXMgTm9kZSBlbmRzLlxuICAgKi9cblxuICAvKipcbiAgICogVGhlIDEtaW5kZXhlZCBsaW5lIG51bWJlciBvbiB3aGljaCB0aGlzIFRva2VuIGFwcGVhcnMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgMS1pbmRleGVkIGNvbHVtbiBudW1iZXIgYXQgd2hpY2ggdGhpcyBUb2tlbiBiZWdpbnMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBGb3Igbm9uLXB1bmN0dWF0aW9uIHRva2VucywgcmVwcmVzZW50cyB0aGUgaW50ZXJwcmV0ZWQgdmFsdWUgb2YgdGhlIHRva2VuLlxuICAgKi9cblxuICAvKipcbiAgICogVG9rZW5zIGV4aXN0IGFzIG5vZGVzIGluIGEgZG91YmxlLWxpbmtlZC1saXN0IGFtb25nc3QgYWxsIHRva2Vuc1xuICAgKiBpbmNsdWRpbmcgaWdub3JlZCB0b2tlbnMuIDxTT0Y+IGlzIGFsd2F5cyB0aGUgZmlyc3Qgbm9kZSBhbmQgPEVPRj5cbiAgICogdGhlIGxhc3QuXG4gICAqL1xuICBmdW5jdGlvbiBUb2tlbihraW5kLCBzdGFydCwgZW5kLCBsaW5lLCBjb2x1bW4sIHByZXYsIHZhbHVlKSB7XG4gICAgdGhpcy5raW5kID0ga2luZDtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm90bzIgPSBUb2tlbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMi50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgbGluZTogdGhpcy5saW5lLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtblxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIFRva2VuO1xufSgpOyAvLyBQcmludCBhIHNpbXBsaWZpZWQgZm9ybSB3aGVuIGFwcGVhcmluZyBpbiBgaW5zcGVjdGAgYW5kIGB1dGlsLmluc3BlY3RgLlxuXG5cbmV4cG9ydHMuVG9rZW4gPSBUb2tlbjtcbigwLCBfZGVmaW5lSW5zcGVjdC5kZWZhdWx0KShUb2tlbik7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5cbmZ1bmN0aW9uIGlzTm9kZShtYXliZU5vZGUpIHtcbiAgcmV0dXJuIG1heWJlTm9kZSAhPSBudWxsICYmIHR5cGVvZiBtYXliZU5vZGUua2luZCA9PT0gJ3N0cmluZyc7XG59XG4vKipcbiAqIFRoZSBsaXN0IG9mIGFsbCBwb3NzaWJsZSBBU1Qgbm9kZSB0eXBlcy5cbiAqL1xuIiwidmFyIHBhcnNlciA9IHJlcXVpcmUoJ2dyYXBocWwvbGFuZ3VhZ2UvcGFyc2VyJyk7XG5cbnZhciBwYXJzZSA9IHBhcnNlci5wYXJzZTtcblxuLy8gU3RyaXAgaW5zaWduaWZpY2FudCB3aGl0ZXNwYWNlXG4vLyBOb3RlIHRoYXQgdGhpcyBjb3VsZCBkbyBhIGxvdCBtb3JlLCBzdWNoIGFzIHJlb3JkZXIgZmllbGRzIGV0Yy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bXFxzLF0rL2csICcgJykudHJpbSgpO1xufVxuXG4vLyBBIG1hcCBkb2NTdHJpbmcgLT4gZ3JhcGhxbCBkb2N1bWVudFxudmFyIGRvY0NhY2hlID0ge307XG5cbi8vIEEgbWFwIGZyYWdtZW50TmFtZSAtPiBbbm9ybWFsaXplZCBzb3VyY2VdXG52YXIgZnJhZ21lbnRTb3VyY2VNYXAgPSB7fTtcblxuZnVuY3Rpb24gY2FjaGVLZXlGcm9tTG9jKGxvYykge1xuICByZXR1cm4gbm9ybWFsaXplKGxvYy5zb3VyY2UuYm9keS5zdWJzdHJpbmcobG9jLnN0YXJ0LCBsb2MuZW5kKSk7XG59XG5cbi8vIEZvciB0ZXN0aW5nLlxuZnVuY3Rpb24gcmVzZXRDYWNoZXMoKSB7XG4gIGRvY0NhY2hlID0ge307XG4gIGZyYWdtZW50U291cmNlTWFwID0ge307XG59XG5cbi8vIFRha2UgYSB1bnN0cmlwcGVkIHBhcnNlZCBkb2N1bWVudCAocXVlcnkvbXV0YXRpb24gb3IgZXZlbiBmcmFnbWVudCksIGFuZFxuLy8gY2hlY2sgYWxsIGZyYWdtZW50IGRlZmluaXRpb25zLCBjaGVja2luZyBmb3IgbmFtZS0+c291cmNlIHVuaXF1ZW5lc3MuXG4vLyBXZSBhbHNvIHdhbnQgdG8gbWFrZSBzdXJlIG9ubHkgdW5pcXVlIGZyYWdtZW50cyBleGlzdCBpbiB0aGUgZG9jdW1lbnQuXG52YXIgcHJpbnRGcmFnbWVudFdhcm5pbmdzID0gdHJ1ZTtcbmZ1bmN0aW9uIHByb2Nlc3NGcmFnbWVudHMoYXN0KSB7XG4gIHZhciBhc3RGcmFnbWVudE1hcCA9IHt9O1xuICB2YXIgZGVmaW5pdGlvbnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzdC5kZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmcmFnbWVudERlZmluaXRpb24gPSBhc3QuZGVmaW5pdGlvbnNbaV07XG5cbiAgICBpZiAoZnJhZ21lbnREZWZpbml0aW9uLmtpbmQgPT09ICdGcmFnbWVudERlZmluaXRpb24nKSB7XG4gICAgICB2YXIgZnJhZ21lbnROYW1lID0gZnJhZ21lbnREZWZpbml0aW9uLm5hbWUudmFsdWU7XG4gICAgICB2YXIgc291cmNlS2V5ID0gY2FjaGVLZXlGcm9tTG9jKGZyYWdtZW50RGVmaW5pdGlvbi5sb2MpO1xuXG4gICAgICAvLyBXZSBrbm93IHNvbWV0aGluZyBhYm91dCB0aGlzIGZyYWdtZW50XG4gICAgICBpZiAoZnJhZ21lbnRTb3VyY2VNYXAuaGFzT3duUHJvcGVydHkoZnJhZ21lbnROYW1lKSAmJiAhZnJhZ21lbnRTb3VyY2VNYXBbZnJhZ21lbnROYW1lXVtzb3VyY2VLZXldKSB7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBhIHByb2JsZW0gYmVjYXVzZSB0aGUgYXBwIGRldmVsb3BlciBpcyB0cnlpbmcgdG8gcmVnaXN0ZXIgYW5vdGhlciBmcmFnbWVudCB3aXRoXG4gICAgICAgIC8vIHRoZSBzYW1lIG5hbWUgYXMgb25lIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC4gU28sIHdlIHRlbGwgdGhlbSBhYm91dCBpdC5cbiAgICAgICAgaWYgKHByaW50RnJhZ21lbnRXYXJuaW5ncykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSBcIiArIGZyYWdtZW50TmFtZSArIFwiIGFscmVhZHkgZXhpc3RzLlxcblwiXG4gICAgICAgICAgICArIFwiZ3JhcGhxbC10YWcgZW5mb3JjZXMgYWxsIGZyYWdtZW50IG5hbWVzIGFjcm9zcyB5b3VyIGFwcGxpY2F0aW9uIHRvIGJlIHVuaXF1ZTsgcmVhZCBtb3JlIGFib3V0XFxuXCJcbiAgICAgICAgICAgICsgXCJ0aGlzIGluIHRoZSBkb2NzOiBodHRwOi8vZGV2LmFwb2xsb2RhdGEuY29tL2NvcmUvZnJhZ21lbnRzLmh0bWwjdW5pcXVlLW5hbWVzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnRTb3VyY2VNYXBbZnJhZ21lbnROYW1lXVtzb3VyY2VLZXldID0gdHJ1ZTtcblxuICAgICAgfSBlbHNlIGlmICghZnJhZ21lbnRTb3VyY2VNYXAuaGFzT3duUHJvcGVydHkoZnJhZ21lbnROYW1lKSkge1xuICAgICAgICBmcmFnbWVudFNvdXJjZU1hcFtmcmFnbWVudE5hbWVdID0ge307XG4gICAgICAgIGZyYWdtZW50U291cmNlTWFwW2ZyYWdtZW50TmFtZV1bc291cmNlS2V5XSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXN0RnJhZ21lbnRNYXBbc291cmNlS2V5XSkge1xuICAgICAgICBhc3RGcmFnbWVudE1hcFtzb3VyY2VLZXldID0gdHJ1ZTtcbiAgICAgICAgZGVmaW5pdGlvbnMucHVzaChmcmFnbWVudERlZmluaXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWZpbml0aW9ucy5wdXNoKGZyYWdtZW50RGVmaW5pdGlvbik7XG4gICAgfVxuICB9XG5cbiAgYXN0LmRlZmluaXRpb25zID0gZGVmaW5pdGlvbnM7XG4gIHJldHVybiBhc3Q7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVGcmFnbWVudFdhcm5pbmdzKCkge1xuICBwcmludEZyYWdtZW50V2FybmluZ3MgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc3RyaXBMb2MoZG9jLCByZW1vdmVMb2NBdFRoaXNMZXZlbCkge1xuICB2YXIgZG9jVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2MpO1xuXG4gIGlmIChkb2NUeXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgcmV0dXJuIGRvYy5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiBzdHJpcExvYyhkLCByZW1vdmVMb2NBdFRoaXNMZXZlbCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZG9jVHlwZSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgaW5wdXQuJyk7XG4gIH1cblxuICAvLyBXZSBkb24ndCB3YW50IHRvIHJlbW92ZSB0aGUgcm9vdCBsb2MgZmllbGQgc28gd2UgY2FuIHVzZSBpdFxuICAvLyBmb3IgZnJhZ21lbnQgc3Vic3RpdHV0aW9uIChzZWUgYmVsb3cpXG4gIGlmIChyZW1vdmVMb2NBdFRoaXNMZXZlbCAmJiBkb2MubG9jKSB7XG4gICAgZGVsZXRlIGRvYy5sb2M7XG4gIH1cblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9ncmFwaHFsLXRhZy9pc3N1ZXMvNDBcbiAgaWYgKGRvYy5sb2MpIHtcbiAgICBkZWxldGUgZG9jLmxvYy5zdGFydFRva2VuO1xuICAgIGRlbGV0ZSBkb2MubG9jLmVuZFRva2VuO1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkb2MpO1xuICB2YXIga2V5O1xuICB2YXIgdmFsdWU7XG4gIHZhciB2YWx1ZVR5cGU7XG5cbiAgZm9yIChrZXkgaW4ga2V5cykge1xuICAgIGlmIChrZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhbHVlID0gZG9jW2tleXNba2V5XV07XG4gICAgICB2YWx1ZVR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgICBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgZG9jW2tleXNba2V5XV0gPSBzdHJpcExvYyh2YWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRvYztcbn1cblxudmFyIGV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzID0gZmFsc2U7XG5mdW5jdGlvbiBwYXJzZURvY3VtZW50KGRvYykge1xuICB2YXIgY2FjaGVLZXkgPSBub3JtYWxpemUoZG9jKTtcblxuICBpZiAoZG9jQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgcmV0dXJuIGRvY0NhY2hlW2NhY2hlS2V5XTtcbiAgfVxuXG4gIHZhciBwYXJzZWQgPSBwYXJzZShkb2MsIHsgZXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM6IGV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzIH0pO1xuICBpZiAoIXBhcnNlZCB8fCBwYXJzZWQua2luZCAhPT0gJ0RvY3VtZW50Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGEgdmFsaWQgR3JhcGhRTCBkb2N1bWVudC4nKTtcbiAgfVxuXG4gIC8vIGNoZWNrIHRoYXQgYWxsIFwibmV3XCIgZnJhZ21lbnRzIGluc2lkZSB0aGUgZG9jdW1lbnRzIGFyZSBjb25zaXN0ZW50IHdpdGhcbiAgLy8gZXhpc3RpbmcgZnJhZ21lbnRzIG9mIHRoZSBzYW1lIG5hbWVcbiAgcGFyc2VkID0gcHJvY2Vzc0ZyYWdtZW50cyhwYXJzZWQpO1xuICBwYXJzZWQgPSBzdHJpcExvYyhwYXJzZWQsIGZhbHNlKTtcbiAgZG9jQ2FjaGVbY2FjaGVLZXldID0gcGFyc2VkO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzKCkge1xuICBleHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcygpIHtcbiAgZXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXMgPSBmYWxzZTtcbn1cblxuLy8gWFhYIFRoaXMgc2hvdWxkIGV2ZW50dWFsbHkgZGlzYWxsb3cgYXJiaXRyYXJ5IHN0cmluZyBpbnRlcnBvbGF0aW9uLCBsaWtlIFJlbGF5IGRvZXNcbmZ1bmN0aW9uIGdxbCgvKiBhcmd1bWVudHMgKi8pIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gIHZhciBsaXRlcmFscyA9IGFyZ3NbMF07XG5cbiAgLy8gV2UgYWx3YXlzIGdldCBsaXRlcmFsc1swXSBhbmQgdGhlbiBtYXRjaGluZyBwb3N0IGxpdGVyYWxzIGZvciBlYWNoIGFyZyBnaXZlblxuICB2YXIgcmVzdWx0ID0gKHR5cGVvZihsaXRlcmFscykgPT09IFwic3RyaW5nXCIpID8gbGl0ZXJhbHMgOiBsaXRlcmFsc1swXTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJnc1tpXSAmJiBhcmdzW2ldLmtpbmQgJiYgYXJnc1tpXS5raW5kID09PSAnRG9jdW1lbnQnKSB7XG4gICAgICByZXN1bHQgKz0gYXJnc1tpXS5sb2Muc291cmNlLmJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBhcmdzW2ldO1xuICAgIH1cblxuICAgIHJlc3VsdCArPSBsaXRlcmFsc1tpXTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZURvY3VtZW50KHJlc3VsdCk7XG59XG5cbi8vIFN1cHBvcnQgdHlwZXNjcmlwdCwgd2hpY2ggaXNuJ3QgYXMgbmljZSBhcyBCYWJlbCBhYm91dCBkZWZhdWx0IGV4cG9ydHNcbmdxbC5kZWZhdWx0ID0gZ3FsO1xuZ3FsLnJlc2V0Q2FjaGVzID0gcmVzZXRDYWNoZXM7XG5ncWwuZGlzYWJsZUZyYWdtZW50V2FybmluZ3MgPSBkaXNhYmxlRnJhZ21lbnRXYXJuaW5ncztcbmdxbC5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyA9IGVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzO1xuZ3FsLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyA9IGRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcztcblxubW9kdWxlLmV4cG9ydHMgPSBncWw7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiY29uc3QgeyB0b1N0cmluZywgaGFzT3duUHJvcGVydHkgfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCBwcmV2aW91c0NvbXBhcmlzb25zID0gbmV3IE1hcDxvYmplY3QsIFNldDxvYmplY3Q+PigpO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBlcXVhbGl0eSBjaGVjayBvbiB0d28gSmF2YVNjcmlwdCB2YWx1ZXMsIHRvbGVyYXRpbmcgY3ljbGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWwoYTogYW55LCBiOiBhbnkpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2hlY2soYSwgYik7XG4gIH0gZmluYWxseSB7XG4gICAgcHJldmlvdXNDb21wYXJpc29ucy5jbGVhcigpO1xuICB9XG59XG5cbi8vIEFsbG93IGRlZmF1bHQgaW1wb3J0cyBhcyB3ZWxsLlxuZXhwb3J0IGRlZmF1bHQgZXF1YWw7XG5cbmZ1bmN0aW9uIGNoZWNrKGE6IGFueSwgYjogYW55KTogYm9vbGVhbiB7XG4gIC8vIElmIHRoZSB0d28gdmFsdWVzIGFyZSBzdHJpY3RseSBlcXVhbCwgb3VyIGpvYiBpcyBlYXN5LlxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyByZXR1cm5zIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bnRpbWUgdHlwZSBvZlxuICAvLyB0aGUgZ2l2ZW4gdmFsdWUgdGhhdCBpcyBjb25zaWRlcmFibHkgbW9yZSBwcmVjaXNlIHRoYW4gdHlwZW9mLlxuICBjb25zdCBhVGFnID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgY29uc3QgYlRhZyA9IHRvU3RyaW5nLmNhbGwoYik7XG5cbiAgLy8gSWYgdGhlIHJ1bnRpbWUgdHlwZXMgb2YgYSBhbmQgYiBhcmUgZGlmZmVyZW50LCB0aGV5IGNvdWxkIG1heWJlIGJlIGVxdWFsXG4gIC8vIHVuZGVyIHNvbWUgaW50ZXJwcmV0YXRpb24gb2YgZXF1YWxpdHksIGJ1dCBmb3Igc2ltcGxpY2l0eSBhbmQgcGVyZm9ybWFuY2VcbiAgLy8gd2UganVzdCByZXR1cm4gZmFsc2UgaW5zdGVhZC5cbiAgaWYgKGFUYWcgIT09IGJUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2ggKGFUYWcpIHtcbiAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6XG4gICAgICAvLyBBcnJheXMgYXJlIGEgbG90IGxpa2Ugb3RoZXIgb2JqZWN0cywgYnV0IHdlIGNhbiBjaGVhcGx5IGNvbXBhcmUgdGhlaXJcbiAgICAgIC8vIGxlbmd0aHMgYXMgYSBzaG9ydC1jdXQgYmVmb3JlIGNvbXBhcmluZyB0aGVpciBlbGVtZW50cy5cbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBvYmplY3QgY2FzZS4uLlxuICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6IHtcbiAgICAgIGlmIChwcmV2aW91c2x5Q29tcGFyZWQoYSwgYikpIHJldHVybiB0cnVlO1xuXG4gICAgICBjb25zdCBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgICAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgICAgLy8gSWYgYGFgIGFuZCBgYmAgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW51bWVyYWJsZSBrZXlzLCB0aGV5XG4gICAgICAvLyBtdXN0IGJlIGRpZmZlcmVudC5cbiAgICAgIGNvbnN0IGtleUNvdW50ID0gYUtleXMubGVuZ3RoO1xuICAgICAgaWYgKGtleUNvdW50ICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gTm93IG1ha2Ugc3VyZSB0aGV5IGhhdmUgdGhlIHNhbWUga2V5cy5cbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5Q291bnQ7ICsraykge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoYiwgYUtleXNba10pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmFsbHksIGNoZWNrIGRlZXAgZXF1YWxpdHkgb2YgYWxsIGNoaWxkIHByb3BlcnRpZXMuXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IGtleUNvdW50OyArK2spIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYUtleXNba107XG4gICAgICAgIGlmICghY2hlY2soYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzpcbiAgICAgIHJldHVybiBhLm5hbWUgPT09IGIubmFtZSAmJiBhLm1lc3NhZ2UgPT09IGIubWVzc2FnZTtcblxuICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAvLyBIYW5kbGUgTmFOLCB3aGljaCBpcyAhPT0gaXRzZWxmLlxuICAgICAgaWYgKGEgIT09IGEpIHJldHVybiBiICE9PSBiO1xuICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIHNoYXJlZCArYSA9PT0gK2IgY2FzZS4uLlxuICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgcmV0dXJuICthID09PSArYjtcblxuICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgIHJldHVybiBhID09IGAke2J9YDtcblxuICAgIGNhc2UgJ1tvYmplY3QgTWFwXSc6XG4gICAgY2FzZSAnW29iamVjdCBTZXRdJzoge1xuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJldmlvdXNseUNvbXBhcmVkKGEsIGIpKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgY29uc3QgYUl0ZXJhdG9yID0gYS5lbnRyaWVzKCk7XG4gICAgICBjb25zdCBpc01hcCA9IGFUYWcgPT09ICdbb2JqZWN0IE1hcF0nO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBpbmZvID0gYUl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGluZm8uZG9uZSkgYnJlYWs7XG5cbiAgICAgICAgLy8gSWYgYSBpbnN0YW5jZW9mIFNldCwgYVZhbHVlID09PSBhS2V5LlxuICAgICAgICBjb25zdCBbYUtleSwgYVZhbHVlXSA9IGluZm8udmFsdWU7XG5cbiAgICAgICAgLy8gU28gdGhpcyB3b3JrcyB0aGUgc2FtZSB3YXkgZm9yIGJvdGggU2V0IGFuZCBNYXAuXG4gICAgICAgIGlmICghYi5oYXMoYUtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIb3dldmVyLCB3ZSBjYXJlIGFib3V0IGRlZXAgZXF1YWxpdHkgb2YgdmFsdWVzIG9ubHkgd2hlbiBkZWFsaW5nXG4gICAgICAgIC8vIHdpdGggTWFwIHN0cnVjdHVyZXMuXG4gICAgICAgIGlmIChpc01hcCAmJiAhY2hlY2soYVZhbHVlLCBiLmdldChhS2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gT3RoZXJ3aXNlIHRoZSB2YWx1ZXMgYXJlIG5vdCBlcXVhbC5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmV2aW91c2x5Q29tcGFyZWQoYTogb2JqZWN0LCBiOiBvYmplY3QpOiBib29sZWFuIHtcbiAgLy8gVGhvdWdoIGN5Y2xpYyByZWZlcmVuY2VzIGNhbiBtYWtlIGFuIG9iamVjdCBncmFwaCBhcHBlYXIgaW5maW5pdGUgZnJvbSB0aGVcbiAgLy8gcGVyc3BlY3RpdmUgb2YgYSBkZXB0aC1maXJzdCB0cmF2ZXJzYWwsIHRoZSBncmFwaCBzdGlsbCBjb250YWlucyBhIGZpbml0ZVxuICAvLyBudW1iZXIgb2YgZGlzdGluY3Qgb2JqZWN0IHJlZmVyZW5jZXMuIFdlIHVzZSB0aGUgcHJldmlvdXNDb21wYXJpc29ucyBjYWNoZVxuICAvLyB0byBhdm9pZCBjb21wYXJpbmcgdGhlIHNhbWUgcGFpciBvZiBvYmplY3QgcmVmZXJlbmNlcyBtb3JlIHRoYW4gb25jZSwgd2hpY2hcbiAgLy8gZ3VhcmFudGVlcyB0ZXJtaW5hdGlvbiAoZXZlbiBpZiB3ZSBlbmQgdXAgY29tcGFyaW5nIGV2ZXJ5IG9iamVjdCBpbiBvbmVcbiAgLy8gZ3JhcGggdG8gZXZlcnkgb2JqZWN0IGluIHRoZSBvdGhlciBncmFwaCwgd2hpY2ggaXMgZXh0cmVtZWx5IHVubGlrZWx5KSxcbiAgLy8gd2hpbGUgc3RpbGwgYWxsb3dpbmcgd2VpcmQgaXNvbW9ycGhpYyBzdHJ1Y3R1cmVzIChsaWtlIHJpbmdzIHdpdGggZGlmZmVyZW50XG4gIC8vIGxlbmd0aHMpIGEgY2hhbmNlIHRvIHBhc3MgdGhlIGVxdWFsaXR5IHRlc3QuXG4gIGxldCBiU2V0ID0gcHJldmlvdXNDb21wYXJpc29ucy5nZXQoYSk7XG4gIGlmIChiU2V0KSB7XG4gICAgLy8gUmV0dXJuIHRydWUgaGVyZSBiZWNhdXNlIHdlIGNhbiBiZSBzdXJlIGZhbHNlIHdpbGwgYmUgcmV0dXJuZWQgc29tZXdoZXJlXG4gICAgLy8gZWxzZSBpZiB0aGUgb2JqZWN0cyBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgaWYgKGJTZXQuaGFzKGIpKSByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBwcmV2aW91c0NvbXBhcmlzb25zLnNldChhLCBiU2V0ID0gbmV3IFNldCk7XG4gIH1cbiAgYlNldC5hZGQoYik7XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaW5zcGVjdDtcblxudmFyIF9ub2RlanNDdXN0b21JbnNwZWN0U3ltYm9sID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ub2RlanNDdXN0b21JbnNwZWN0U3ltYm9sXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG52YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDEwO1xudmFyIE1BWF9SRUNVUlNJVkVfREVQVEggPSAyO1xuLyoqXG4gKiBVc2VkIHRvIHByaW50IHZhbHVlcyBpbiBlcnJvciBtZXNzYWdlcy5cbiAqL1xuXG5mdW5jdGlvbiBpbnNwZWN0KHZhbHVlKSB7XG4gIHJldHVybiBmb3JtYXRWYWx1ZSh2YWx1ZSwgW10pO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZSh2YWx1ZSwgc2VlblZhbHVlcykge1xuICBzd2l0Y2ggKF90eXBlb2YodmFsdWUpKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gdmFsdWUubmFtZSA/IFwiW2Z1bmN0aW9uIFwiLmNvbmNhdCh2YWx1ZS5uYW1lLCBcIl1cIikgOiAnW2Z1bmN0aW9uXSc7XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXRPYmplY3RWYWx1ZSh2YWx1ZSwgc2VlblZhbHVlcyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0T2JqZWN0VmFsdWUodmFsdWUsIHByZXZpb3VzbHlTZWVuVmFsdWVzKSB7XG4gIGlmIChwcmV2aW91c2x5U2VlblZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICB9XG5cbiAgdmFyIHNlZW5WYWx1ZXMgPSBbXS5jb25jYXQocHJldmlvdXNseVNlZW5WYWx1ZXMsIFt2YWx1ZV0pO1xuICB2YXIgY3VzdG9tSW5zcGVjdEZuID0gZ2V0Q3VzdG9tRm4odmFsdWUpO1xuXG4gIGlmIChjdXN0b21JbnNwZWN0Rm4gIT09IHVuZGVmaW5lZCkge1xuICAgIC8vICRGbG93Rml4TWUoPj0wLjkwLjApXG4gICAgdmFyIGN1c3RvbVZhbHVlID0gY3VzdG9tSW5zcGVjdEZuLmNhbGwodmFsdWUpOyAvLyBjaGVjayBmb3IgaW5maW5pdGUgcmVjdXJzaW9uXG5cbiAgICBpZiAoY3VzdG9tVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGN1c3RvbVZhbHVlID09PSAnc3RyaW5nJyA/IGN1c3RvbVZhbHVlIDogZm9ybWF0VmFsdWUoY3VzdG9tVmFsdWUsIHNlZW5WYWx1ZXMpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmb3JtYXRBcnJheSh2YWx1ZSwgc2VlblZhbHVlcyk7XG4gIH1cblxuICByZXR1cm4gZm9ybWF0T2JqZWN0KHZhbHVlLCBzZWVuVmFsdWVzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0T2JqZWN0KG9iamVjdCwgc2VlblZhbHVlcykge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICd7fSc7XG4gIH1cblxuICBpZiAoc2VlblZhbHVlcy5sZW5ndGggPiBNQVhfUkVDVVJTSVZFX0RFUFRIKSB7XG4gICAgcmV0dXJuICdbJyArIGdldE9iamVjdFRhZyhvYmplY3QpICsgJ10nO1xuICB9XG5cbiAgdmFyIHByb3BlcnRpZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUob2JqZWN0W2tleV0sIHNlZW5WYWx1ZXMpO1xuICAgIHJldHVybiBrZXkgKyAnOiAnICsgdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gJ3sgJyArIHByb3BlcnRpZXMuam9pbignLCAnKSArICcgfSc7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGFycmF5LCBzZWVuVmFsdWVzKSB7XG4gIGlmIChhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1tdJztcbiAgfVxuXG4gIGlmIChzZWVuVmFsdWVzLmxlbmd0aCA+IE1BWF9SRUNVUlNJVkVfREVQVEgpIHtcbiAgICByZXR1cm4gJ1tBcnJheV0nO1xuICB9XG5cbiAgdmFyIGxlbiA9IE1hdGgubWluKE1BWF9BUlJBWV9MRU5HVEgsIGFycmF5Lmxlbmd0aCk7XG4gIHZhciByZW1haW5pbmcgPSBhcnJheS5sZW5ndGggLSBsZW47XG4gIHZhciBpdGVtcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpdGVtcy5wdXNoKGZvcm1hdFZhbHVlKGFycmF5W2ldLCBzZWVuVmFsdWVzKSk7XG4gIH1cblxuICBpZiAocmVtYWluaW5nID09PSAxKSB7XG4gICAgaXRlbXMucHVzaCgnLi4uIDEgbW9yZSBpdGVtJyk7XG4gIH0gZWxzZSBpZiAocmVtYWluaW5nID4gMSkge1xuICAgIGl0ZW1zLnB1c2goXCIuLi4gXCIuY29uY2F0KHJlbWFpbmluZywgXCIgbW9yZSBpdGVtc1wiKSk7XG4gIH1cblxuICByZXR1cm4gJ1snICsgaXRlbXMuam9pbignLCAnKSArICddJztcbn1cblxuZnVuY3Rpb24gZ2V0Q3VzdG9tRm4ob2JqZWN0KSB7XG4gIHZhciBjdXN0b21JbnNwZWN0Rm4gPSBvYmplY3RbU3RyaW5nKF9ub2RlanNDdXN0b21JbnNwZWN0U3ltYm9sLmRlZmF1bHQpXTtcblxuICBpZiAodHlwZW9mIGN1c3RvbUluc3BlY3RGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjdXN0b21JbnNwZWN0Rm47XG4gIH1cblxuICBpZiAodHlwZW9mIG9iamVjdC5pbnNwZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iamVjdC5pbnNwZWN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9iamVjdFRhZyhvYmplY3QpIHtcbiAgdmFyIHRhZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpLnJlcGxhY2UoL15cXFtvYmplY3QgLywgJycpLnJlcGxhY2UoL10kLywgJycpO1xuXG4gIGlmICh0YWcgPT09ICdPYmplY3QnICYmIHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgbmFtZSA9IG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lICE9PSAnJykge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhZztcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHQgKFNlZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2dyYXBocWwtanMvaXNzdWVzLzIzMTcnKVxudmFyIG5vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuZm9yID09PSAnZnVuY3Rpb24nID8gU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSA6IHVuZGVmaW5lZDtcbnZhciBfZGVmYXVsdCA9IG5vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2w7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWRlbnRCbG9ja1N0cmluZ1ZhbHVlID0gZGVkZW50QmxvY2tTdHJpbmdWYWx1ZTtcbmV4cG9ydHMuZ2V0QmxvY2tTdHJpbmdJbmRlbnRhdGlvbiA9IGdldEJsb2NrU3RyaW5nSW5kZW50YXRpb247XG5leHBvcnRzLnByaW50QmxvY2tTdHJpbmcgPSBwcmludEJsb2NrU3RyaW5nO1xuXG4vKipcbiAqIFByb2R1Y2VzIHRoZSB2YWx1ZSBvZiBhIGJsb2NrIHN0cmluZyBmcm9tIGl0cyBwYXJzZWQgcmF3IHZhbHVlLCBzaW1pbGFyIHRvXG4gKiBDb2ZmZWVTY3JpcHQncyBibG9jayBzdHJpbmcsIFB5dGhvbidzIGRvY3N0cmluZyB0cmltIG9yIFJ1YnkncyBzdHJpcF9oZXJlZG9jLlxuICpcbiAqIFRoaXMgaW1wbGVtZW50cyB0aGUgR3JhcGhRTCBzcGVjJ3MgQmxvY2tTdHJpbmdWYWx1ZSgpIHN0YXRpYyBhbGdvcml0aG0uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGRlZGVudEJsb2NrU3RyaW5nVmFsdWUocmF3U3RyaW5nKSB7XG4gIC8vIEV4cGFuZCBhIGJsb2NrIHN0cmluZydzIHJhdyB2YWx1ZSBpbnRvIGluZGVwZW5kZW50IGxpbmVzLlxuICB2YXIgbGluZXMgPSByYXdTdHJpbmcuc3BsaXQoL1xcclxcbnxbXFxuXFxyXS9nKTsgLy8gUmVtb3ZlIGNvbW1vbiBpbmRlbnRhdGlvbiBmcm9tIGFsbCBsaW5lcyBidXQgZmlyc3QuXG5cbiAgdmFyIGNvbW1vbkluZGVudCA9IGdldEJsb2NrU3RyaW5nSW5kZW50YXRpb24obGluZXMpO1xuXG4gIGlmIChjb21tb25JbmRlbnQgIT09IDApIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaW5lc1tpXSA9IGxpbmVzW2ldLnNsaWNlKGNvbW1vbkluZGVudCk7XG4gICAgfVxuICB9IC8vIFJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBibGFuayBsaW5lcy5cblxuXG4gIHdoaWxlIChsaW5lcy5sZW5ndGggPiAwICYmIGlzQmxhbmsobGluZXNbMF0pKSB7XG4gICAgbGluZXMuc2hpZnQoKTtcbiAgfVxuXG4gIHdoaWxlIChsaW5lcy5sZW5ndGggPiAwICYmIGlzQmxhbmsobGluZXNbbGluZXMubGVuZ3RoIC0gMV0pKSB7XG4gICAgbGluZXMucG9wKCk7XG4gIH0gLy8gUmV0dXJuIGEgc3RyaW5nIG9mIHRoZSBsaW5lcyBqb2luZWQgd2l0aCBVKzAwMEEuXG5cblxuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gZ2V0QmxvY2tTdHJpbmdJbmRlbnRhdGlvbihsaW5lcykge1xuICB2YXIgY29tbW9uSW5kZW50ID0gbnVsbDtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpbmUgPSBsaW5lc1tpXTtcbiAgICB2YXIgaW5kZW50ID0gbGVhZGluZ1doaXRlc3BhY2UobGluZSk7XG5cbiAgICBpZiAoaW5kZW50ID09PSBsaW5lLmxlbmd0aCkge1xuICAgICAgY29udGludWU7IC8vIHNraXAgZW1wdHkgbGluZXNcbiAgICB9XG5cbiAgICBpZiAoY29tbW9uSW5kZW50ID09PSBudWxsIHx8IGluZGVudCA8IGNvbW1vbkluZGVudCkge1xuICAgICAgY29tbW9uSW5kZW50ID0gaW5kZW50O1xuXG4gICAgICBpZiAoY29tbW9uSW5kZW50ID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb21tb25JbmRlbnQgPT09IG51bGwgPyAwIDogY29tbW9uSW5kZW50O1xufVxuXG5mdW5jdGlvbiBsZWFkaW5nV2hpdGVzcGFjZShzdHIpIHtcbiAgdmFyIGkgPSAwO1xuXG4gIHdoaWxlIChpIDwgc3RyLmxlbmd0aCAmJiAoc3RyW2ldID09PSAnICcgfHwgc3RyW2ldID09PSAnXFx0JykpIHtcbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gaXNCbGFuayhzdHIpIHtcbiAgcmV0dXJuIGxlYWRpbmdXaGl0ZXNwYWNlKHN0cikgPT09IHN0ci5sZW5ndGg7XG59XG4vKipcbiAqIFByaW50IGEgYmxvY2sgc3RyaW5nIGluIHRoZSBpbmRlbnRlZCBibG9jayBmb3JtIGJ5IGFkZGluZyBhIGxlYWRpbmcgYW5kXG4gKiB0cmFpbGluZyBibGFuayBsaW5lLiBIb3dldmVyLCBpZiBhIGJsb2NrIHN0cmluZyBzdGFydHMgd2l0aCB3aGl0ZXNwYWNlIGFuZCBpc1xuICogYSBzaW5nbGUtbGluZSwgYWRkaW5nIGEgbGVhZGluZyBibGFuayBsaW5lIHdvdWxkIHN0cmlwIHRoYXQgd2hpdGVzcGFjZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG5cbmZ1bmN0aW9uIHByaW50QmxvY2tTdHJpbmcodmFsdWUpIHtcbiAgdmFyIGluZGVudGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgdmFyIHByZWZlck11bHRpcGxlTGluZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICB2YXIgaXNTaW5nbGVMaW5lID0gdmFsdWUuaW5kZXhPZignXFxuJykgPT09IC0xO1xuICB2YXIgaGFzTGVhZGluZ1NwYWNlID0gdmFsdWVbMF0gPT09ICcgJyB8fCB2YWx1ZVswXSA9PT0gJ1xcdCc7XG4gIHZhciBoYXNUcmFpbGluZ1F1b3RlID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gPT09ICdcIic7XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gPT09ICdcXFxcJztcbiAgdmFyIHByaW50QXNNdWx0aXBsZUxpbmVzID0gIWlzU2luZ2xlTGluZSB8fCBoYXNUcmFpbGluZ1F1b3RlIHx8IGhhc1RyYWlsaW5nU2xhc2ggfHwgcHJlZmVyTXVsdGlwbGVMaW5lcztcbiAgdmFyIHJlc3VsdCA9ICcnOyAvLyBGb3JtYXQgYSBtdWx0aS1saW5lIGJsb2NrIHF1b3RlIHRvIGFjY291bnQgZm9yIGxlYWRpbmcgc3BhY2UuXG5cbiAgaWYgKHByaW50QXNNdWx0aXBsZUxpbmVzICYmICEoaXNTaW5nbGVMaW5lICYmIGhhc0xlYWRpbmdTcGFjZSkpIHtcbiAgICByZXN1bHQgKz0gJ1xcbicgKyBpbmRlbnRhdGlvbjtcbiAgfVxuXG4gIHJlc3VsdCArPSBpbmRlbnRhdGlvbiA/IHZhbHVlLnJlcGxhY2UoL1xcbi9nLCAnXFxuJyArIGluZGVudGF0aW9uKSA6IHZhbHVlO1xuXG4gIGlmIChwcmludEFzTXVsdGlwbGVMaW5lcykge1xuICAgIHJlc3VsdCArPSAnXFxuJztcbiAgfVxuXG4gIHJldHVybiAnXCJcIlwiJyArIHJlc3VsdC5yZXBsYWNlKC9cIlwiXCIvZywgJ1xcXFxcIlwiXCInKSArICdcIlwiXCInO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXZBc3NlcnQ7XG5cbmZ1bmN0aW9uIGRldkFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgdmFyIGJvb2xlYW5Db25kaXRpb24gPSBCb29sZWFuKGNvbmRpdGlvbik7IC8vIGlzdGFuYnVsIGlnbm9yZSBlbHNlIChTZWUgdHJhbnNmb3JtYXRpb24gZG9uZSBpbiAnLi9yZXNvdXJjZXMvaW5saW5lSW52YXJpYW50LmpzJylcblxuICBpZiAoIWJvb2xlYW5Db25kaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zeW50YXhFcnJvciA9IHN5bnRheEVycm9yO1xuXG52YXIgX0dyYXBoUUxFcnJvciA9IHJlcXVpcmUoXCIuL0dyYXBoUUxFcnJvclwiKTtcblxuLyoqXG4gKiBQcm9kdWNlcyBhIEdyYXBoUUxFcnJvciByZXByZXNlbnRpbmcgYSBzeW50YXggZXJyb3IsIGNvbnRhaW5pbmcgdXNlZnVsXG4gKiBkZXNjcmlwdGl2ZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3ludGF4IGVycm9yJ3MgcG9zaXRpb24gaW4gdGhlIHNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gc3ludGF4RXJyb3Ioc291cmNlLCBwb3NpdGlvbiwgZGVzY3JpcHRpb24pIHtcbiAgcmV0dXJuIG5ldyBfR3JhcGhRTEVycm9yLkdyYXBoUUxFcnJvcihcIlN5bnRheCBFcnJvcjogXCIuY29uY2F0KGRlc2NyaXB0aW9uKSwgdW5kZWZpbmVkLCBzb3VyY2UsIFtwb3NpdGlvbl0pO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlNZTUJPTF9UT19TVFJJTkdfVEFHID0gZXhwb3J0cy5TWU1CT0xfQVNZTkNfSVRFUkFUT1IgPSBleHBvcnRzLlNZTUJPTF9JVEVSQVRPUiA9IHZvaWQgMDtcbi8vIEluIEVTMjAxNSAob3IgYSBwb2x5ZmlsbGVkKSBlbnZpcm9ubWVudCwgdGhpcyB3aWxsIGJlIFN5bWJvbC5pdGVyYXRvclxuLy8gaXN0YW5idWwgaWdub3JlIG5leHQgKFNlZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2dyYXBocWwtanMvaXNzdWVzLzIzMTcnKVxudmFyIFNZTUJPTF9JVEVSQVRPUiA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgPyBTeW1ib2wuaXRlcmF0b3IgOiAnQEBpdGVyYXRvcic7IC8vIEluIEVTMjAxNyAob3IgYSBwb2x5ZmlsbGVkKSBlbnZpcm9ubWVudCwgdGhpcyB3aWxsIGJlIFN5bWJvbC5hc3luY0l0ZXJhdG9yXG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAoU2VlOiAnaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwvZ3JhcGhxbC1qcy9pc3N1ZXMvMjMxNycpXG5cbmV4cG9ydHMuU1lNQk9MX0lURVJBVE9SID0gU1lNQk9MX0lURVJBVE9SO1xudmFyIFNZTUJPTF9BU1lOQ19JVEVSQVRPUiA9IC8vICRGbG93Rml4TWUgRmxvdyBkb2Vzbid0IGRlZmluZSBgU3ltYm9sLmFzeW5jSXRlcmF0b3JgIHlldFxudHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyA/IFN5bWJvbC5hc3luY0l0ZXJhdG9yIDogJ0BAYXN5bmNJdGVyYXRvcic7IC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0IChTZWU6ICdodHRwczovL2dpdGh1Yi5jb20vZ3JhcGhxbC9ncmFwaHFsLWpzL2lzc3Vlcy8yMzE3JylcblxuZXhwb3J0cy5TWU1CT0xfQVNZTkNfSVRFUkFUT1IgPSBTWU1CT0xfQVNZTkNfSVRFUkFUT1I7XG52YXIgU1lNQk9MX1RPX1NUUklOR19UQUcgPSAvLyAkRmxvd0ZpeE1lIEZsb3cgZG9lc24ndCBkZWZpbmUgYFN5bWJvbC50b1N0cmluZ1RhZ2AgeWV0XG50eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogJ0BAdG9TdHJpbmdUYWcnO1xuZXhwb3J0cy5TWU1CT0xfVE9fU1RSSU5HX1RBRyA9IFNZTUJPTF9UT19TVFJJTkdfVEFHO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmdldExvY2F0aW9uID0gZ2V0TG9jYXRpb247XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgU291cmNlLlxuICovXG5cbi8qKlxuICogVGFrZXMgYSBTb3VyY2UgYW5kIGEgVVRGLTggY2hhcmFjdGVyIG9mZnNldCwgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIGxpbmUgYW5kIGNvbHVtbiBhcyBhIFNvdXJjZUxvY2F0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhdGlvbihzb3VyY2UsIHBvc2l0aW9uKSB7XG4gIHZhciBsaW5lUmVnZXhwID0gL1xcclxcbnxbXFxuXFxyXS9nO1xuICB2YXIgbGluZSA9IDE7XG4gIHZhciBjb2x1bW4gPSBwb3NpdGlvbiArIDE7XG4gIHZhciBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gbGluZVJlZ2V4cC5leGVjKHNvdXJjZS5ib2R5KSkgJiYgbWF0Y2guaW5kZXggPCBwb3NpdGlvbikge1xuICAgIGxpbmUgKz0gMTtcbiAgICBjb2x1bW4gPSBwb3NpdGlvbiArIDEgLSAobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsaW5lOiBsaW5lLFxuICAgIGNvbHVtbjogY29sdW1uXG4gIH07XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVG9rZW5LaW5kID0gdm9pZCAwO1xuXG4vKipcbiAqIEFuIGV4cG9ydGVkIGVudW0gZGVzY3JpYmluZyB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHRva2VucyB0aGF0IHRoZVxuICogbGV4ZXIgZW1pdHMuXG4gKi9cbnZhciBUb2tlbktpbmQgPSBPYmplY3QuZnJlZXplKHtcbiAgU09GOiAnPFNPRj4nLFxuICBFT0Y6ICc8RU9GPicsXG4gIEJBTkc6ICchJyxcbiAgRE9MTEFSOiAnJCcsXG4gIEFNUDogJyYnLFxuICBQQVJFTl9MOiAnKCcsXG4gIFBBUkVOX1I6ICcpJyxcbiAgU1BSRUFEOiAnLi4uJyxcbiAgQ09MT046ICc6JyxcbiAgRVFVQUxTOiAnPScsXG4gIEFUOiAnQCcsXG4gIEJSQUNLRVRfTDogJ1snLFxuICBCUkFDS0VUX1I6ICddJyxcbiAgQlJBQ0VfTDogJ3snLFxuICBQSVBFOiAnfCcsXG4gIEJSQUNFX1I6ICd9JyxcbiAgTkFNRTogJ05hbWUnLFxuICBJTlQ6ICdJbnQnLFxuICBGTE9BVDogJ0Zsb2F0JyxcbiAgU1RSSU5HOiAnU3RyaW5nJyxcbiAgQkxPQ0tfU1RSSU5HOiAnQmxvY2tTdHJpbmcnLFxuICBDT01NRU5UOiAnQ29tbWVudCdcbn0pO1xuLyoqXG4gKiBUaGUgZW51bSB0eXBlIHJlcHJlc2VudGluZyB0aGUgdG9rZW4ga2luZHMgdmFsdWVzLlxuICovXG5cbmV4cG9ydHMuVG9rZW5LaW5kID0gVG9rZW5LaW5kO1xuIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuaW1wb3J0IHBvbnlmaWxsIGZyb20gJy4vcG9ueWZpbGwuanMnO1xuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gcG9ueWZpbGwocm9vdCk7XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9PYnNlcnZhYmxlLmpzJykuT2JzZXJ2YWJsZTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgb3B0cyA9IHsgY21wOiBvcHRzIH07XG4gICAgdmFyIGN5Y2xlcyA9ICh0eXBlb2Ygb3B0cy5jeWNsZXMgPT09ICdib29sZWFuJykgPyBvcHRzLmN5Y2xlcyA6IGZhbHNlO1xuXG4gICAgdmFyIGNtcCA9IG9wdHMuY21wICYmIChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhb2JqID0geyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH07XG4gICAgICAgICAgICAgICAgdmFyIGJvYmogPSB7IGtleTogYiwgdmFsdWU6IG5vZGVbYl0gfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhb2JqLCBib2JqKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSkob3B0cy5jbXApO1xuXG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHN0cmluZ2lmeSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSAmJiBub2RlLnRvSlNPTiAmJiB0eXBlb2Ygbm9kZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnRvSlNPTigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ251bWJlcicpIHJldHVybiBpc0Zpbml0ZShub2RlKSA/ICcnICsgbm9kZSA6ICdudWxsJztcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG5vZGUpO1xuXG4gICAgICAgIHZhciBpLCBvdXQ7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgICAgICBvdXQgPSAnWyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgICAgIG91dCArPSBzdHJpbmdpZnkobm9kZVtpXSkgfHwgJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dCArICddJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2Yobm9kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoY3ljbGVzKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ19fY3ljbGVfXycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ucHVzaChub2RlKSAtIDE7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobm9kZSkuc29ydChjbXAgJiYgY21wKG5vZGUpKTtcbiAgICAgICAgb3V0ID0gJyc7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0cmluZ2lmeShub2RlW2tleV0pO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChvdXQpIG91dCArPSAnLCc7XG4gICAgICAgICAgICBvdXQgKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc3BsaWNlKHNlZW5JbmRleCwgMSk7XG4gICAgICAgIHJldHVybiAneycgKyBvdXQgKyAnfSc7XG4gICAgfSkoZGF0YSk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByaW50ID0gcHJpbnQ7XG5cbnZhciBfdmlzaXRvciA9IHJlcXVpcmUoXCIuL3Zpc2l0b3JcIik7XG5cbnZhciBfYmxvY2tTdHJpbmcgPSByZXF1aXJlKFwiLi9ibG9ja1N0cmluZ1wiKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBBU1QgaW50byBhIHN0cmluZywgdXNpbmcgb25lIHNldCBvZiByZWFzb25hYmxlXG4gKiBmb3JtYXR0aW5nIHJ1bGVzLlxuICovXG5mdW5jdGlvbiBwcmludChhc3QpIHtcbiAgcmV0dXJuICgwLCBfdmlzaXRvci52aXNpdCkoYXN0LCB7XG4gICAgbGVhdmU6IHByaW50RG9jQVNUUmVkdWNlclxuICB9KTtcbn0gLy8gVE9ETzogcHJvdmlkZSBiZXR0ZXIgdHlwZSBjb3ZlcmFnZSBpbiBmdXR1cmVcblxuXG52YXIgcHJpbnREb2NBU1RSZWR1Y2VyID0ge1xuICBOYW1lOiBmdW5jdGlvbiBOYW1lKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgfSxcbiAgVmFyaWFibGU6IGZ1bmN0aW9uIFZhcmlhYmxlKG5vZGUpIHtcbiAgICByZXR1cm4gJyQnICsgbm9kZS5uYW1lO1xuICB9LFxuICAvLyBEb2N1bWVudFxuICBEb2N1bWVudDogZnVuY3Rpb24gRG9jdW1lbnQobm9kZSkge1xuICAgIHJldHVybiBqb2luKG5vZGUuZGVmaW5pdGlvbnMsICdcXG5cXG4nKSArICdcXG4nO1xuICB9LFxuICBPcGVyYXRpb25EZWZpbml0aW9uOiBmdW5jdGlvbiBPcGVyYXRpb25EZWZpbml0aW9uKG5vZGUpIHtcbiAgICB2YXIgb3AgPSBub2RlLm9wZXJhdGlvbjtcbiAgICB2YXIgbmFtZSA9IG5vZGUubmFtZTtcbiAgICB2YXIgdmFyRGVmcyA9IHdyYXAoJygnLCBqb2luKG5vZGUudmFyaWFibGVEZWZpbml0aW9ucywgJywgJyksICcpJyk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSBqb2luKG5vZGUuZGlyZWN0aXZlcywgJyAnKTtcbiAgICB2YXIgc2VsZWN0aW9uU2V0ID0gbm9kZS5zZWxlY3Rpb25TZXQ7IC8vIEFub255bW91cyBxdWVyaWVzIHdpdGggbm8gZGlyZWN0aXZlcyBvciB2YXJpYWJsZSBkZWZpbml0aW9ucyBjYW4gdXNlXG4gICAgLy8gdGhlIHF1ZXJ5IHNob3J0IGZvcm0uXG5cbiAgICByZXR1cm4gIW5hbWUgJiYgIWRpcmVjdGl2ZXMgJiYgIXZhckRlZnMgJiYgb3AgPT09ICdxdWVyeScgPyBzZWxlY3Rpb25TZXQgOiBqb2luKFtvcCwgam9pbihbbmFtZSwgdmFyRGVmc10pLCBkaXJlY3RpdmVzLCBzZWxlY3Rpb25TZXRdLCAnICcpO1xuICB9LFxuICBWYXJpYWJsZURlZmluaXRpb246IGZ1bmN0aW9uIFZhcmlhYmxlRGVmaW5pdGlvbihfcmVmKSB7XG4gICAgdmFyIHZhcmlhYmxlID0gX3JlZi52YXJpYWJsZSxcbiAgICAgICAgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gX3JlZi5kZWZhdWx0VmFsdWUsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmLmRpcmVjdGl2ZXM7XG4gICAgcmV0dXJuIHZhcmlhYmxlICsgJzogJyArIHR5cGUgKyB3cmFwKCcgPSAnLCBkZWZhdWx0VmFsdWUpICsgd3JhcCgnICcsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSk7XG4gIH0sXG4gIFNlbGVjdGlvblNldDogZnVuY3Rpb24gU2VsZWN0aW9uU2V0KF9yZWYyKSB7XG4gICAgdmFyIHNlbGVjdGlvbnMgPSBfcmVmMi5zZWxlY3Rpb25zO1xuICAgIHJldHVybiBibG9jayhzZWxlY3Rpb25zKTtcbiAgfSxcbiAgRmllbGQ6IGZ1bmN0aW9uIEZpZWxkKF9yZWYzKSB7XG4gICAgdmFyIGFsaWFzID0gX3JlZjMuYWxpYXMsXG4gICAgICAgIG5hbWUgPSBfcmVmMy5uYW1lLFxuICAgICAgICBhcmdzID0gX3JlZjMuYXJndW1lbnRzLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjMuZGlyZWN0aXZlcyxcbiAgICAgICAgc2VsZWN0aW9uU2V0ID0gX3JlZjMuc2VsZWN0aW9uU2V0O1xuICAgIHJldHVybiBqb2luKFt3cmFwKCcnLCBhbGlhcywgJzogJykgKyBuYW1lICsgd3JhcCgnKCcsIGpvaW4oYXJncywgJywgJyksICcpJyksIGpvaW4oZGlyZWN0aXZlcywgJyAnKSwgc2VsZWN0aW9uU2V0XSwgJyAnKTtcbiAgfSxcbiAgQXJndW1lbnQ6IGZ1bmN0aW9uIEFyZ3VtZW50KF9yZWY0KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmNC5uYW1lLFxuICAgICAgICB2YWx1ZSA9IF9yZWY0LnZhbHVlO1xuICAgIHJldHVybiBuYW1lICsgJzogJyArIHZhbHVlO1xuICB9LFxuICAvLyBGcmFnbWVudHNcbiAgRnJhZ21lbnRTcHJlYWQ6IGZ1bmN0aW9uIEZyYWdtZW50U3ByZWFkKF9yZWY1KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmNS5uYW1lLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjUuZGlyZWN0aXZlcztcbiAgICByZXR1cm4gJy4uLicgKyBuYW1lICsgd3JhcCgnICcsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSk7XG4gIH0sXG4gIElubGluZUZyYWdtZW50OiBmdW5jdGlvbiBJbmxpbmVGcmFnbWVudChfcmVmNikge1xuICAgIHZhciB0eXBlQ29uZGl0aW9uID0gX3JlZjYudHlwZUNvbmRpdGlvbixcbiAgICAgICAgZGlyZWN0aXZlcyA9IF9yZWY2LmRpcmVjdGl2ZXMsXG4gICAgICAgIHNlbGVjdGlvblNldCA9IF9yZWY2LnNlbGVjdGlvblNldDtcbiAgICByZXR1cm4gam9pbihbJy4uLicsIHdyYXAoJ29uICcsIHR5cGVDb25kaXRpb24pLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIHNlbGVjdGlvblNldF0sICcgJyk7XG4gIH0sXG4gIEZyYWdtZW50RGVmaW5pdGlvbjogZnVuY3Rpb24gRnJhZ21lbnREZWZpbml0aW9uKF9yZWY3KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmNy5uYW1lLFxuICAgICAgICB0eXBlQ29uZGl0aW9uID0gX3JlZjcudHlwZUNvbmRpdGlvbixcbiAgICAgICAgdmFyaWFibGVEZWZpbml0aW9ucyA9IF9yZWY3LnZhcmlhYmxlRGVmaW5pdGlvbnMsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmNy5kaXJlY3RpdmVzLFxuICAgICAgICBzZWxlY3Rpb25TZXQgPSBfcmVmNy5zZWxlY3Rpb25TZXQ7XG4gICAgcmV0dXJuICgvLyBOb3RlOiBmcmFnbWVudCB2YXJpYWJsZSBkZWZpbml0aW9ucyBhcmUgZXhwZXJpbWVudGFsIGFuZCBtYXkgYmUgY2hhbmdlZFxuICAgICAgLy8gb3IgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxuICAgICAgXCJmcmFnbWVudCBcIi5jb25jYXQobmFtZSkuY29uY2F0KHdyYXAoJygnLCBqb2luKHZhcmlhYmxlRGVmaW5pdGlvbnMsICcsICcpLCAnKScpLCBcIiBcIikgKyBcIm9uIFwiLmNvbmNhdCh0eXBlQ29uZGl0aW9uLCBcIiBcIikuY29uY2F0KHdyYXAoJycsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSwgJyAnKSkgKyBzZWxlY3Rpb25TZXRcbiAgICApO1xuICB9LFxuICAvLyBWYWx1ZVxuICBJbnRWYWx1ZTogZnVuY3Rpb24gSW50VmFsdWUoX3JlZjgpIHtcbiAgICB2YXIgdmFsdWUgPSBfcmVmOC52YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIEZsb2F0VmFsdWU6IGZ1bmN0aW9uIEZsb2F0VmFsdWUoX3JlZjkpIHtcbiAgICB2YXIgdmFsdWUgPSBfcmVmOS52YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIFN0cmluZ1ZhbHVlOiBmdW5jdGlvbiBTdHJpbmdWYWx1ZShfcmVmMTAsIGtleSkge1xuICAgIHZhciB2YWx1ZSA9IF9yZWYxMC52YWx1ZSxcbiAgICAgICAgaXNCbG9ja1N0cmluZyA9IF9yZWYxMC5ibG9jaztcbiAgICByZXR1cm4gaXNCbG9ja1N0cmluZyA/ICgwLCBfYmxvY2tTdHJpbmcucHJpbnRCbG9ja1N0cmluZykodmFsdWUsIGtleSA9PT0gJ2Rlc2NyaXB0aW9uJyA/ICcnIDogJyAgJykgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH0sXG4gIEJvb2xlYW5WYWx1ZTogZnVuY3Rpb24gQm9vbGVhblZhbHVlKF9yZWYxMSkge1xuICAgIHZhciB2YWx1ZSA9IF9yZWYxMS52YWx1ZTtcbiAgICByZXR1cm4gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICB9LFxuICBOdWxsVmFsdWU6IGZ1bmN0aW9uIE51bGxWYWx1ZSgpIHtcbiAgICByZXR1cm4gJ251bGwnO1xuICB9LFxuICBFbnVtVmFsdWU6IGZ1bmN0aW9uIEVudW1WYWx1ZShfcmVmMTIpIHtcbiAgICB2YXIgdmFsdWUgPSBfcmVmMTIudmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBMaXN0VmFsdWU6IGZ1bmN0aW9uIExpc3RWYWx1ZShfcmVmMTMpIHtcbiAgICB2YXIgdmFsdWVzID0gX3JlZjEzLnZhbHVlcztcbiAgICByZXR1cm4gJ1snICsgam9pbih2YWx1ZXMsICcsICcpICsgJ10nO1xuICB9LFxuICBPYmplY3RWYWx1ZTogZnVuY3Rpb24gT2JqZWN0VmFsdWUoX3JlZjE0KSB7XG4gICAgdmFyIGZpZWxkcyA9IF9yZWYxNC5maWVsZHM7XG4gICAgcmV0dXJuICd7JyArIGpvaW4oZmllbGRzLCAnLCAnKSArICd9JztcbiAgfSxcbiAgT2JqZWN0RmllbGQ6IGZ1bmN0aW9uIE9iamVjdEZpZWxkKF9yZWYxNSkge1xuICAgIHZhciBuYW1lID0gX3JlZjE1Lm5hbWUsXG4gICAgICAgIHZhbHVlID0gX3JlZjE1LnZhbHVlO1xuICAgIHJldHVybiBuYW1lICsgJzogJyArIHZhbHVlO1xuICB9LFxuICAvLyBEaXJlY3RpdmVcbiAgRGlyZWN0aXZlOiBmdW5jdGlvbiBEaXJlY3RpdmUoX3JlZjE2KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMTYubmFtZSxcbiAgICAgICAgYXJncyA9IF9yZWYxNi5hcmd1bWVudHM7XG4gICAgcmV0dXJuICdAJyArIG5hbWUgKyB3cmFwKCcoJywgam9pbihhcmdzLCAnLCAnKSwgJyknKTtcbiAgfSxcbiAgLy8gVHlwZVxuICBOYW1lZFR5cGU6IGZ1bmN0aW9uIE5hbWVkVHlwZShfcmVmMTcpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYxNy5uYW1lO1xuICAgIHJldHVybiBuYW1lO1xuICB9LFxuICBMaXN0VHlwZTogZnVuY3Rpb24gTGlzdFR5cGUoX3JlZjE4KSB7XG4gICAgdmFyIHR5cGUgPSBfcmVmMTgudHlwZTtcbiAgICByZXR1cm4gJ1snICsgdHlwZSArICddJztcbiAgfSxcbiAgTm9uTnVsbFR5cGU6IGZ1bmN0aW9uIE5vbk51bGxUeXBlKF9yZWYxOSkge1xuICAgIHZhciB0eXBlID0gX3JlZjE5LnR5cGU7XG4gICAgcmV0dXJuIHR5cGUgKyAnISc7XG4gIH0sXG4gIC8vIFR5cGUgU3lzdGVtIERlZmluaXRpb25zXG4gIFNjaGVtYURlZmluaXRpb246IGFkZERlc2NyaXB0aW9uKGZ1bmN0aW9uIChfcmVmMjApIHtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IF9yZWYyMC5kaXJlY3RpdmVzLFxuICAgICAgICBvcGVyYXRpb25UeXBlcyA9IF9yZWYyMC5vcGVyYXRpb25UeXBlcztcbiAgICByZXR1cm4gam9pbihbJ3NjaGVtYScsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSwgYmxvY2sob3BlcmF0aW9uVHlwZXMpXSwgJyAnKTtcbiAgfSksXG4gIE9wZXJhdGlvblR5cGVEZWZpbml0aW9uOiBmdW5jdGlvbiBPcGVyYXRpb25UeXBlRGVmaW5pdGlvbihfcmVmMjEpIHtcbiAgICB2YXIgb3BlcmF0aW9uID0gX3JlZjIxLm9wZXJhdGlvbixcbiAgICAgICAgdHlwZSA9IF9yZWYyMS50eXBlO1xuICAgIHJldHVybiBvcGVyYXRpb24gKyAnOiAnICsgdHlwZTtcbiAgfSxcbiAgU2NhbGFyVHlwZURlZmluaXRpb246IGFkZERlc2NyaXB0aW9uKGZ1bmN0aW9uIChfcmVmMjIpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYyMi5uYW1lLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjIyLmRpcmVjdGl2ZXM7XG4gICAgcmV0dXJuIGpvaW4oWydzY2FsYXInLCBuYW1lLCBqb2luKGRpcmVjdGl2ZXMsICcgJyldLCAnICcpO1xuICB9KSxcbiAgT2JqZWN0VHlwZURlZmluaXRpb246IGFkZERlc2NyaXB0aW9uKGZ1bmN0aW9uIChfcmVmMjMpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYyMy5uYW1lLFxuICAgICAgICBpbnRlcmZhY2VzID0gX3JlZjIzLmludGVyZmFjZXMsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjMuZGlyZWN0aXZlcyxcbiAgICAgICAgZmllbGRzID0gX3JlZjIzLmZpZWxkcztcbiAgICByZXR1cm4gam9pbihbJ3R5cGUnLCBuYW1lLCB3cmFwKCdpbXBsZW1lbnRzICcsIGpvaW4oaW50ZXJmYWNlcywgJyAmICcpKSwgam9pbihkaXJlY3RpdmVzLCAnICcpLCBibG9jayhmaWVsZHMpXSwgJyAnKTtcbiAgfSksXG4gIEZpZWxkRGVmaW5pdGlvbjogYWRkRGVzY3JpcHRpb24oZnVuY3Rpb24gKF9yZWYyNCkge1xuICAgIHZhciBuYW1lID0gX3JlZjI0Lm5hbWUsXG4gICAgICAgIGFyZ3MgPSBfcmVmMjQuYXJndW1lbnRzLFxuICAgICAgICB0eXBlID0gX3JlZjI0LnR5cGUsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjQuZGlyZWN0aXZlcztcbiAgICByZXR1cm4gbmFtZSArIChoYXNNdWx0aWxpbmVJdGVtcyhhcmdzKSA/IHdyYXAoJyhcXG4nLCBpbmRlbnQoam9pbihhcmdzLCAnXFxuJykpLCAnXFxuKScpIDogd3JhcCgnKCcsIGpvaW4oYXJncywgJywgJyksICcpJykpICsgJzogJyArIHR5cGUgKyB3cmFwKCcgJywgam9pbihkaXJlY3RpdmVzLCAnICcpKTtcbiAgfSksXG4gIElucHV0VmFsdWVEZWZpbml0aW9uOiBhZGREZXNjcmlwdGlvbihmdW5jdGlvbiAoX3JlZjI1KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMjUubmFtZSxcbiAgICAgICAgdHlwZSA9IF9yZWYyNS50eXBlLFxuICAgICAgICBkZWZhdWx0VmFsdWUgPSBfcmVmMjUuZGVmYXVsdFZhbHVlLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjI1LmRpcmVjdGl2ZXM7XG4gICAgcmV0dXJuIGpvaW4oW25hbWUgKyAnOiAnICsgdHlwZSwgd3JhcCgnPSAnLCBkZWZhdWx0VmFsdWUpLCBqb2luKGRpcmVjdGl2ZXMsICcgJyldLCAnICcpO1xuICB9KSxcbiAgSW50ZXJmYWNlVHlwZURlZmluaXRpb246IGFkZERlc2NyaXB0aW9uKGZ1bmN0aW9uIChfcmVmMjYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYyNi5uYW1lLFxuICAgICAgICBpbnRlcmZhY2VzID0gX3JlZjI2LmludGVyZmFjZXMsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjYuZGlyZWN0aXZlcyxcbiAgICAgICAgZmllbGRzID0gX3JlZjI2LmZpZWxkcztcbiAgICByZXR1cm4gam9pbihbJ2ludGVyZmFjZScsIG5hbWUsIHdyYXAoJ2ltcGxlbWVudHMgJywgam9pbihpbnRlcmZhY2VzLCAnICYgJykpLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKGZpZWxkcyldLCAnICcpO1xuICB9KSxcbiAgVW5pb25UeXBlRGVmaW5pdGlvbjogYWRkRGVzY3JpcHRpb24oZnVuY3Rpb24gKF9yZWYyNykge1xuICAgIHZhciBuYW1lID0gX3JlZjI3Lm5hbWUsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjcuZGlyZWN0aXZlcyxcbiAgICAgICAgdHlwZXMgPSBfcmVmMjcudHlwZXM7XG4gICAgcmV0dXJuIGpvaW4oWyd1bmlvbicsIG5hbWUsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSwgdHlwZXMgJiYgdHlwZXMubGVuZ3RoICE9PSAwID8gJz0gJyArIGpvaW4odHlwZXMsICcgfCAnKSA6ICcnXSwgJyAnKTtcbiAgfSksXG4gIEVudW1UeXBlRGVmaW5pdGlvbjogYWRkRGVzY3JpcHRpb24oZnVuY3Rpb24gKF9yZWYyOCkge1xuICAgIHZhciBuYW1lID0gX3JlZjI4Lm5hbWUsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjguZGlyZWN0aXZlcyxcbiAgICAgICAgdmFsdWVzID0gX3JlZjI4LnZhbHVlcztcbiAgICByZXR1cm4gam9pbihbJ2VudW0nLCBuYW1lLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKHZhbHVlcyldLCAnICcpO1xuICB9KSxcbiAgRW51bVZhbHVlRGVmaW5pdGlvbjogYWRkRGVzY3JpcHRpb24oZnVuY3Rpb24gKF9yZWYyOSkge1xuICAgIHZhciBuYW1lID0gX3JlZjI5Lm5hbWUsXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBfcmVmMjkuZGlyZWN0aXZlcztcbiAgICByZXR1cm4gam9pbihbbmFtZSwgam9pbihkaXJlY3RpdmVzLCAnICcpXSwgJyAnKTtcbiAgfSksXG4gIElucHV0T2JqZWN0VHlwZURlZmluaXRpb246IGFkZERlc2NyaXB0aW9uKGZ1bmN0aW9uIChfcmVmMzApIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYzMC5uYW1lLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjMwLmRpcmVjdGl2ZXMsXG4gICAgICAgIGZpZWxkcyA9IF9yZWYzMC5maWVsZHM7XG4gICAgcmV0dXJuIGpvaW4oWydpbnB1dCcsIG5hbWUsIGpvaW4oZGlyZWN0aXZlcywgJyAnKSwgYmxvY2soZmllbGRzKV0sICcgJyk7XG4gIH0pLFxuICBEaXJlY3RpdmVEZWZpbml0aW9uOiBhZGREZXNjcmlwdGlvbihmdW5jdGlvbiAoX3JlZjMxKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMzEubmFtZSxcbiAgICAgICAgYXJncyA9IF9yZWYzMS5hcmd1bWVudHMsXG4gICAgICAgIHJlcGVhdGFibGUgPSBfcmVmMzEucmVwZWF0YWJsZSxcbiAgICAgICAgbG9jYXRpb25zID0gX3JlZjMxLmxvY2F0aW9ucztcbiAgICByZXR1cm4gJ2RpcmVjdGl2ZSBAJyArIG5hbWUgKyAoaGFzTXVsdGlsaW5lSXRlbXMoYXJncykgPyB3cmFwKCcoXFxuJywgaW5kZW50KGpvaW4oYXJncywgJ1xcbicpKSwgJ1xcbiknKSA6IHdyYXAoJygnLCBqb2luKGFyZ3MsICcsICcpLCAnKScpKSArIChyZXBlYXRhYmxlID8gJyByZXBlYXRhYmxlJyA6ICcnKSArICcgb24gJyArIGpvaW4obG9jYXRpb25zLCAnIHwgJyk7XG4gIH0pLFxuICBTY2hlbWFFeHRlbnNpb246IGZ1bmN0aW9uIFNjaGVtYUV4dGVuc2lvbihfcmVmMzIpIHtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IF9yZWYzMi5kaXJlY3RpdmVzLFxuICAgICAgICBvcGVyYXRpb25UeXBlcyA9IF9yZWYzMi5vcGVyYXRpb25UeXBlcztcbiAgICByZXR1cm4gam9pbihbJ2V4dGVuZCBzY2hlbWEnLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKG9wZXJhdGlvblR5cGVzKV0sICcgJyk7XG4gIH0sXG4gIFNjYWxhclR5cGVFeHRlbnNpb246IGZ1bmN0aW9uIFNjYWxhclR5cGVFeHRlbnNpb24oX3JlZjMzKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMzMubmFtZSxcbiAgICAgICAgZGlyZWN0aXZlcyA9IF9yZWYzMy5kaXJlY3RpdmVzO1xuICAgIHJldHVybiBqb2luKFsnZXh0ZW5kIHNjYWxhcicsIG5hbWUsIGpvaW4oZGlyZWN0aXZlcywgJyAnKV0sICcgJyk7XG4gIH0sXG4gIE9iamVjdFR5cGVFeHRlbnNpb246IGZ1bmN0aW9uIE9iamVjdFR5cGVFeHRlbnNpb24oX3JlZjM0KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMzQubmFtZSxcbiAgICAgICAgaW50ZXJmYWNlcyA9IF9yZWYzNC5pbnRlcmZhY2VzLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjM0LmRpcmVjdGl2ZXMsXG4gICAgICAgIGZpZWxkcyA9IF9yZWYzNC5maWVsZHM7XG4gICAgcmV0dXJuIGpvaW4oWydleHRlbmQgdHlwZScsIG5hbWUsIHdyYXAoJ2ltcGxlbWVudHMgJywgam9pbihpbnRlcmZhY2VzLCAnICYgJykpLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKGZpZWxkcyldLCAnICcpO1xuICB9LFxuICBJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uOiBmdW5jdGlvbiBJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKF9yZWYzNSkge1xuICAgIHZhciBuYW1lID0gX3JlZjM1Lm5hbWUsXG4gICAgICAgIGludGVyZmFjZXMgPSBfcmVmMzUuaW50ZXJmYWNlcyxcbiAgICAgICAgZGlyZWN0aXZlcyA9IF9yZWYzNS5kaXJlY3RpdmVzLFxuICAgICAgICBmaWVsZHMgPSBfcmVmMzUuZmllbGRzO1xuICAgIHJldHVybiBqb2luKFsnZXh0ZW5kIGludGVyZmFjZScsIG5hbWUsIHdyYXAoJ2ltcGxlbWVudHMgJywgam9pbihpbnRlcmZhY2VzLCAnICYgJykpLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKGZpZWxkcyldLCAnICcpO1xuICB9LFxuICBVbmlvblR5cGVFeHRlbnNpb246IGZ1bmN0aW9uIFVuaW9uVHlwZUV4dGVuc2lvbihfcmVmMzYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYzNi5uYW1lLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjM2LmRpcmVjdGl2ZXMsXG4gICAgICAgIHR5cGVzID0gX3JlZjM2LnR5cGVzO1xuICAgIHJldHVybiBqb2luKFsnZXh0ZW5kIHVuaW9uJywgbmFtZSwgam9pbihkaXJlY3RpdmVzLCAnICcpLCB0eXBlcyAmJiB0eXBlcy5sZW5ndGggIT09IDAgPyAnPSAnICsgam9pbih0eXBlcywgJyB8ICcpIDogJyddLCAnICcpO1xuICB9LFxuICBFbnVtVHlwZUV4dGVuc2lvbjogZnVuY3Rpb24gRW51bVR5cGVFeHRlbnNpb24oX3JlZjM3KSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMzcubmFtZSxcbiAgICAgICAgZGlyZWN0aXZlcyA9IF9yZWYzNy5kaXJlY3RpdmVzLFxuICAgICAgICB2YWx1ZXMgPSBfcmVmMzcudmFsdWVzO1xuICAgIHJldHVybiBqb2luKFsnZXh0ZW5kIGVudW0nLCBuYW1lLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKHZhbHVlcyldLCAnICcpO1xuICB9LFxuICBJbnB1dE9iamVjdFR5cGVFeHRlbnNpb246IGZ1bmN0aW9uIElucHV0T2JqZWN0VHlwZUV4dGVuc2lvbihfcmVmMzgpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYzOC5uYW1lLFxuICAgICAgICBkaXJlY3RpdmVzID0gX3JlZjM4LmRpcmVjdGl2ZXMsXG4gICAgICAgIGZpZWxkcyA9IF9yZWYzOC5maWVsZHM7XG4gICAgcmV0dXJuIGpvaW4oWydleHRlbmQgaW5wdXQnLCBuYW1lLCBqb2luKGRpcmVjdGl2ZXMsICcgJyksIGJsb2NrKGZpZWxkcyldLCAnICcpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBhZGREZXNjcmlwdGlvbihjYikge1xuICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gam9pbihbbm9kZS5kZXNjcmlwdGlvbiwgY2Iobm9kZSldLCAnXFxuJyk7XG4gIH07XG59XG4vKipcbiAqIEdpdmVuIG1heWJlQXJyYXksIHByaW50IGFuIGVtcHR5IHN0cmluZyBpZiBpdCBpcyBudWxsIG9yIGVtcHR5LCBvdGhlcndpc2VcbiAqIHByaW50IGFsbCBpdGVtcyB0b2dldGhlciBzZXBhcmF0ZWQgYnkgc2VwYXJhdG9yIGlmIHByb3ZpZGVkXG4gKi9cblxuXG5mdW5jdGlvbiBqb2luKG1heWJlQXJyYXkpIHtcbiAgdmFyIF9tYXliZUFycmF5JGZpbHRlciRqbztcblxuICB2YXIgc2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgcmV0dXJuIChfbWF5YmVBcnJheSRmaWx0ZXIkam8gPSBtYXliZUFycmF5ID09PSBudWxsIHx8IG1heWJlQXJyYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1heWJlQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH0pLmpvaW4oc2VwYXJhdG9yKSkgIT09IG51bGwgJiYgX21heWJlQXJyYXkkZmlsdGVyJGpvICE9PSB2b2lkIDAgPyBfbWF5YmVBcnJheSRmaWx0ZXIkam8gOiAnJztcbn1cbi8qKlxuICogR2l2ZW4gYXJyYXksIHByaW50IGVhY2ggaXRlbSBvbiBpdHMgb3duIGxpbmUsIHdyYXBwZWQgaW4gYW5cbiAqIGluZGVudGVkIFwieyB9XCIgYmxvY2suXG4gKi9cblxuXG5mdW5jdGlvbiBibG9jayhhcnJheSkge1xuICByZXR1cm4gYXJyYXkgJiYgYXJyYXkubGVuZ3RoICE9PSAwID8gJ3tcXG4nICsgaW5kZW50KGpvaW4oYXJyYXksICdcXG4nKSkgKyAnXFxufScgOiAnJztcbn1cbi8qKlxuICogSWYgbWF5YmVTdHJpbmcgaXMgbm90IG51bGwgb3IgZW1wdHksIHRoZW4gd3JhcCB3aXRoIHN0YXJ0IGFuZCBlbmQsIG90aGVyd2lzZVxuICogcHJpbnQgYW4gZW1wdHkgc3RyaW5nLlxuICovXG5cblxuZnVuY3Rpb24gd3JhcChzdGFydCwgbWF5YmVTdHJpbmcpIHtcbiAgdmFyIGVuZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJyc7XG4gIHJldHVybiBtYXliZVN0cmluZyA/IHN0YXJ0ICsgbWF5YmVTdHJpbmcgKyBlbmQgOiAnJztcbn1cblxuZnVuY3Rpb24gaW5kZW50KG1heWJlU3RyaW5nKSB7XG4gIHJldHVybiBtYXliZVN0cmluZyAmJiAnICAnICsgbWF5YmVTdHJpbmcucmVwbGFjZSgvXFxuL2csICdcXG4gICcpO1xufVxuXG5mdW5jdGlvbiBpc011bHRpbGluZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5pbmRleE9mKCdcXG4nKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGhhc011bHRpbGluZUl0ZW1zKG1heWJlQXJyYXkpIHtcbiAgcmV0dXJuIG1heWJlQXJyYXkgJiYgbWF5YmVBcnJheS5zb21lKGlzTXVsdGlsaW5lKTtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUFwb2xsb0NsaWVudCB9IGZyb20gJy4vbGliL2Fwb2xsbyc7XG5pbXBvcnQgeyBMT05ET05fVVNFUlMgfSBmcm9tICcuL2xpYi9xdWVyaWVzJztcbmltcG9ydCB7IFVzZXJEYXRhLCBVc2VyLCBNb2NrQ2xpZW50IH0gZnJvbSAnLi9saWIvdHlwZXMnO1xuaW1wb3J0IHsgQXBvbGxvUXVlcnlSZXN1bHQgfSBmcm9tICdhcG9sbG8tY2xpZW50JztcbmltcG9ydCBBcG9sbG9DbGllbnQgZnJvbSAnYXBvbGxvLWJvb3N0JztcblxuaW1wb3J0ICcuL3N0eWxlcy9zdHlsZXMuc2Nzcyc7XG5cbmNvbnN0IGFwb2xsb0NsaWVudCA9IGNyZWF0ZUFwb2xsb0NsaWVudCgpO1xuXG5leHBvcnQgY29uc3QgZ2V0TG9uZG9uVXNlcnMgPSAoXG5cdG1vY2tDbGllbnQ/OiBNb2NrQ2xpZW50IHwgQXBvbGxvQ2xpZW50PHVua25vd24+IHwgTW9ja0NsaWVudCxcbik6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8VXNlckRhdGE+PiA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGNsaWVudCA9IG1vY2tDbGllbnQgfHwgYXBvbGxvQ2xpZW50O1xuXHRcdFx0Y29uc3QgdXNlcnMgPSBhd2FpdCBjbGllbnQucXVlcnkoe1xuXHRcdFx0XHRxdWVyeTogTE9ORE9OX1VTRVJTLFxuXHRcdFx0fSk7XG5cdFx0XHRyZXNvbHZlKHVzZXJzKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHR9XG5cdH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlclJlc3VsdHMgPSAodXNlcnM6IFVzZXJbXSk6IHN0cmluZyA9PiB7XG5cdGxldCBsaXN0ID0gJyc7XG5cdHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcblx0XHRjb25zdCB7XG5cdFx0XHRmaXJzdF9uYW1lLFxuXHRcdFx0bGFzdF9uYW1lLFxuXHRcdFx0ZW1haWwsXG5cdFx0XHRpcF9hZGRyZXNzLFxuXHRcdFx0ZGlzdGFuY2UsXG5cdFx0XHRsaXZlc0luTG9uZG9uLFxuXHRcdH0gPSB1c2VyO1xuXHRcdGxpc3QgKz0gYFxuXHRcdFx0PGxpIGNsYXNzPVwidXNlci1saXN0X19pdGVtXCI+XG5cdFx0XHQ8aDMgY2xhc3M9XCJ1c2VyLWxpc3RfX2l0ZW0tdGl0bGVcIj4ke2ZpcnN0X25hbWV9ICR7bGFzdF9uYW1lfTwvaDM+XG5cdFx0XHQ8dWwgY2xhc3M9XCJ1c2VyLWxpc3RfX2l0ZW0tbWV0YVwiPlxuXHRcdFx0XHQ8bGkgY2xhc3M9XCJ1c2VyLWxpc3RfX2l0ZW0tbWV0YS1hdHRyaWJ1dGVcIj5cblx0XHRcdFx0XHRFbWFpbDogPGEgaHJlZj1cIm1haWx0bzoke2VtYWlsfVwiIGNsYXNzPVwibGlua1wiIHRpdGxlPVwiJHtlbWFpbH1cIj4ke2VtYWlsfTwvYT5cblx0XHRcdFx0PC9saT5cblx0XHRcdFx0PGxpIGNsYXNzPVwidXNlci1saXN0X19pdGVtLW1ldGEtYXR0cmlidXRlXCI+XG5cdFx0XHRcdFx0SVAgQWRkcmVzczogJHtpcF9hZGRyZXNzfVxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHQ8bGkgY2xhc3M9XCJ1c2VyLWxpc3RfX2l0ZW0tbWV0YS1hdHRyaWJ1dGVcIj5cblx0XHRcdFx0XHQke1xuXHRcdFx0XHRcdFx0bGl2ZXNJbkxvbmRvblxuXHRcdFx0XHRcdFx0XHQ/IGBMaXZlcyBpbiBMb25kb25gXG5cdFx0XHRcdFx0XHRcdDogYEN1cnJlbnQgZGlzdGFuY2UgZnJvbSBMb25kb246ICR7ZGlzdGFuY2UudG9GaXhlZCgyKX0gbWlsZXNgXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdDxzcGFuPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0PC9saT5cblx0XHRcdDwvdWw+XG5cdFx0PC9saT5cblx0XHRcdGA7XG5cdH0pO1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJVc2VyTGlzdCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcblx0Y29uc3QgYXBwOiBFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKTtcblx0aWYgKGFwcCkge1xuXHRcdGNvbnN0IHJlbmRlciA9IChodG1sOiBzdHJpbmcpOiB2b2lkID0+IHtcblx0XHRcdGFwcC5pbm5lckhUTUwgPSBodG1sO1xuXHRcdH07XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZ2V0TG9uZG9uVXNlcnMoKTtcblx0XHRcdGlmIChkYXRhPy5sb25kb25Vc2Vycy5sZW5ndGgpIHtcblx0XHRcdFx0cmVuZGVyKGBcblx0XHRcdFx0XHQ8b2wgY2xhc3M9XCJ1c2VyLWxpc3RcIj5cblx0XHRcdFx0XHQke3JlbmRlclJlc3VsdHMoZGF0YS5sb25kb25Vc2Vycyl9XG5cdFx0XHRcdFx0PC9vbD5cblx0XHRcdFx0XHRgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbmRlcignPHAgZGF0YS1hbGVydD1cIndhcm5pbmdcIiByb2xlPVwiYWxlcnRcIj5ObyB1c2VycyBmb3VuZDwvcD4nKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmVuZGVyKGA8cCBkYXRhLWFsZXJ0PVwiZXJyb3JcIiByb2xlPVwiYWxlcnRcIj4ke2Vycm9yfTwvcD5gKTtcblx0XHR9XG5cdH1cbn07XG5cbnJlbmRlclVzZXJMaXN0KCk7XG4iLCJpbXBvcnQgQXBvbGxvQ2xpZW50LCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tICdhcG9sbG8tYm9vc3QnO1xuY29uc3QgY2FjaGUgPSBuZXcgSW5NZW1vcnlDYWNoZSgpO1xuaW1wb3J0IHsgTW9ja0NsaWVudCB9IGZyb20gJy4uL2xpYi90eXBlcydcblxuaW50ZXJmYWNlIEFyZ3Mge1xuXHRjYWNoZT86IGFueTtcblx0dXJpPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQXBvbGxvQ2xpZW50ID0gKGFyZ3M6IEFyZ3MgPSB7fSk6IEFwb2xsb0NsaWVudDx1bmtub3duPiB8IE1vY2tDbGllbnQgID0+IHtcblx0Y29uc3QgY2xpZW50ID0gbmV3IEFwb2xsb0NsaWVudCh7XG5cdFx0Y2FjaGUsXG4gICAgdXJpOiBgL2FwaWAsXG4gICAgLi4uYXJnc1xuXHR9KTtcblx0cmV0dXJuIGNsaWVudDtcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9yaWdpbmFsTW9kdWxlKSB7XG5cdGlmICghb3JpZ2luYWxNb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLy8gPT09IFN5bWJvbCBTdXBwb3J0ID09PVxudmFyIGhhc1N5bWJvbHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nO1xufTtcblxudmFyIGhhc1N5bWJvbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBoYXNTeW1ib2xzKCkgJiYgQm9vbGVhbihTeW1ib2xbbmFtZV0pO1xufTtcblxudmFyIGdldFN5bWJvbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBoYXNTeW1ib2wobmFtZSkgPyBTeW1ib2xbbmFtZV0gOiAnQEAnICsgbmFtZTtcbn07XG5cbmlmIChoYXNTeW1ib2xzKCkgJiYgIWhhc1N5bWJvbCgnb2JzZXJ2YWJsZScpKSB7XG4gIFN5bWJvbC5vYnNlcnZhYmxlID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG59XG5cbnZhciBTeW1ib2xJdGVyYXRvciA9IGdldFN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBTeW1ib2xPYnNlcnZhYmxlID0gZ2V0U3ltYm9sKCdvYnNlcnZhYmxlJyk7XG52YXIgU3ltYm9sU3BlY2llcyA9IGdldFN5bWJvbCgnc3BlY2llcycpOyAvLyA9PT0gQWJzdHJhY3QgT3BlcmF0aW9ucyA9PT1cblxuZnVuY3Rpb24gZ2V0TWV0aG9kKG9iaiwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRTcGVjaWVzKG9iaikge1xuICB2YXIgY3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcblxuICBpZiAoY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY3RvciA9IGN0b3JbU3ltYm9sU3BlY2llc107XG5cbiAgICBpZiAoY3RvciA9PT0gbnVsbCkge1xuICAgICAgY3RvciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3RvciAhPT0gdW5kZWZpbmVkID8gY3RvciA6IE9ic2VydmFibGU7XG59XG5cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh4KSB7XG4gIHJldHVybiB4IGluc3RhbmNlb2YgT2JzZXJ2YWJsZTsgLy8gU1BFQzogQnJhbmQgY2hlY2tcbn1cblxuZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGUpIHtcbiAgaWYgKGhvc3RSZXBvcnRFcnJvci5sb2cpIHtcbiAgICBob3N0UmVwb3J0RXJyb3IubG9nKGUpO1xuICB9IGVsc2Uge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnF1ZXVlKGZuKSB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICBmbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGhvc3RSZXBvcnRFcnJvcihlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikge1xuICB2YXIgY2xlYW51cCA9IHN1YnNjcmlwdGlvbi5fY2xlYW51cDtcbiAgaWYgKGNsZWFudXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBzdWJzY3JpcHRpb24uX2NsZWFudXAgPSB1bmRlZmluZWQ7XG5cbiAgaWYgKCFjbGVhbnVwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVuc3Vic2NyaWJlID0gZ2V0TWV0aG9kKGNsZWFudXAsICd1bnN1YnNjcmliZScpO1xuXG4gICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUuY2FsbChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBob3N0UmVwb3J0RXJyb3IoZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gIHN1YnNjcmlwdGlvbi5fb2JzZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gIHN1YnNjcmlwdGlvbi5fcXVldWUgPSB1bmRlZmluZWQ7XG4gIHN1YnNjcmlwdGlvbi5fc3RhdGUgPSAnY2xvc2VkJztcbn1cblxuZnVuY3Rpb24gZmx1c2hTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gIHZhciBxdWV1ZSA9IHN1YnNjcmlwdGlvbi5fcXVldWU7XG5cbiAgaWYgKCFxdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN1YnNjcmlwdGlvbi5fcXVldWUgPSB1bmRlZmluZWQ7XG4gIHN1YnNjcmlwdGlvbi5fc3RhdGUgPSAncmVhZHknO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICBub3RpZnlTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uLCBxdWV1ZVtpXS50eXBlLCBxdWV1ZVtpXS52YWx1ZSk7XG4gICAgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdjbG9zZWQnKSBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBub3RpZnlTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uLCB0eXBlLCB2YWx1ZSkge1xuICBzdWJzY3JpcHRpb24uX3N0YXRlID0gJ3J1bm5pbmcnO1xuICB2YXIgb2JzZXJ2ZXIgPSBzdWJzY3JpcHRpb24uX29ic2VydmVyO1xuXG4gIHRyeSB7XG4gICAgdmFyIG0gPSBnZXRNZXRob2Qob2JzZXJ2ZXIsIHR5cGUpO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgaWYgKG0pIG0uY2FsbChvYnNlcnZlciwgdmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBjbG9zZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICBpZiAobSkgbS5jYWxsKG9ic2VydmVyLCB2YWx1ZSk7ZWxzZSB0aHJvdyB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbXBsZXRlJzpcbiAgICAgICAgY2xvc2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKG0pIG0uY2FsbChvYnNlcnZlcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGhvc3RSZXBvcnRFcnJvcihlKTtcbiAgfVxuXG4gIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlID09PSAnY2xvc2VkJykgY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO2Vsc2UgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdydW5uaW5nJykgc3Vic2NyaXB0aW9uLl9zdGF0ZSA9ICdyZWFkeSc7XG59XG5cbmZ1bmN0aW9uIG9uTm90aWZ5KHN1YnNjcmlwdGlvbiwgdHlwZSwgdmFsdWUpIHtcbiAgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdjbG9zZWQnKSByZXR1cm47XG5cbiAgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdidWZmZXJpbmcnKSB7XG4gICAgc3Vic2NyaXB0aW9uLl9xdWV1ZS5wdXNoKHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlICE9PSAncmVhZHknKSB7XG4gICAgc3Vic2NyaXB0aW9uLl9zdGF0ZSA9ICdidWZmZXJpbmcnO1xuICAgIHN1YnNjcmlwdGlvbi5fcXVldWUgPSBbe1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH1dO1xuICAgIGVucXVldWUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZsdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbm90aWZ5U3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgdHlwZSwgdmFsdWUpO1xufVxuXG52YXIgU3Vic2NyaXB0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKG9ic2VydmVyLCBzdWJzY3JpYmVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnNjcmlwdGlvbik7XG5cbiAgICAvLyBBU1NFUlQ6IG9ic2VydmVyIGlzIGFuIG9iamVjdFxuICAgIC8vIEFTU0VSVDogc3Vic2NyaWJlciBpcyBjYWxsYWJsZVxuICAgIHRoaXMuX2NsZWFudXAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLl9xdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGF0ZSA9ICdpbml0aWFsaXppbmcnO1xuICAgIHZhciBzdWJzY3JpcHRpb25PYnNlcnZlciA9IG5ldyBTdWJzY3JpcHRpb25PYnNlcnZlcih0aGlzKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLl9jbGVhbnVwID0gc3Vic2NyaWJlci5jYWxsKHVuZGVmaW5lZCwgc3Vic2NyaXB0aW9uT2JzZXJ2ZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1YnNjcmlwdGlvbk9ic2VydmVyLmVycm9yKGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ2luaXRpYWxpemluZycpIHRoaXMuX3N0YXRlID0gJ3JlYWR5JztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdWJzY3JpcHRpb24sIFt7XG4gICAga2V5OiBcInVuc3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICBjbG9zZVN1YnNjcmlwdGlvbih0aGlzKTtcbiAgICAgICAgY2xlYW51cFN1YnNjcmlwdGlvbih0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09ICdjbG9zZWQnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdWJzY3JpcHRpb247XG59KCk7XG5cbnZhciBTdWJzY3JpcHRpb25PYnNlcnZlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbk9ic2VydmVyKHN1YnNjcmlwdGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJzY3JpcHRpb25PYnNlcnZlcik7XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb247XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3Vic2NyaXB0aW9uT2JzZXJ2ZXIsIFt7XG4gICAga2V5OiBcIm5leHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dCh2YWx1ZSkge1xuICAgICAgb25Ob3RpZnkodGhpcy5fc3Vic2NyaXB0aW9uLCAnbmV4dCcsIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IodmFsdWUpIHtcbiAgICAgIG9uTm90aWZ5KHRoaXMuX3N1YnNjcmlwdGlvbiwgJ2Vycm9yJywgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIG9uTm90aWZ5KHRoaXMuX3N1YnNjcmlwdGlvbiwgJ2NvbXBsZXRlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdjbG9zZWQnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdWJzY3JpcHRpb25PYnNlcnZlcjtcbn0oKTtcblxudmFyIE9ic2VydmFibGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JzZXJ2YWJsZSk7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ09ic2VydmFibGUgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uJyk7XG4gICAgaWYgKHR5cGVvZiBzdWJzY3JpYmVyICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYnNlcnZhYmxlIGluaXRpYWxpemVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIHRoaXMuX3N1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE9ic2VydmFibGUsIFt7XG4gICAga2V5OiBcInN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnIHx8IG9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICAgIG9ic2VydmVyID0ge1xuICAgICAgICAgIG5leHQ6IG9ic2VydmVyLFxuICAgICAgICAgIGVycm9yOiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgY29tcGxldGU6IGFyZ3VtZW50c1syXVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbihvYnNlcnZlciwgdGhpcy5fc3Vic2NyaWJlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvckVhY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm4odmFsdWUsIGRvbmUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKGZuKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIHZhciBDID0gZ2V0U3BlY2llcyh0aGlzKTtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBmbih2YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaWx0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGZuKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIHZhciBDID0gZ2V0U3BlY2llcyh0aGlzKTtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFmbih2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZHVjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWR1Y2UoZm4pIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgdmFyIEMgPSBnZXRTcGVjaWVzKHRoaXMpO1xuICAgICAgdmFyIGhhc1NlZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMTtcbiAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgdmFyIHNlZWQgPSBhcmd1bWVudHNbMV07XG4gICAgICB2YXIgYWNjID0gc2VlZDtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNC5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gIWhhc1ZhbHVlO1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIWZpcnN0IHx8IGhhc1NlZWQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhY2MgPSBmbihhY2MsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWNjID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFzVmFsdWUgJiYgIWhhc1NlZWQpIHJldHVybiBvYnNlcnZlci5lcnJvcihuZXcgVHlwZUVycm9yKCdDYW5ub3QgcmVkdWNlIGFuIGVtcHR5IHNlcXVlbmNlJykpO1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChhY2MpO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbmNhdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBDID0gZ2V0U3BlY2llcyh0aGlzKTtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgICBmdW5jdGlvbiBzdGFydE5leHQobmV4dCkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5leHQuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gc291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydE5leHQoQy5mcm9tKHNvdXJjZXNbaW5kZXgrK10pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnROZXh0KF90aGlzNSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZsYXRNYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmxhdE1hcChmbikge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB2YXIgQyA9IGdldFNwZWNpZXModGhpcyk7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gW107XG5cbiAgICAgICAgdmFyIG91dGVyID0gX3RoaXM2LnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZuKHZhbHVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5uZXIgPSBDLmZyb20odmFsdWUpLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihpbm5lcik7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gMCkgc3Vic2NyaXB0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgY29tcGxldGVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goaW5uZXIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUlmRG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcGxldGVJZkRvbmUoKSB7XG4gICAgICAgICAgaWYgKG91dGVyLmNsb3NlZCAmJiBzdWJzY3JpcHRpb25zLmxlbmd0aCA9PT0gMCkgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG91dGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFN5bWJvbE9ic2VydmFibGUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbSh4KSB7XG4gICAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09PSAnZnVuY3Rpb24nID8gdGhpcyA6IE9ic2VydmFibGU7XG4gICAgICBpZiAoeCA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKHggKyAnIGlzIG5vdCBhbiBvYmplY3QnKTtcbiAgICAgIHZhciBtZXRob2QgPSBnZXRNZXRob2QoeCwgU3ltYm9sT2JzZXJ2YWJsZSk7XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBtZXRob2QuY2FsbCh4KTtcbiAgICAgICAgaWYgKE9iamVjdChvYnNlcnZhYmxlKSAhPT0gb2JzZXJ2YWJsZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihvYnNlcnZhYmxlICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gICAgICAgIGlmIChpc09ic2VydmFibGUob2JzZXJ2YWJsZSkgJiYgb2JzZXJ2YWJsZS5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc1N5bWJvbCgnaXRlcmF0b3InKSkge1xuICAgICAgICBtZXRob2QgPSBnZXRNZXRob2QoeCwgU3ltYm9sSXRlcmF0b3IpO1xuXG4gICAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgICBlbnF1ZXVlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBtZXRob2QuY2FsbCh4KVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlbSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChfaXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICBlbnF1ZXVlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoeFtpXSk7XG4gICAgICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgbm90IG9ic2VydmFibGUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2YoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGl0ZW1zID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGl0ZW1zW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT09ICdmdW5jdGlvbicgPyB0aGlzIDogT2JzZXJ2YWJsZTtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgZW5xdWV1ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChpdGVtc1tpXSk7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFN5bWJvbFNwZWNpZXMsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKTtcblxuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZTtcblxuaWYgKGhhc1N5bWJvbHMoKSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZSwgU3ltYm9sKCdleHRlbnNpb25zJyksIHtcbiAgICB2YWx1ZToge1xuICAgICAgc3ltYm9sOiBTeW1ib2xPYnNlcnZhYmxlLFxuICAgICAgaG9zdFJlcG9ydEVycm9yOiBob3N0UmVwb3J0RXJyb3JcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZmluZUluc3BlY3Q7XG5cbnZhciBfaW52YXJpYW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pbnZhcmlhbnRcIikpO1xuXG52YXIgX25vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2wgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL25vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2xcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFRoZSBgZGVmaW5lSW5zcGVjdCgpYCBmdW5jdGlvbiBkZWZpbmVzIGBpbnNwZWN0KClgIHByb3RvdHlwZSBtZXRob2QgYXMgYWxpYXMgb2YgYHRvSlNPTmBcbiAqL1xuZnVuY3Rpb24gZGVmaW5lSW5zcGVjdChjbGFzc09iamVjdCkge1xuICB2YXIgZm4gPSBjbGFzc09iamVjdC5wcm90b3R5cGUudG9KU09OO1xuICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgfHwgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoMCk7XG4gIGNsYXNzT2JqZWN0LnByb3RvdHlwZS5pbnNwZWN0ID0gZm47IC8vIGlzdGFuYnVsIGlnbm9yZSBlbHNlIChTZWU6ICdodHRwczovL2dpdGh1Yi5jb20vZ3JhcGhxbC9ncmFwaHFsLWpzL2lzc3Vlcy8yMzE3JylcblxuICBpZiAoX25vZGVqc0N1c3RvbUluc3BlY3RTeW1ib2wuZGVmYXVsdCkge1xuICAgIGNsYXNzT2JqZWN0LnByb3RvdHlwZVtfbm9kZWpzQ3VzdG9tSW5zcGVjdFN5bWJvbC5kZWZhdWx0XSA9IGZuO1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGludmFyaWFudDtcblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICB2YXIgYm9vbGVhbkNvbmRpdGlvbiA9IEJvb2xlYW4oY29uZGl0aW9uKTsgLy8gaXN0YW5idWwgaWdub3JlIGVsc2UgKFNlZSB0cmFuc2Zvcm1hdGlvbiBkb25lIGluICcuL3Jlc291cmNlcy9pbmxpbmVJbnZhcmlhbnQuanMnKVxuXG4gIGlmICghYm9vbGVhbkNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ1VuZXhwZWN0ZWQgaW52YXJpYW50IHRyaWdnZXJlZC4nKTtcbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnBhcnNlVmFsdWUgPSBwYXJzZVZhbHVlO1xuZXhwb3J0cy5wYXJzZVR5cGUgPSBwYXJzZVR5cGU7XG5cbnZhciBfaW5zcGVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2pzdXRpbHMvaW5zcGVjdFwiKSk7XG5cbnZhciBfZGV2QXNzZXJ0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vanN1dGlscy9kZXZBc3NlcnRcIikpO1xuXG52YXIgX3N5bnRheEVycm9yID0gcmVxdWlyZShcIi4uL2Vycm9yL3N5bnRheEVycm9yXCIpO1xuXG52YXIgX2tpbmRzID0gcmVxdWlyZShcIi4va2luZHNcIik7XG5cbnZhciBfc291cmNlID0gcmVxdWlyZShcIi4vc291cmNlXCIpO1xuXG52YXIgX2RpcmVjdGl2ZUxvY2F0aW9uID0gcmVxdWlyZShcIi4vZGlyZWN0aXZlTG9jYXRpb25cIik7XG5cbnZhciBfdG9rZW5LaW5kID0gcmVxdWlyZShcIi4vdG9rZW5LaW5kXCIpO1xuXG52YXIgX2xleGVyID0gcmVxdWlyZShcIi4vbGV4ZXJcIik7XG5cbnZhciBfYXN0ID0gcmVxdWlyZShcIi4vYXN0XCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEdpdmVuIGEgR3JhcGhRTCBzb3VyY2UsIHBhcnNlcyBpdCBpbnRvIGEgRG9jdW1lbnQuXG4gKiBUaHJvd3MgR3JhcGhRTEVycm9yIGlmIGEgc3ludGF4IGVycm9yIGlzIGVuY291bnRlcmVkLlxuICovXG5mdW5jdGlvbiBwYXJzZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIoc291cmNlLCBvcHRpb25zKTtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZURvY3VtZW50KCk7XG59XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBHcmFwaFFMIHZhbHVlIChleC4gYFs0Ml1gKSwgcGFyc2UgdGhlIEFTVCBmb3JcbiAqIHRoYXQgdmFsdWUuXG4gKiBUaHJvd3MgR3JhcGhRTEVycm9yIGlmIGEgc3ludGF4IGVycm9yIGlzIGVuY291bnRlcmVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIHdpdGhpbiB0b29scyB0aGF0IG9wZXJhdGUgdXBvbiBHcmFwaFFMIFZhbHVlcyBkaXJlY3RseSBhbmRcbiAqIGluIGlzb2xhdGlvbiBvZiBjb21wbGV0ZSBHcmFwaFFMIGRvY3VtZW50cy5cbiAqXG4gKiBDb25zaWRlciBwcm92aWRpbmcgdGhlIHJlc3VsdHMgdG8gdGhlIHV0aWxpdHkgZnVuY3Rpb246IHZhbHVlRnJvbUFTVCgpLlxuICovXG5cblxuZnVuY3Rpb24gcGFyc2VWYWx1ZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIoc291cmNlLCBvcHRpb25zKTtcbiAgcGFyc2VyLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLlNPRik7XG4gIHZhciB2YWx1ZSA9IHBhcnNlci5wYXJzZVZhbHVlTGl0ZXJhbChmYWxzZSk7XG4gIHBhcnNlci5leHBlY3RUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5FT0YpO1xuICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBHcmFwaFFMIFR5cGUgKGV4LiBgW0ludCFdYCksIHBhcnNlIHRoZSBBU1QgZm9yXG4gKiB0aGF0IHR5cGUuXG4gKiBUaHJvd3MgR3JhcGhRTEVycm9yIGlmIGEgc3ludGF4IGVycm9yIGlzIGVuY291bnRlcmVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIHdpdGhpbiB0b29scyB0aGF0IG9wZXJhdGUgdXBvbiBHcmFwaFFMIFR5cGVzIGRpcmVjdGx5IGFuZFxuICogaW4gaXNvbGF0aW9uIG9mIGNvbXBsZXRlIEdyYXBoUUwgZG9jdW1lbnRzLlxuICpcbiAqIENvbnNpZGVyIHByb3ZpZGluZyB0aGUgcmVzdWx0cyB0byB0aGUgdXRpbGl0eSBmdW5jdGlvbjogdHlwZUZyb21BU1QoKS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHBhcnNlVHlwZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIoc291cmNlLCBvcHRpb25zKTtcbiAgcGFyc2VyLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLlNPRik7XG4gIHZhciB0eXBlID0gcGFyc2VyLnBhcnNlVHlwZVJlZmVyZW5jZSgpO1xuICBwYXJzZXIuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuRU9GKTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbnZhciBQYXJzZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYXJzZXIoc291cmNlLCBvcHRpb25zKSB7XG4gICAgdmFyIHNvdXJjZU9iaiA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnID8gbmV3IF9zb3VyY2UuU291cmNlKHNvdXJjZSkgOiBzb3VyY2U7XG4gICAgc291cmNlT2JqIGluc3RhbmNlb2YgX3NvdXJjZS5Tb3VyY2UgfHwgKDAsIF9kZXZBc3NlcnQuZGVmYXVsdCkoMCwgXCJNdXN0IHByb3ZpZGUgU291cmNlLiBSZWNlaXZlZDogXCIuY29uY2F0KCgwLCBfaW5zcGVjdC5kZWZhdWx0KShzb3VyY2VPYmopLCBcIi5cIikpO1xuICAgIHRoaXMuX2xleGVyID0gbmV3IF9sZXhlci5MZXhlcihzb3VyY2VPYmopO1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIG5hbWUgbGV4IHRva2VuIGludG8gYSBuYW1lIHBhcnNlIG5vZGUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFBhcnNlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnBhcnNlTmFtZSA9IGZ1bmN0aW9uIHBhcnNlTmFtZSgpIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUpO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5OQU1FLFxuICAgICAgdmFsdWU6IHRva2VuLnZhbHVlLFxuICAgICAgbG9jOiB0aGlzLmxvYyh0b2tlbilcbiAgICB9O1xuICB9IC8vIEltcGxlbWVudHMgdGhlIHBhcnNpbmcgcnVsZXMgaW4gdGhlIERvY3VtZW50IHNlY3Rpb24uXG5cbiAgLyoqXG4gICAqIERvY3VtZW50IDogRGVmaW5pdGlvbitcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VEb2N1bWVudCA9IGZ1bmN0aW9uIHBhcnNlRG9jdW1lbnQoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkRPQ1VNRU5ULFxuICAgICAgZGVmaW5pdGlvbnM6IHRoaXMubWFueShfdG9rZW5LaW5kLlRva2VuS2luZC5TT0YsIHRoaXMucGFyc2VEZWZpbml0aW9uLCBfdG9rZW5LaW5kLlRva2VuS2luZC5FT0YpLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbml0aW9uIDpcbiAgICogICAtIEV4ZWN1dGFibGVEZWZpbml0aW9uXG4gICAqICAgLSBUeXBlU3lzdGVtRGVmaW5pdGlvblxuICAgKiAgIC0gVHlwZVN5c3RlbUV4dGVuc2lvblxuICAgKlxuICAgKiBFeGVjdXRhYmxlRGVmaW5pdGlvbiA6XG4gICAqICAgLSBPcGVyYXRpb25EZWZpbml0aW9uXG4gICAqICAgLSBGcmFnbWVudERlZmluaXRpb25cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VEZWZpbml0aW9uID0gZnVuY3Rpb24gcGFyc2VEZWZpbml0aW9uKCkge1xuICAgIGlmICh0aGlzLnBlZWsoX3Rva2VuS2luZC5Ub2tlbktpbmQuTkFNRSkpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5fbGV4ZXIudG9rZW4udmFsdWUpIHtcbiAgICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICBjYXNlICdtdXRhdGlvbic6XG4gICAgICAgIGNhc2UgJ3N1YnNjcmlwdGlvbic6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7XG5cbiAgICAgICAgY2FzZSAnZnJhZ21lbnQnOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7XG5cbiAgICAgICAgY2FzZSAnc2NoZW1hJzpcbiAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgIGNhc2UgJ2ludGVyZmFjZSc6XG4gICAgICAgIGNhc2UgJ3VuaW9uJzpcbiAgICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAnZGlyZWN0aXZlJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVR5cGVTeXN0ZW1EZWZpbml0aW9uKCk7XG5cbiAgICAgICAgY2FzZSAnZXh0ZW5kJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVR5cGVTeXN0ZW1FeHRlbnNpb24oKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlayhfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MKSkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWtEZXNjcmlwdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZVR5cGVTeXN0ZW1EZWZpbml0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7XG4gIH0gLy8gSW1wbGVtZW50cyB0aGUgcGFyc2luZyBydWxlcyBpbiB0aGUgT3BlcmF0aW9ucyBzZWN0aW9uLlxuXG4gIC8qKlxuICAgKiBPcGVyYXRpb25EZWZpbml0aW9uIDpcbiAgICogIC0gU2VsZWN0aW9uU2V0XG4gICAqICAtIE9wZXJhdGlvblR5cGUgTmFtZT8gVmFyaWFibGVEZWZpbml0aW9ucz8gRGlyZWN0aXZlcz8gU2VsZWN0aW9uU2V0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcblxuICAgIGlmICh0aGlzLnBlZWsoX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfTCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLk9QRVJBVElPTl9ERUZJTklUSU9OLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFyaWFibGVEZWZpbml0aW9uczogW10sXG4gICAgICAgIGRpcmVjdGl2ZXM6IFtdLFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKSxcbiAgICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMucGFyc2VPcGVyYXRpb25UeXBlKCk7XG4gICAgdmFyIG5hbWU7XG5cbiAgICBpZiAodGhpcy5wZWVrKF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUpKSB7XG4gICAgICBuYW1lID0gdGhpcy5wYXJzZU5hbWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuT1BFUkFUSU9OX0RFRklOSVRJT04sXG4gICAgICBvcGVyYXRpb246IG9wZXJhdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YXJpYWJsZURlZmluaXRpb25zOiB0aGlzLnBhcnNlVmFyaWFibGVEZWZpbml0aW9ucygpLFxuICAgICAgZGlyZWN0aXZlczogdGhpcy5wYXJzZURpcmVjdGl2ZXMoZmFsc2UpLFxuICAgICAgc2VsZWN0aW9uU2V0OiB0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9wZXJhdGlvblR5cGUgOiBvbmUgb2YgcXVlcnkgbXV0YXRpb24gc3Vic2NyaXB0aW9uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlT3BlcmF0aW9uVHlwZSA9IGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uVHlwZSgpIHtcbiAgICB2YXIgb3BlcmF0aW9uVG9rZW4gPSB0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUpO1xuXG4gICAgc3dpdGNoIChvcGVyYXRpb25Ub2tlbi52YWx1ZSkge1xuICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICByZXR1cm4gJ3F1ZXJ5JztcblxuICAgICAgY2FzZSAnbXV0YXRpb24nOlxuICAgICAgICByZXR1cm4gJ211dGF0aW9uJztcblxuICAgICAgY2FzZSAnc3Vic2NyaXB0aW9uJzpcbiAgICAgICAgcmV0dXJuICdzdWJzY3JpcHRpb24nO1xuICAgIH1cblxuICAgIHRocm93IHRoaXMudW5leHBlY3RlZChvcGVyYXRpb25Ub2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIFZhcmlhYmxlRGVmaW5pdGlvbnMgOiAoIFZhcmlhYmxlRGVmaW5pdGlvbisgKVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMgPSBmdW5jdGlvbiBwYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KF90b2tlbktpbmQuVG9rZW5LaW5kLlBBUkVOX0wsIHRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb24sIF90b2tlbktpbmQuVG9rZW5LaW5kLlBBUkVOX1IpO1xuICB9XG4gIC8qKlxuICAgKiBWYXJpYWJsZURlZmluaXRpb24gOiBWYXJpYWJsZSA6IFR5cGUgRGVmYXVsdFZhbHVlPyBEaXJlY3RpdmVzW0NvbnN0XT9cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VWYXJpYWJsZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZVZhcmlhYmxlRGVmaW5pdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuVkFSSUFCTEVfREVGSU5JVElPTixcbiAgICAgIHZhcmlhYmxlOiB0aGlzLnBhcnNlVmFyaWFibGUoKSxcbiAgICAgIHR5cGU6ICh0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkNPTE9OKSwgdGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKSksXG4gICAgICBkZWZhdWx0VmFsdWU6IHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5FUVVBTFMpID8gdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0cnVlKSA6IHVuZGVmaW5lZCxcbiAgICAgIGRpcmVjdGl2ZXM6IHRoaXMucGFyc2VEaXJlY3RpdmVzKHRydWUpLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBWYXJpYWJsZSA6ICQgTmFtZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZVZhcmlhYmxlID0gZnVuY3Rpb24gcGFyc2VWYXJpYWJsZSgpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkRPTExBUik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLlZBUklBQkxFLFxuICAgICAgbmFtZTogdGhpcy5wYXJzZU5hbWUoKSxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0aW9uU2V0IDogeyBTZWxlY3Rpb24rIH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VTZWxlY3Rpb25TZXQgPSBmdW5jdGlvbiBwYXJzZVNlbGVjdGlvblNldCgpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuU0VMRUNUSU9OX1NFVCxcbiAgICAgIHNlbGVjdGlvbnM6IHRoaXMubWFueShfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MLCB0aGlzLnBhcnNlU2VsZWN0aW9uLCBfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9SKSxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0aW9uIDpcbiAgICogICAtIEZpZWxkXG4gICAqICAgLSBGcmFnbWVudFNwcmVhZFxuICAgKiAgIC0gSW5saW5lRnJhZ21lbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VTZWxlY3Rpb24gPSBmdW5jdGlvbiBwYXJzZVNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wZWVrKF90b2tlbktpbmQuVG9rZW5LaW5kLlNQUkVBRCkgPyB0aGlzLnBhcnNlRnJhZ21lbnQoKSA6IHRoaXMucGFyc2VGaWVsZCgpO1xuICB9XG4gIC8qKlxuICAgKiBGaWVsZCA6IEFsaWFzPyBOYW1lIEFyZ3VtZW50cz8gRGlyZWN0aXZlcz8gU2VsZWN0aW9uU2V0P1xuICAgKlxuICAgKiBBbGlhcyA6IE5hbWUgOlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUZpZWxkID0gZnVuY3Rpb24gcGFyc2VGaWVsZCgpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgbmFtZU9yQWxpYXMgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBhbGlhcztcbiAgICB2YXIgbmFtZTtcblxuICAgIGlmICh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQ09MT04pKSB7XG4gICAgICBhbGlhcyA9IG5hbWVPckFsaWFzO1xuICAgICAgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lT3JBbGlhcztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuRklFTEQsXG4gICAgICBhbGlhczogYWxpYXMsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgYXJndW1lbnRzOiB0aGlzLnBhcnNlQXJndW1lbnRzKGZhbHNlKSxcbiAgICAgIGRpcmVjdGl2ZXM6IHRoaXMucGFyc2VEaXJlY3RpdmVzKGZhbHNlKSxcbiAgICAgIHNlbGVjdGlvblNldDogdGhpcy5wZWVrKF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX0wpID8gdGhpcy5wYXJzZVNlbGVjdGlvblNldCgpIDogdW5kZWZpbmVkLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBcmd1bWVudHNbQ29uc3RdIDogKCBBcmd1bWVudFs/Q29uc3RdKyApXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlQXJndW1lbnRzID0gZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMoaXNDb25zdCkge1xuICAgIHZhciBpdGVtID0gaXNDb25zdCA/IHRoaXMucGFyc2VDb25zdEFyZ3VtZW50IDogdGhpcy5wYXJzZUFyZ3VtZW50O1xuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsTWFueShfdG9rZW5LaW5kLlRva2VuS2luZC5QQVJFTl9MLCBpdGVtLCBfdG9rZW5LaW5kLlRva2VuS2luZC5QQVJFTl9SKTtcbiAgfVxuICAvKipcbiAgICogQXJndW1lbnRbQ29uc3RdIDogTmFtZSA6IFZhbHVlWz9Db25zdF1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VBcmd1bWVudCA9IGZ1bmN0aW9uIHBhcnNlQXJndW1lbnQoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHRoaXMuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQ09MT04pO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5BUkdVTUVOVCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YWx1ZTogdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbChmYWxzZSksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH07XG5cbiAgX3Byb3RvLnBhcnNlQ29uc3RBcmd1bWVudCA9IGZ1bmN0aW9uIHBhcnNlQ29uc3RBcmd1bWVudCgpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuQVJHVU1FTlQsXG4gICAgICBuYW1lOiB0aGlzLnBhcnNlTmFtZSgpLFxuICAgICAgdmFsdWU6ICh0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkNPTE9OKSwgdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0cnVlKSksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH0gLy8gSW1wbGVtZW50cyB0aGUgcGFyc2luZyBydWxlcyBpbiB0aGUgRnJhZ21lbnRzIHNlY3Rpb24uXG5cbiAgLyoqXG4gICAqIENvcnJlc3BvbmRzIHRvIGJvdGggRnJhZ21lbnRTcHJlYWQgYW5kIElubGluZUZyYWdtZW50IGluIHRoZSBzcGVjLlxuICAgKlxuICAgKiBGcmFnbWVudFNwcmVhZCA6IC4uLiBGcmFnbWVudE5hbWUgRGlyZWN0aXZlcz9cbiAgICpcbiAgICogSW5saW5lRnJhZ21lbnQgOiAuLi4gVHlwZUNvbmRpdGlvbj8gRGlyZWN0aXZlcz8gU2VsZWN0aW9uU2V0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRnJhZ21lbnQgPSBmdW5jdGlvbiBwYXJzZUZyYWdtZW50KCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHRoaXMuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuU1BSRUFEKTtcbiAgICB2YXIgaGFzVHlwZUNvbmRpdGlvbiA9IHRoaXMuZXhwZWN0T3B0aW9uYWxLZXl3b3JkKCdvbicpO1xuXG4gICAgaWYgKCFoYXNUeXBlQ29uZGl0aW9uICYmIHRoaXMucGVlayhfdG9rZW5LaW5kLlRva2VuS2luZC5OQU1FKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogX2tpbmRzLktpbmQuRlJBR01FTlRfU1BSRUFELFxuICAgICAgICBuYW1lOiB0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksXG4gICAgICAgIGRpcmVjdGl2ZXM6IHRoaXMucGFyc2VEaXJlY3RpdmVzKGZhbHNlKSxcbiAgICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLklOTElORV9GUkFHTUVOVCxcbiAgICAgIHR5cGVDb25kaXRpb246IGhhc1R5cGVDb25kaXRpb24gPyB0aGlzLnBhcnNlTmFtZWRUeXBlKCkgOiB1bmRlZmluZWQsXG4gICAgICBkaXJlY3RpdmVzOiB0aGlzLnBhcnNlRGlyZWN0aXZlcyhmYWxzZSksXG4gICAgICBzZWxlY3Rpb25TZXQ6IHRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKSxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRnJhZ21lbnREZWZpbml0aW9uIDpcbiAgICogICAtIGZyYWdtZW50IEZyYWdtZW50TmFtZSBvbiBUeXBlQ29uZGl0aW9uIERpcmVjdGl2ZXM/IFNlbGVjdGlvblNldFxuICAgKlxuICAgKiBUeXBlQ29uZGl0aW9uIDogTmFtZWRUeXBlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uID0gZnVuY3Rpb24gcGFyc2VGcmFnbWVudERlZmluaXRpb24oKSB7XG4gICAgdmFyIF90aGlzJF9vcHRpb25zO1xuXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdmcmFnbWVudCcpOyAvLyBFeHBlcmltZW50YWwgc3VwcG9ydCBmb3IgZGVmaW5pbmcgdmFyaWFibGVzIHdpdGhpbiBmcmFnbWVudHMgY2hhbmdlc1xuICAgIC8vIHRoZSBncmFtbWFyIG9mIEZyYWdtZW50RGVmaW5pdGlvbjpcbiAgICAvLyAgIC0gZnJhZ21lbnQgRnJhZ21lbnROYW1lIFZhcmlhYmxlRGVmaW5pdGlvbnM/IG9uIFR5cGVDb25kaXRpb24gRGlyZWN0aXZlcz8gU2VsZWN0aW9uU2V0XG5cbiAgICBpZiAoKChfdGhpcyRfb3B0aW9ucyA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF90aGlzJF9vcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRfb3B0aW9ucy5leHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcykgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkZSQUdNRU5UX0RFRklOSVRJT04sXG4gICAgICAgIG5hbWU6IHRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSxcbiAgICAgICAgdmFyaWFibGVEZWZpbml0aW9uczogdGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSxcbiAgICAgICAgdHlwZUNvbmRpdGlvbjogKHRoaXMuZXhwZWN0S2V5d29yZCgnb24nKSwgdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxcbiAgICAgICAgZGlyZWN0aXZlczogdGhpcy5wYXJzZURpcmVjdGl2ZXMoZmFsc2UpLFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKSxcbiAgICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkZSQUdNRU5UX0RFRklOSVRJT04sXG4gICAgICBuYW1lOiB0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksXG4gICAgICB0eXBlQ29uZGl0aW9uOiAodGhpcy5leHBlY3RLZXl3b3JkKCdvbicpLCB0aGlzLnBhcnNlTmFtZWRUeXBlKCkpLFxuICAgICAgZGlyZWN0aXZlczogdGhpcy5wYXJzZURpcmVjdGl2ZXMoZmFsc2UpLFxuICAgICAgc2VsZWN0aW9uU2V0OiB0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEZyYWdtZW50TmFtZSA6IE5hbWUgYnV0IG5vdCBgb25gXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRnJhZ21lbnROYW1lID0gZnVuY3Rpb24gcGFyc2VGcmFnbWVudE5hbWUoKSB7XG4gICAgaWYgKHRoaXMuX2xleGVyLnRva2VuLnZhbHVlID09PSAnb24nKSB7XG4gICAgICB0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wYXJzZU5hbWUoKTtcbiAgfSAvLyBJbXBsZW1lbnRzIHRoZSBwYXJzaW5nIHJ1bGVzIGluIHRoZSBWYWx1ZXMgc2VjdGlvbi5cblxuICAvKipcbiAgICogVmFsdWVbQ29uc3RdIDpcbiAgICogICAtIFt+Q29uc3RdIFZhcmlhYmxlXG4gICAqICAgLSBJbnRWYWx1ZVxuICAgKiAgIC0gRmxvYXRWYWx1ZVxuICAgKiAgIC0gU3RyaW5nVmFsdWVcbiAgICogICAtIEJvb2xlYW5WYWx1ZVxuICAgKiAgIC0gTnVsbFZhbHVlXG4gICAqICAgLSBFbnVtVmFsdWVcbiAgICogICAtIExpc3RWYWx1ZVs/Q29uc3RdXG4gICAqICAgLSBPYmplY3RWYWx1ZVs/Q29uc3RdXG4gICAqXG4gICAqIEJvb2xlYW5WYWx1ZSA6IG9uZSBvZiBgdHJ1ZWAgYGZhbHNlYFxuICAgKlxuICAgKiBOdWxsVmFsdWUgOiBgbnVsbGBcbiAgICpcbiAgICogRW51bVZhbHVlIDogTmFtZSBidXQgbm90IGB0cnVlYCwgYGZhbHNlYCBvciBgbnVsbGBcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VWYWx1ZUxpdGVyYWwgPSBmdW5jdGlvbiBwYXJzZVZhbHVlTGl0ZXJhbChpc0NvbnN0KSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5fbGV4ZXIudG9rZW47XG5cbiAgICBzd2l0Y2ggKHRva2VuLmtpbmQpIHtcbiAgICAgIGNhc2UgX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0tFVF9MOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUxpc3QoaXNDb25zdCk7XG5cbiAgICAgIGNhc2UgX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfTDpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPYmplY3QoaXNDb25zdCk7XG5cbiAgICAgIGNhc2UgX3Rva2VuS2luZC5Ub2tlbktpbmQuSU5UOlxuICAgICAgICB0aGlzLl9sZXhlci5hZHZhbmNlKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBraW5kOiBfa2luZHMuS2luZC5JTlQsXG4gICAgICAgICAgdmFsdWU6IHRva2VuLnZhbHVlLFxuICAgICAgICAgIGxvYzogdGhpcy5sb2ModG9rZW4pXG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgX3Rva2VuS2luZC5Ub2tlbktpbmQuRkxPQVQ6XG4gICAgICAgIHRoaXMuX2xleGVyLmFkdmFuY2UoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkZMT0FULFxuICAgICAgICAgIHZhbHVlOiB0b2tlbi52YWx1ZSxcbiAgICAgICAgICBsb2M6IHRoaXMubG9jKHRva2VuKVxuICAgICAgICB9O1xuXG4gICAgICBjYXNlIF90b2tlbktpbmQuVG9rZW5LaW5kLlNUUklORzpcbiAgICAgIGNhc2UgX3Rva2VuS2luZC5Ub2tlbktpbmQuQkxPQ0tfU1RSSU5HOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKTtcblxuICAgICAgY2FzZSBfdG9rZW5LaW5kLlRva2VuS2luZC5OQU1FOlxuICAgICAgICB0aGlzLl9sZXhlci5hZHZhbmNlKCk7XG5cbiAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xuICAgICAgICAgIGNhc2UgJ3RydWUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAga2luZDogX2tpbmRzLktpbmQuQk9PTEVBTixcbiAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgIGxvYzogdGhpcy5sb2ModG9rZW4pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAga2luZDogX2tpbmRzLktpbmQuQk9PTEVBTixcbiAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICBsb2M6IHRoaXMubG9jKHRva2VuKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAga2luZDogX2tpbmRzLktpbmQuTlVMTCxcbiAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyh0b2tlbilcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAga2luZDogX2tpbmRzLktpbmQuRU5VTSxcbiAgICAgICAgICAgICAgdmFsdWU6IHRva2VuLnZhbHVlLFxuICAgICAgICAgICAgICBsb2M6IHRoaXMubG9jKHRva2VuKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIF90b2tlbktpbmQuVG9rZW5LaW5kLkRPTExBUjpcbiAgICAgICAgaWYgKCFpc0NvbnN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VWYXJpYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7XG4gIH07XG5cbiAgX3Byb3RvLnBhcnNlU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uIHBhcnNlU3RyaW5nTGl0ZXJhbCgpIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLl9sZXhlci50b2tlbjtcblxuICAgIHRoaXMuX2xleGVyLmFkdmFuY2UoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5TVFJJTkcsXG4gICAgICB2YWx1ZTogdG9rZW4udmFsdWUsXG4gICAgICBibG9jazogdG9rZW4ua2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuQkxPQ0tfU1RSSU5HLFxuICAgICAgbG9jOiB0aGlzLmxvYyh0b2tlbilcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBMaXN0VmFsdWVbQ29uc3RdIDpcbiAgICogICAtIFsgXVxuICAgKiAgIC0gWyBWYWx1ZVs/Q29uc3RdKyBdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlTGlzdCA9IGZ1bmN0aW9uIHBhcnNlTGlzdChpc0NvbnN0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuXG4gICAgdmFyIGl0ZW0gPSBmdW5jdGlvbiBpdGVtKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnBhcnNlVmFsdWVMaXRlcmFsKGlzQ29uc3QpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuTElTVCxcbiAgICAgIHZhbHVlczogdGhpcy5hbnkoX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0tFVF9MLCBpdGVtLCBfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDS0VUX1IpLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBPYmplY3RWYWx1ZVtDb25zdF0gOlxuICAgKiAgIC0geyB9XG4gICAqICAgLSB7IE9iamVjdEZpZWxkWz9Db25zdF0rIH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VPYmplY3QgPSBmdW5jdGlvbiBwYXJzZU9iamVjdChpc0NvbnN0KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcblxuICAgIHZhciBpdGVtID0gZnVuY3Rpb24gaXRlbSgpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGFyc2VPYmplY3RGaWVsZChpc0NvbnN0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLk9CSkVDVCxcbiAgICAgIGZpZWxkczogdGhpcy5hbnkoX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfTCwgaXRlbSwgX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfUiksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9iamVjdEZpZWxkW0NvbnN0XSA6IE5hbWUgOiBWYWx1ZVs/Q29uc3RdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlT2JqZWN0RmllbGQgPSBmdW5jdGlvbiBwYXJzZU9iamVjdEZpZWxkKGlzQ29uc3QpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdGhpcy5leHBlY3RUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5DT0xPTik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLk9CSkVDVF9GSUVMRCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YWx1ZTogdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbChpc0NvbnN0KSxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfSAvLyBJbXBsZW1lbnRzIHRoZSBwYXJzaW5nIHJ1bGVzIGluIHRoZSBEaXJlY3RpdmVzIHNlY3Rpb24uXG5cbiAgLyoqXG4gICAqIERpcmVjdGl2ZXNbQ29uc3RdIDogRGlyZWN0aXZlWz9Db25zdF0rXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRGlyZWN0aXZlcyA9IGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlcyhpc0NvbnN0KSB7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcblxuICAgIHdoaWxlICh0aGlzLnBlZWsoX3Rva2VuS2luZC5Ub2tlbktpbmQuQVQpKSB7XG4gICAgICBkaXJlY3RpdmVzLnB1c2godGhpcy5wYXJzZURpcmVjdGl2ZShpc0NvbnN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gIH1cbiAgLyoqXG4gICAqIERpcmVjdGl2ZVtDb25zdF0gOiBAIE5hbWUgQXJndW1lbnRzWz9Db25zdF0/XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRGlyZWN0aXZlID0gZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmUoaXNDb25zdCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHRoaXMuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQVQpO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5ESVJFQ1RJVkUsXG4gICAgICBuYW1lOiB0aGlzLnBhcnNlTmFtZSgpLFxuICAgICAgYXJndW1lbnRzOiB0aGlzLnBhcnNlQXJndW1lbnRzKGlzQ29uc3QpLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9IC8vIEltcGxlbWVudHMgdGhlIHBhcnNpbmcgcnVsZXMgaW4gdGhlIFR5cGVzIHNlY3Rpb24uXG5cbiAgLyoqXG4gICAqIFR5cGUgOlxuICAgKiAgIC0gTmFtZWRUeXBlXG4gICAqICAgLSBMaXN0VHlwZVxuICAgKiAgIC0gTm9uTnVsbFR5cGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VUeXBlUmVmZXJlbmNlID0gZnVuY3Rpb24gcGFyc2VUeXBlUmVmZXJlbmNlKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHZhciB0eXBlO1xuXG4gICAgaWYgKHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDS0VUX0wpKSB7XG4gICAgICB0eXBlID0gdGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKTtcbiAgICAgIHRoaXMuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0tFVF9SKTtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkxJU1RfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSB0aGlzLnBhcnNlTmFtZWRUeXBlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5CQU5HKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogX2tpbmRzLktpbmQuTk9OX05VTExfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgLyoqXG4gICAqIE5hbWVkVHlwZSA6IE5hbWVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VOYW1lZFR5cGUgPSBmdW5jdGlvbiBwYXJzZU5hbWVkVHlwZSgpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuTkFNRURfVFlQRSxcbiAgICAgIG5hbWU6IHRoaXMucGFyc2VOYW1lKCksXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH0gLy8gSW1wbGVtZW50cyB0aGUgcGFyc2luZyBydWxlcyBpbiB0aGUgVHlwZSBEZWZpbml0aW9uIHNlY3Rpb24uXG5cbiAgLyoqXG4gICAqIFR5cGVTeXN0ZW1EZWZpbml0aW9uIDpcbiAgICogICAtIFNjaGVtYURlZmluaXRpb25cbiAgICogICAtIFR5cGVEZWZpbml0aW9uXG4gICAqICAgLSBEaXJlY3RpdmVEZWZpbml0aW9uXG4gICAqXG4gICAqIFR5cGVEZWZpbml0aW9uIDpcbiAgICogICAtIFNjYWxhclR5cGVEZWZpbml0aW9uXG4gICAqICAgLSBPYmplY3RUeXBlRGVmaW5pdGlvblxuICAgKiAgIC0gSW50ZXJmYWNlVHlwZURlZmluaXRpb25cbiAgICogICAtIFVuaW9uVHlwZURlZmluaXRpb25cbiAgICogICAtIEVudW1UeXBlRGVmaW5pdGlvblxuICAgKiAgIC0gSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvblxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZVR5cGVTeXN0ZW1EZWZpbml0aW9uID0gZnVuY3Rpb24gcGFyc2VUeXBlU3lzdGVtRGVmaW5pdGlvbigpIHtcbiAgICAvLyBNYW55IGRlZmluaXRpb25zIGJlZ2luIHdpdGggYSBkZXNjcmlwdGlvbiBhbmQgcmVxdWlyZSBhIGxvb2thaGVhZC5cbiAgICB2YXIga2V5d29yZFRva2VuID0gdGhpcy5wZWVrRGVzY3JpcHRpb24oKSA/IHRoaXMuX2xleGVyLmxvb2thaGVhZCgpIDogdGhpcy5fbGV4ZXIudG9rZW47XG5cbiAgICBpZiAoa2V5d29yZFRva2VuLmtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUpIHtcbiAgICAgIHN3aXRjaCAoa2V5d29yZFRva2VuLnZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3NjaGVtYSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VTY2hlbWFEZWZpbml0aW9uKCk7XG5cbiAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7XG5cbiAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPYmplY3RUeXBlRGVmaW5pdGlvbigpO1xuXG4gICAgICAgIGNhc2UgJ2ludGVyZmFjZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbigpO1xuXG4gICAgICAgIGNhc2UgJ3VuaW9uJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtcblxuICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVudW1UeXBlRGVmaW5pdGlvbigpO1xuXG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKTtcblxuICAgICAgICBjYXNlICdkaXJlY3RpdmUnOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IHRoaXMudW5leHBlY3RlZChrZXl3b3JkVG9rZW4pO1xuICB9O1xuXG4gIF9wcm90by5wZWVrRGVzY3JpcHRpb24gPSBmdW5jdGlvbiBwZWVrRGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGVlayhfdG9rZW5LaW5kLlRva2VuS2luZC5TVFJJTkcpIHx8IHRoaXMucGVlayhfdG9rZW5LaW5kLlRva2VuS2luZC5CTE9DS19TVFJJTkcpO1xuICB9XG4gIC8qKlxuICAgKiBEZXNjcmlwdGlvbiA6IFN0cmluZ1ZhbHVlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRGVzY3JpcHRpb24gPSBmdW5jdGlvbiBwYXJzZURlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnBlZWtEZXNjcmlwdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVtYURlZmluaXRpb24gOiBEZXNjcmlwdGlvbj8gc2NoZW1hIERpcmVjdGl2ZXNbQ29uc3RdPyB7IE9wZXJhdGlvblR5cGVEZWZpbml0aW9uKyB9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlU2NoZW1hRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlU2NoZW1hRGVmaW5pdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ3NjaGVtYScpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgdmFyIG9wZXJhdGlvblR5cGVzID0gdGhpcy5tYW55KF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX0wsIHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbiwgX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfUik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLlNDSEVNQV9ERUZJTklUSU9OLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyxcbiAgICAgIG9wZXJhdGlvblR5cGVzOiBvcGVyYXRpb25UeXBlcyxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT3BlcmF0aW9uVHlwZURlZmluaXRpb24gOiBPcGVyYXRpb25UeXBlIDogTmFtZWRUeXBlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHZhciBvcGVyYXRpb24gPSB0aGlzLnBhcnNlT3BlcmF0aW9uVHlwZSgpO1xuICAgIHRoaXMuZXhwZWN0VG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQ09MT04pO1xuICAgIHZhciB0eXBlID0gdGhpcy5wYXJzZU5hbWVkVHlwZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5PUEVSQVRJT05fVFlQRV9ERUZJTklUSU9OLFxuICAgICAgb3BlcmF0aW9uOiBvcGVyYXRpb24sXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTY2FsYXJUeXBlRGVmaW5pdGlvbiA6IERlc2NyaXB0aW9uPyBzY2FsYXIgTmFtZSBEaXJlY3RpdmVzW0NvbnN0XT9cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlU2NhbGFyVHlwZURlZmluaXRpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdzY2FsYXInKTtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuU0NBTEFSX1RZUEVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBPYmplY3RUeXBlRGVmaW5pdGlvbiA6XG4gICAqICAgRGVzY3JpcHRpb24/XG4gICAqICAgdHlwZSBOYW1lIEltcGxlbWVudHNJbnRlcmZhY2VzPyBEaXJlY3RpdmVzW0NvbnN0XT8gRmllbGRzRGVmaW5pdGlvbj9cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VPYmplY3RUeXBlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCd0eXBlJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBpbnRlcmZhY2VzID0gdGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICB2YXIgZmllbGRzID0gdGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuT0JKRUNUX1RZUEVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBpbnRlcmZhY2VzOiBpbnRlcmZhY2VzLFxuICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyxcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBJbXBsZW1lbnRzSW50ZXJmYWNlcyA6XG4gICAqICAgLSBpbXBsZW1lbnRzIGAmYD8gTmFtZWRUeXBlXG4gICAqICAgLSBJbXBsZW1lbnRzSW50ZXJmYWNlcyAmIE5hbWVkVHlwZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzID0gZnVuY3Rpb24gcGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpIHtcbiAgICB2YXIgdHlwZXMgPSBbXTtcblxuICAgIGlmICh0aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgnaW1wbGVtZW50cycpKSB7XG4gICAgICAvLyBPcHRpb25hbCBsZWFkaW5nIGFtcGVyc2FuZFxuICAgICAgdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkFNUCk7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIF90aGlzJF9vcHRpb25zMjtcblxuICAgICAgICB0eXBlcy5wdXNoKHRoaXMucGFyc2VOYW1lZFR5cGUoKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQU1QKSB8fCAvLyBMZWdhY3kgc3VwcG9ydCBmb3IgdGhlIFNETD9cbiAgICAgICgoX3RoaXMkX29wdGlvbnMyID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkX29wdGlvbnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRfb3B0aW9uczIuYWxsb3dMZWdhY3lTRExJbXBsZW1lbnRzSW50ZXJmYWNlcykgPT09IHRydWUgJiYgdGhpcy5wZWVrKF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZXM7XG4gIH1cbiAgLyoqXG4gICAqIEZpZWxkc0RlZmluaXRpb24gOiB7IEZpZWxkRGVmaW5pdGlvbisgfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUZpZWxkc0RlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZUZpZWxkc0RlZmluaXRpb24oKSB7XG4gICAgdmFyIF90aGlzJF9vcHRpb25zMztcblxuICAgIC8vIExlZ2FjeSBzdXBwb3J0IGZvciB0aGUgU0RMP1xuICAgIGlmICgoKF90aGlzJF9vcHRpb25zMyA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF90aGlzJF9vcHRpb25zMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkX29wdGlvbnMzLmFsbG93TGVnYWN5U0RMRW1wdHlGaWVsZHMpID09PSB0cnVlICYmIHRoaXMucGVlayhfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MKSAmJiB0aGlzLl9sZXhlci5sb29rYWhlYWQoKS5raW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9SKSB7XG4gICAgICB0aGlzLl9sZXhlci5hZHZhbmNlKCk7XG5cbiAgICAgIHRoaXMuX2xleGVyLmFkdmFuY2UoKTtcblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsTWFueShfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MLCB0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLCBfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9SKTtcbiAgfVxuICAvKipcbiAgICogRmllbGREZWZpbml0aW9uIDpcbiAgICogICAtIERlc2NyaXB0aW9uPyBOYW1lIEFyZ3VtZW50c0RlZmluaXRpb24/IDogVHlwZSBEaXJlY3RpdmVzW0NvbnN0XT9cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VGaWVsZERlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZUZpZWxkRGVmaW5pdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLnBhcnNlQXJndW1lbnREZWZzKCk7XG4gICAgdGhpcy5leHBlY3RUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5DT0xPTik7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkZJRUxEX0RFRklOSVRJT04sXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgYXJndW1lbnRzOiBhcmdzLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFyZ3VtZW50c0RlZmluaXRpb24gOiAoIElucHV0VmFsdWVEZWZpbml0aW9uKyApXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlQXJndW1lbnREZWZzID0gZnVuY3Rpb24gcGFyc2VBcmd1bWVudERlZnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KF90b2tlbktpbmQuVG9rZW5LaW5kLlBBUkVOX0wsIHRoaXMucGFyc2VJbnB1dFZhbHVlRGVmLCBfdG9rZW5LaW5kLlRva2VuS2luZC5QQVJFTl9SKTtcbiAgfVxuICAvKipcbiAgICogSW5wdXRWYWx1ZURlZmluaXRpb24gOlxuICAgKiAgIC0gRGVzY3JpcHRpb24/IE5hbWUgOiBUeXBlIERlZmF1bHRWYWx1ZT8gRGlyZWN0aXZlc1tDb25zdF0/XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlSW5wdXRWYWx1ZURlZiA9IGZ1bmN0aW9uIHBhcnNlSW5wdXRWYWx1ZURlZigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdGhpcy5leHBlY3RUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5DT0xPTik7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO1xuICAgIHZhciBkZWZhdWx0VmFsdWU7XG5cbiAgICBpZiAodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkVRVUFMUykpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHRoaXMucGFyc2VWYWx1ZUxpdGVyYWwodHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuSU5QVVRfVkFMVUVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbiA6XG4gICAqICAgLSBEZXNjcmlwdGlvbj8gaW50ZXJmYWNlIE5hbWUgRGlyZWN0aXZlc1tDb25zdF0/IEZpZWxkc0RlZmluaXRpb24/XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZUludGVyZmFjZVR5cGVEZWZpbml0aW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMucGFyc2VEZXNjcmlwdGlvbigpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnaW50ZXJmYWNlJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBpbnRlcmZhY2VzID0gdGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICB2YXIgZmllbGRzID0gdGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBpbnRlcmZhY2VzOiBpbnRlcmZhY2VzLFxuICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyxcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVbmlvblR5cGVEZWZpbml0aW9uIDpcbiAgICogICAtIERlc2NyaXB0aW9uPyB1bmlvbiBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdPyBVbmlvbk1lbWJlclR5cGVzP1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCd1bmlvbicpO1xuICAgIHZhciBuYW1lID0gdGhpcy5wYXJzZU5hbWUoKTtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IHRoaXMucGFyc2VEaXJlY3RpdmVzKHRydWUpO1xuICAgIHZhciB0eXBlcyA9IHRoaXMucGFyc2VVbmlvbk1lbWJlclR5cGVzKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLlVOSU9OX1RZUEVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgdHlwZXM6IHR5cGVzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVbmlvbk1lbWJlclR5cGVzIDpcbiAgICogICAtID0gYHxgPyBOYW1lZFR5cGVcbiAgICogICAtIFVuaW9uTWVtYmVyVHlwZXMgfCBOYW1lZFR5cGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VVbmlvbk1lbWJlclR5cGVzID0gZnVuY3Rpb24gcGFyc2VVbmlvbk1lbWJlclR5cGVzKCkge1xuICAgIHZhciB0eXBlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5FUVVBTFMpKSB7XG4gICAgICAvLyBPcHRpb25hbCBsZWFkaW5nIHBpcGVcbiAgICAgIHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5QSVBFKTtcblxuICAgICAgZG8ge1xuICAgICAgICB0eXBlcy5wdXNoKHRoaXMucGFyc2VOYW1lZFR5cGUoKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuUElQRSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlcztcbiAgfVxuICAvKipcbiAgICogRW51bVR5cGVEZWZpbml0aW9uIDpcbiAgICogICAtIERlc2NyaXB0aW9uPyBlbnVtIE5hbWUgRGlyZWN0aXZlc1tDb25zdF0/IEVudW1WYWx1ZXNEZWZpbml0aW9uP1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUVudW1UeXBlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMucGFyc2VEZXNjcmlwdGlvbigpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnZW51bScpO1xuICAgIHZhciBuYW1lID0gdGhpcy5wYXJzZU5hbWUoKTtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IHRoaXMucGFyc2VEaXJlY3RpdmVzKHRydWUpO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLnBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuRU5VTV9UWVBFX0RFRklOSVRJT04sXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyxcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBFbnVtVmFsdWVzRGVmaW5pdGlvbiA6IHsgRW51bVZhbHVlRGVmaW5pdGlvbisgfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uID0gZnVuY3Rpb24gcGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkoX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfTCwgdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24sIF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX1IpO1xuICB9XG4gIC8qKlxuICAgKiBFbnVtVmFsdWVEZWZpbml0aW9uIDogRGVzY3JpcHRpb24/IEVudW1WYWx1ZSBEaXJlY3RpdmVzW0NvbnN0XT9cbiAgICpcbiAgICogRW51bVZhbHVlIDogTmFtZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLkVOVU1fVkFMVUVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgbG9jOiB0aGlzLmxvYyhzdGFydClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIDpcbiAgICogICAtIERlc2NyaXB0aW9uPyBpbnB1dCBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdPyBJbnB1dEZpZWxkc0RlZmluaXRpb24/XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIHBhcnNlSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ2lucHV0Jyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgdmFyIGZpZWxkcyA9IHRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuSU5QVVRfT0JKRUNUX1RZUEVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIElucHV0RmllbGRzRGVmaW5pdGlvbiA6IHsgSW5wdXRWYWx1ZURlZmluaXRpb24rIH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZUlucHV0RmllbGRzRGVmaW5pdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkoX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfTCwgdGhpcy5wYXJzZUlucHV0VmFsdWVEZWYsIF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX1IpO1xuICB9XG4gIC8qKlxuICAgKiBUeXBlU3lzdGVtRXh0ZW5zaW9uIDpcbiAgICogICAtIFNjaGVtYUV4dGVuc2lvblxuICAgKiAgIC0gVHlwZUV4dGVuc2lvblxuICAgKlxuICAgKiBUeXBlRXh0ZW5zaW9uIDpcbiAgICogICAtIFNjYWxhclR5cGVFeHRlbnNpb25cbiAgICogICAtIE9iamVjdFR5cGVFeHRlbnNpb25cbiAgICogICAtIEludGVyZmFjZVR5cGVFeHRlbnNpb25cbiAgICogICAtIFVuaW9uVHlwZUV4dGVuc2lvblxuICAgKiAgIC0gRW51bVR5cGVFeHRlbnNpb25cbiAgICogICAtIElucHV0T2JqZWN0VHlwZURlZmluaXRpb25cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uID0gZnVuY3Rpb24gcGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uKCkge1xuICAgIHZhciBrZXl3b3JkVG9rZW4gPSB0aGlzLl9sZXhlci5sb29rYWhlYWQoKTtcblxuICAgIGlmIChrZXl3b3JkVG9rZW4ua2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuTkFNRSkge1xuICAgICAgc3dpdGNoIChrZXl3b3JkVG9rZW4udmFsdWUpIHtcbiAgICAgICAgY2FzZSAnc2NoZW1hJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVNjaGVtYUV4dGVuc2lvbigpO1xuXG4gICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgY2FzZSAnaW50ZXJmYWNlJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUludGVyZmFjZVR5cGVFeHRlbnNpb24oKTtcblxuICAgICAgICBjYXNlICd1bmlvbic6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtcblxuICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVudW1UeXBlRXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgdGhpcy51bmV4cGVjdGVkKGtleXdvcmRUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVtYUV4dGVuc2lvbiA6XG4gICAqICAtIGV4dGVuZCBzY2hlbWEgRGlyZWN0aXZlc1tDb25zdF0/IHsgT3BlcmF0aW9uVHlwZURlZmluaXRpb24rIH1cbiAgICogIC0gZXh0ZW5kIHNjaGVtYSBEaXJlY3RpdmVzW0NvbnN0XVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZVNjaGVtYUV4dGVuc2lvbiA9IGZ1bmN0aW9uIHBhcnNlU2NoZW1hRXh0ZW5zaW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnZXh0ZW5kJyk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdzY2hlbWEnKTtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IHRoaXMucGFyc2VEaXJlY3RpdmVzKHRydWUpO1xuICAgIHZhciBvcGVyYXRpb25UeXBlcyA9IHRoaXMub3B0aW9uYWxNYW55KF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX0wsIHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbiwgX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfUik7XG5cbiAgICBpZiAoZGlyZWN0aXZlcy5sZW5ndGggPT09IDAgJiYgb3BlcmF0aW9uVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuU0NIRU1BX0VYVEVOU0lPTixcbiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXG4gICAgICBvcGVyYXRpb25UeXBlczogb3BlcmF0aW9uVHlwZXMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNjYWxhclR5cGVFeHRlbnNpb24gOlxuICAgKiAgIC0gZXh0ZW5kIHNjYWxhciBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlU2NhbGFyVHlwZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIHBhcnNlU2NhbGFyVHlwZUV4dGVuc2lvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ2V4dGVuZCcpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnc2NhbGFyJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG5cbiAgICBpZiAoZGlyZWN0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IHRoaXMudW5leHBlY3RlZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5TQ0FMQVJfVFlQRV9FWFRFTlNJT04sXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT2JqZWN0VHlwZUV4dGVuc2lvbiA6XG4gICAqICAtIGV4dGVuZCB0eXBlIE5hbWUgSW1wbGVtZW50c0ludGVyZmFjZXM/IERpcmVjdGl2ZXNbQ29uc3RdPyBGaWVsZHNEZWZpbml0aW9uXG4gICAqICAtIGV4dGVuZCB0eXBlIE5hbWUgSW1wbGVtZW50c0ludGVyZmFjZXM/IERpcmVjdGl2ZXNbQ29uc3RdXG4gICAqICAtIGV4dGVuZCB0eXBlIE5hbWUgSW1wbGVtZW50c0ludGVyZmFjZXNcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uID0gZnVuY3Rpb24gcGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnZXh0ZW5kJyk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCd0eXBlJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBpbnRlcmZhY2VzID0gdGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICB2YXIgZmllbGRzID0gdGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtcblxuICAgIGlmIChpbnRlcmZhY2VzLmxlbmd0aCA9PT0gMCAmJiBkaXJlY3RpdmVzLmxlbmd0aCA9PT0gMCAmJiBmaWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuT0JKRUNUX1RZUEVfRVhURU5TSU9OLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGludGVyZmFjZXM6IGludGVyZmFjZXMsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEludGVyZmFjZVR5cGVFeHRlbnNpb24gOlxuICAgKiAgLSBleHRlbmQgaW50ZXJmYWNlIE5hbWUgSW1wbGVtZW50c0ludGVyZmFjZXM/IERpcmVjdGl2ZXNbQ29uc3RdPyBGaWVsZHNEZWZpbml0aW9uXG4gICAqICAtIGV4dGVuZCBpbnRlcmZhY2UgTmFtZSBJbXBsZW1lbnRzSW50ZXJmYWNlcz8gRGlyZWN0aXZlc1tDb25zdF1cbiAgICogIC0gZXh0ZW5kIGludGVyZmFjZSBOYW1lIEltcGxlbWVudHNJbnRlcmZhY2VzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIHBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ2V4dGVuZCcpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnaW50ZXJmYWNlJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBpbnRlcmZhY2VzID0gdGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICB2YXIgZmllbGRzID0gdGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtcblxuICAgIGlmIChpbnRlcmZhY2VzLmxlbmd0aCA9PT0gMCAmJiBkaXJlY3RpdmVzLmxlbmd0aCA9PT0gMCAmJiBmaWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuSU5URVJGQUNFX1RZUEVfRVhURU5TSU9OLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGludGVyZmFjZXM6IGludGVyZmFjZXMsXG4gICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzLFxuICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFVuaW9uVHlwZUV4dGVuc2lvbiA6XG4gICAqICAgLSBleHRlbmQgdW5pb24gTmFtZSBEaXJlY3RpdmVzW0NvbnN0XT8gVW5pb25NZW1iZXJUeXBlc1xuICAgKiAgIC0gZXh0ZW5kIHVuaW9uIE5hbWUgRGlyZWN0aXZlc1tDb25zdF1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGFyc2VVbmlvblR5cGVFeHRlbnNpb24gPSBmdW5jdGlvbiBwYXJzZVVuaW9uVHlwZUV4dGVuc2lvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9sZXhlci50b2tlbjtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ2V4dGVuZCcpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgndW5pb24nKTtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSB0aGlzLnBhcnNlRGlyZWN0aXZlcyh0cnVlKTtcbiAgICB2YXIgdHlwZXMgPSB0aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO1xuXG4gICAgaWYgKGRpcmVjdGl2ZXMubGVuZ3RoID09PSAwICYmIHR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IF9raW5kcy5LaW5kLlVOSU9OX1RZUEVfRVhURU5TSU9OLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXG4gICAgICB0eXBlczogdHlwZXMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEVudW1UeXBlRXh0ZW5zaW9uIDpcbiAgICogICAtIGV4dGVuZCBlbnVtIE5hbWUgRGlyZWN0aXZlc1tDb25zdF0/IEVudW1WYWx1ZXNEZWZpbml0aW9uXG4gICAqICAgLSBleHRlbmQgZW51bSBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRW51bVR5cGVFeHRlbnNpb24gPSBmdW5jdGlvbiBwYXJzZUVudW1UeXBlRXh0ZW5zaW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnZXh0ZW5kJyk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdlbnVtJyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMucGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpO1xuXG4gICAgaWYgKGRpcmVjdGl2ZXMubGVuZ3RoID09PSAwICYmIHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IHRoaXMudW5leHBlY3RlZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5FTlVNX1RZUEVfRVhURU5TSU9OLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIDpcbiAgICogICAtIGV4dGVuZCBpbnB1dCBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdPyBJbnB1dEZpZWxkc0RlZmluaXRpb25cbiAgICogICAtIGV4dGVuZCBpbnB1dCBOYW1lIERpcmVjdGl2ZXNbQ29uc3RdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uID0gZnVuY3Rpb24gcGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdleHRlbmQnKTtcbiAgICB0aGlzLmV4cGVjdEtleXdvcmQoJ2lucHV0Jyk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnBhcnNlTmFtZSgpO1xuICAgIHZhciBkaXJlY3RpdmVzID0gdGhpcy5wYXJzZURpcmVjdGl2ZXModHJ1ZSk7XG4gICAgdmFyIGZpZWxkcyA9IHRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtcblxuICAgIGlmIChkaXJlY3RpdmVzLmxlbmd0aCA9PT0gMCAmJiBmaWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogX2tpbmRzLktpbmQuSU5QVVRfT0JKRUNUX1RZUEVfRVhURU5TSU9OLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXG4gICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgIGxvYzogdGhpcy5sb2Moc3RhcnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGlyZWN0aXZlRGVmaW5pdGlvbiA6XG4gICAqICAgLSBEZXNjcmlwdGlvbj8gZGlyZWN0aXZlIEAgTmFtZSBBcmd1bWVudHNEZWZpbml0aW9uPyBgcmVwZWF0YWJsZWA/IG9uIERpcmVjdGl2ZUxvY2F0aW9uc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZURpcmVjdGl2ZURlZmluaXRpb24gPSBmdW5jdGlvbiBwYXJzZURpcmVjdGl2ZURlZmluaXRpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fbGV4ZXIudG9rZW47XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7XG4gICAgdGhpcy5leHBlY3RLZXl3b3JkKCdkaXJlY3RpdmUnKTtcbiAgICB0aGlzLmV4cGVjdFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkFUKTtcbiAgICB2YXIgbmFtZSA9IHRoaXMucGFyc2VOYW1lKCk7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLnBhcnNlQXJndW1lbnREZWZzKCk7XG4gICAgdmFyIHJlcGVhdGFibGUgPSB0aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgncmVwZWF0YWJsZScpO1xuICAgIHRoaXMuZXhwZWN0S2V5d29yZCgnb24nKTtcbiAgICB2YXIgbG9jYXRpb25zID0gdGhpcy5wYXJzZURpcmVjdGl2ZUxvY2F0aW9ucygpO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBfa2luZHMuS2luZC5ESVJFQ1RJVkVfREVGSU5JVElPTixcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBhcmd1bWVudHM6IGFyZ3MsXG4gICAgICByZXBlYXRhYmxlOiByZXBlYXRhYmxlLFxuICAgICAgbG9jYXRpb25zOiBsb2NhdGlvbnMsXG4gICAgICBsb2M6IHRoaXMubG9jKHN0YXJ0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERpcmVjdGl2ZUxvY2F0aW9ucyA6XG4gICAqICAgLSBgfGA/IERpcmVjdGl2ZUxvY2F0aW9uXG4gICAqICAgLSBEaXJlY3RpdmVMb2NhdGlvbnMgfCBEaXJlY3RpdmVMb2NhdGlvblxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXJzZURpcmVjdGl2ZUxvY2F0aW9ucyA9IGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCkge1xuICAgIC8vIE9wdGlvbmFsIGxlYWRpbmcgcGlwZVxuICAgIHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5QSVBFKTtcbiAgICB2YXIgbG9jYXRpb25zID0gW107XG5cbiAgICBkbyB7XG4gICAgICBsb2NhdGlvbnMucHVzaCh0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKSk7XG4gICAgfSB3aGlsZSAodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLlBJUEUpKTtcblxuICAgIHJldHVybiBsb2NhdGlvbnM7XG4gIH1cbiAgLypcbiAgICogRGlyZWN0aXZlTG9jYXRpb24gOlxuICAgKiAgIC0gRXhlY3V0YWJsZURpcmVjdGl2ZUxvY2F0aW9uXG4gICAqICAgLSBUeXBlU3lzdGVtRGlyZWN0aXZlTG9jYXRpb25cbiAgICpcbiAgICogRXhlY3V0YWJsZURpcmVjdGl2ZUxvY2F0aW9uIDogb25lIG9mXG4gICAqICAgYFFVRVJZYFxuICAgKiAgIGBNVVRBVElPTmBcbiAgICogICBgU1VCU0NSSVBUSU9OYFxuICAgKiAgIGBGSUVMRGBcbiAgICogICBgRlJBR01FTlRfREVGSU5JVElPTmBcbiAgICogICBgRlJBR01FTlRfU1BSRUFEYFxuICAgKiAgIGBJTkxJTkVfRlJBR01FTlRgXG4gICAqXG4gICAqIFR5cGVTeXN0ZW1EaXJlY3RpdmVMb2NhdGlvbiA6IG9uZSBvZlxuICAgKiAgIGBTQ0hFTUFgXG4gICAqICAgYFNDQUxBUmBcbiAgICogICBgT0JKRUNUYFxuICAgKiAgIGBGSUVMRF9ERUZJTklUSU9OYFxuICAgKiAgIGBBUkdVTUVOVF9ERUZJTklUSU9OYFxuICAgKiAgIGBJTlRFUkZBQ0VgXG4gICAqICAgYFVOSU9OYFxuICAgKiAgIGBFTlVNYFxuICAgKiAgIGBFTlVNX1ZBTFVFYFxuICAgKiAgIGBJTlBVVF9PQkpFQ1RgXG4gICAqICAgYElOUFVUX0ZJRUxEX0RFRklOSVRJT05gXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24gPSBmdW5jdGlvbiBwYXJzZURpcmVjdGl2ZUxvY2F0aW9uKCkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHZhciBuYW1lID0gdGhpcy5wYXJzZU5hbWUoKTtcblxuICAgIGlmIChfZGlyZWN0aXZlTG9jYXRpb24uRGlyZWN0aXZlTG9jYXRpb25bbmFtZS52YWx1ZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgdGhyb3cgdGhpcy51bmV4cGVjdGVkKHN0YXJ0KTtcbiAgfSAvLyBDb3JlIHBhcnNpbmcgdXRpbGl0eSBmdW5jdGlvbnNcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxvY2F0aW9uIG9iamVjdCwgdXNlZCB0byBpZGVudGlmeSB0aGUgcGxhY2UgaW5cbiAgICogdGhlIHNvdXJjZSB0aGF0IGNyZWF0ZWQgYSBnaXZlbiBwYXJzZWQgb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2MgPSBmdW5jdGlvbiBsb2Moc3RhcnRUb2tlbikge1xuICAgIHZhciBfdGhpcyRfb3B0aW9uczQ7XG5cbiAgICBpZiAoKChfdGhpcyRfb3B0aW9uczQgPSB0aGlzLl9vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRfb3B0aW9uczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJF9vcHRpb25zNC5ub0xvY2F0aW9uKSAhPT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBfYXN0LkxvY2F0aW9uKHN0YXJ0VG9rZW4sIHRoaXMuX2xleGVyLmxhc3RUb2tlbiwgdGhpcy5fbGV4ZXIuc291cmNlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIG5leHQgdG9rZW4gaXMgb2YgYSBnaXZlbiBraW5kXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBlZWsgPSBmdW5jdGlvbiBwZWVrKGtpbmQpIHtcbiAgICByZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZCA9PT0ga2luZDtcbiAgfVxuICAvKipcbiAgICogSWYgdGhlIG5leHQgdG9rZW4gaXMgb2YgdGhlIGdpdmVuIGtpbmQsIHJldHVybiB0aGF0IHRva2VuIGFmdGVyIGFkdmFuY2luZ1xuICAgKiB0aGUgbGV4ZXIuIE90aGVyd2lzZSwgZG8gbm90IGNoYW5nZSB0aGUgcGFyc2VyIHN0YXRlIGFuZCB0aHJvdyBhbiBlcnJvci5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXhwZWN0VG9rZW4gPSBmdW5jdGlvbiBleHBlY3RUb2tlbihraW5kKSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5fbGV4ZXIudG9rZW47XG5cbiAgICBpZiAodG9rZW4ua2luZCA9PT0ga2luZCkge1xuICAgICAgdGhpcy5fbGV4ZXIuYWR2YW5jZSgpO1xuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgdGhyb3cgKDAsIF9zeW50YXhFcnJvci5zeW50YXhFcnJvcikodGhpcy5fbGV4ZXIuc291cmNlLCB0b2tlbi5zdGFydCwgXCJFeHBlY3RlZCBcIi5jb25jYXQoZ2V0VG9rZW5LaW5kRGVzYyhraW5kKSwgXCIsIGZvdW5kIFwiKS5jb25jYXQoZ2V0VG9rZW5EZXNjKHRva2VuKSwgXCIuXCIpKTtcbiAgfVxuICAvKipcbiAgICogSWYgdGhlIG5leHQgdG9rZW4gaXMgb2YgdGhlIGdpdmVuIGtpbmQsIHJldHVybiB0aGF0IHRva2VuIGFmdGVyIGFkdmFuY2luZ1xuICAgKiB0aGUgbGV4ZXIuIE90aGVyd2lzZSwgZG8gbm90IGNoYW5nZSB0aGUgcGFyc2VyIHN0YXRlIGFuZCByZXR1cm4gdW5kZWZpbmVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5leHBlY3RPcHRpb25hbFRva2VuID0gZnVuY3Rpb24gZXhwZWN0T3B0aW9uYWxUb2tlbihraW5kKSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5fbGV4ZXIudG9rZW47XG5cbiAgICBpZiAodG9rZW4ua2luZCA9PT0ga2luZCkge1xuICAgICAgdGhpcy5fbGV4ZXIuYWR2YW5jZSgpO1xuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICAvKipcbiAgICogSWYgdGhlIG5leHQgdG9rZW4gaXMgYSBnaXZlbiBrZXl3b3JkLCBhZHZhbmNlIHRoZSBsZXhlci5cbiAgICogT3RoZXJ3aXNlLCBkbyBub3QgY2hhbmdlIHRoZSBwYXJzZXIgc3RhdGUgYW5kIHRocm93IGFuIGVycm9yLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5leHBlY3RLZXl3b3JkID0gZnVuY3Rpb24gZXhwZWN0S2V5d29yZCh2YWx1ZSkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMuX2xleGVyLnRva2VuO1xuXG4gICAgaWYgKHRva2VuLmtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUgJiYgdG9rZW4udmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9sZXhlci5hZHZhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICgwLCBfc3ludGF4RXJyb3Iuc3ludGF4RXJyb3IpKHRoaXMuX2xleGVyLnNvdXJjZSwgdG9rZW4uc3RhcnQsIFwiRXhwZWN0ZWQgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiLCBmb3VuZCBcIikuY29uY2F0KGdldFRva2VuRGVzYyh0b2tlbiksIFwiLlwiKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJZiB0aGUgbmV4dCB0b2tlbiBpcyBhIGdpdmVuIGtleXdvcmQsIHJldHVybiBcInRydWVcIiBhZnRlciBhZHZhbmNpbmdcbiAgICogdGhlIGxleGVyLiBPdGhlcndpc2UsIGRvIG5vdCBjaGFuZ2UgdGhlIHBhcnNlciBzdGF0ZSBhbmQgcmV0dXJuIFwiZmFsc2VcIi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXhwZWN0T3B0aW9uYWxLZXl3b3JkID0gZnVuY3Rpb24gZXhwZWN0T3B0aW9uYWxLZXl3b3JkKHZhbHVlKSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5fbGV4ZXIudG9rZW47XG5cbiAgICBpZiAodG9rZW4ua2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuTkFNRSAmJiB0b2tlbi52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2xleGVyLmFkdmFuY2UoKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFuIGVycm9yIHdoZW4gYW4gdW5leHBlY3RlZCBsZXhlZCB0b2tlblxuICAgKiBpcyBlbmNvdW50ZXJlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udW5leHBlY3RlZCA9IGZ1bmN0aW9uIHVuZXhwZWN0ZWQoYXRUb2tlbikge1xuICAgIHZhciB0b2tlbiA9IGF0VG9rZW4gIT09IG51bGwgJiYgYXRUb2tlbiAhPT0gdm9pZCAwID8gYXRUb2tlbiA6IHRoaXMuX2xleGVyLnRva2VuO1xuICAgIHJldHVybiAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKSh0aGlzLl9sZXhlci5zb3VyY2UsIHRva2VuLnN0YXJ0LCBcIlVuZXhwZWN0ZWQgXCIuY29uY2F0KGdldFRva2VuRGVzYyh0b2tlbiksIFwiLlwiKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwb3NzaWJseSBlbXB0eSBsaXN0IG9mIHBhcnNlIG5vZGVzLCBkZXRlcm1pbmVkIGJ5XG4gICAqIHRoZSBwYXJzZUZuLiBUaGlzIGxpc3QgYmVnaW5zIHdpdGggYSBsZXggdG9rZW4gb2Ygb3BlbktpbmRcbiAgICogYW5kIGVuZHMgd2l0aCBhIGxleCB0b2tlbiBvZiBjbG9zZUtpbmQuIEFkdmFuY2VzIHRoZSBwYXJzZXJcbiAgICogdG8gdGhlIG5leHQgbGV4IHRva2VuIGFmdGVyIHRoZSBjbG9zaW5nIHRva2VuLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hbnkgPSBmdW5jdGlvbiBhbnkob3BlbktpbmQsIHBhcnNlRm4sIGNsb3NlS2luZCkge1xuICAgIHRoaXMuZXhwZWN0VG9rZW4ob3BlbktpbmQpO1xuICAgIHZhciBub2RlcyA9IFtdO1xuXG4gICAgd2hpbGUgKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oY2xvc2VLaW5kKSkge1xuICAgICAgbm9kZXMucHVzaChwYXJzZUZuLmNhbGwodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgcGFyc2Ugbm9kZXMsIGRldGVybWluZWQgYnkgdGhlIHBhcnNlRm4uXG4gICAqIEl0IGNhbiBiZSBlbXB0eSBvbmx5IGlmIG9wZW4gdG9rZW4gaXMgbWlzc2luZyBvdGhlcndpc2UgaXQgd2lsbCBhbHdheXNcbiAgICogcmV0dXJuIG5vbi1lbXB0eSBsaXN0IHRoYXQgYmVnaW5zIHdpdGggYSBsZXggdG9rZW4gb2Ygb3BlbktpbmQgYW5kIGVuZHNcbiAgICogd2l0aCBhIGxleCB0b2tlbiBvZiBjbG9zZUtpbmQuIEFkdmFuY2VzIHRoZSBwYXJzZXIgdG8gdGhlIG5leHQgbGV4IHRva2VuXG4gICAqIGFmdGVyIHRoZSBjbG9zaW5nIHRva2VuLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vcHRpb25hbE1hbnkgPSBmdW5jdGlvbiBvcHRpb25hbE1hbnkob3BlbktpbmQsIHBhcnNlRm4sIGNsb3NlS2luZCkge1xuICAgIGlmICh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4ob3BlbktpbmQpKSB7XG4gICAgICB2YXIgbm9kZXMgPSBbXTtcblxuICAgICAgZG8ge1xuICAgICAgICBub2Rlcy5wdXNoKHBhcnNlRm4uY2FsbCh0aGlzKSk7XG4gICAgICB9IHdoaWxlICghdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGNsb3NlS2luZCkpO1xuXG4gICAgICByZXR1cm4gbm9kZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbm9uLWVtcHR5IGxpc3Qgb2YgcGFyc2Ugbm9kZXMsIGRldGVybWluZWQgYnlcbiAgICogdGhlIHBhcnNlRm4uIFRoaXMgbGlzdCBiZWdpbnMgd2l0aCBhIGxleCB0b2tlbiBvZiBvcGVuS2luZFxuICAgKiBhbmQgZW5kcyB3aXRoIGEgbGV4IHRva2VuIG9mIGNsb3NlS2luZC4gQWR2YW5jZXMgdGhlIHBhcnNlclxuICAgKiB0byB0aGUgbmV4dCBsZXggdG9rZW4gYWZ0ZXIgdGhlIGNsb3NpbmcgdG9rZW4uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hbnkgPSBmdW5jdGlvbiBtYW55KG9wZW5LaW5kLCBwYXJzZUZuLCBjbG9zZUtpbmQpIHtcbiAgICB0aGlzLmV4cGVjdFRva2VuKG9wZW5LaW5kKTtcbiAgICB2YXIgbm9kZXMgPSBbXTtcblxuICAgIGRvIHtcbiAgICAgIG5vZGVzLnB1c2gocGFyc2VGbi5jYWxsKHRoaXMpKTtcbiAgICB9IHdoaWxlICghdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGNsb3NlS2luZCkpO1xuXG4gICAgcmV0dXJuIG5vZGVzO1xuICB9O1xuXG4gIHJldHVybiBQYXJzZXI7XG59KCk7XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIGRlc2NyaWJlIGEgdG9rZW4gYXMgYSBzdHJpbmcgZm9yIGRlYnVnZ2luZ1xuICovXG5cblxuZnVuY3Rpb24gZ2V0VG9rZW5EZXNjKHRva2VuKSB7XG4gIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICByZXR1cm4gZ2V0VG9rZW5LaW5kRGVzYyh0b2tlbi5raW5kKSArICh2YWx1ZSAhPSBudWxsID8gXCIgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpIDogJycpO1xufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0byBkZXNjcmliZSBhIHRva2VuIGtpbmQgYXMgYSBzdHJpbmcgZm9yIGRlYnVnZ2luZ1xuICovXG5cblxuZnVuY3Rpb24gZ2V0VG9rZW5LaW5kRGVzYyhraW5kKSB7XG4gIHJldHVybiAoMCwgX2xleGVyLmlzUHVuY3R1YXRvclRva2VuS2luZCkoa2luZCkgPyBcIlxcXCJcIi5jb25jYXQoa2luZCwgXCJcXFwiXCIpIDoga2luZDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmludEVycm9yID0gcHJpbnRFcnJvcjtcbmV4cG9ydHMuR3JhcGhRTEVycm9yID0gdm9pZCAwO1xuXG52YXIgX2lzT2JqZWN0TGlrZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2pzdXRpbHMvaXNPYmplY3RMaWtlXCIpKTtcblxudmFyIF9zeW1ib2xzID0gcmVxdWlyZShcIi4uL3BvbHlmaWxscy9zeW1ib2xzXCIpO1xuXG52YXIgX2xvY2F0aW9uID0gcmVxdWlyZShcIi4uL2xhbmd1YWdlL2xvY2F0aW9uXCIpO1xuXG52YXIgX3ByaW50TG9jYXRpb24gPSByZXF1aXJlKFwiLi4vbGFuZ3VhZ2UvcHJpbnRMb2NhdGlvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuLyoqXG4gKiBBIEdyYXBoUUxFcnJvciBkZXNjcmliZXMgYW4gRXJyb3IgZm91bmQgZHVyaW5nIHRoZSBwYXJzZSwgdmFsaWRhdGUsIG9yXG4gKiBleGVjdXRlIHBoYXNlcyBvZiBwZXJmb3JtaW5nIGEgR3JhcGhRTCBvcGVyYXRpb24uIEluIGFkZGl0aW9uIHRvIGEgbWVzc2FnZVxuICogYW5kIHN0YWNrIHRyYWNlLCBpdCBhbHNvIGluY2x1ZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2NhdGlvbnMgaW4gYVxuICogR3JhcGhRTCBkb2N1bWVudCBhbmQvb3IgZXhlY3V0aW9uIHJlc3VsdCB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIEVycm9yLlxuICovXG52YXIgR3JhcGhRTEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzKEdyYXBoUUxFcnJvciwgX0Vycm9yKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEdyYXBoUUxFcnJvcik7XG5cbiAgLyoqXG4gICAqIEEgbWVzc2FnZSBkZXNjcmliaW5nIHRoZSBFcnJvciBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgKlxuICAgKiBFbnVtZXJhYmxlLCBhbmQgYXBwZWFycyBpbiB0aGUgcmVzdWx0IG9mIEpTT04uc3RyaW5naWZ5KCkuXG4gICAqXG4gICAqIE5vdGU6IHNob3VsZCBiZSB0cmVhdGVkIGFzIHJlYWRvbmx5LCBkZXNwaXRlIGludmFyaWFudCB1c2FnZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHsgbGluZSwgY29sdW1uIH0gbG9jYXRpb25zIHdpdGhpbiB0aGUgc291cmNlIEdyYXBoUUwgZG9jdW1lbnRcbiAgICogd2hpY2ggY29ycmVzcG9uZCB0byB0aGlzIGVycm9yLlxuICAgKlxuICAgKiBFcnJvcnMgZHVyaW5nIHZhbGlkYXRpb24gb2Z0ZW4gY29udGFpbiBtdWx0aXBsZSBsb2NhdGlvbnMsIGZvciBleGFtcGxlIHRvXG4gICAqIHBvaW50IG91dCB0d28gdGhpbmdzIHdpdGggdGhlIHNhbWUgbmFtZS4gRXJyb3JzIGR1cmluZyBleGVjdXRpb24gaW5jbHVkZSBhXG4gICAqIHNpbmdsZSBsb2NhdGlvbiwgdGhlIGZpZWxkIHdoaWNoIHByb2R1Y2VkIHRoZSBlcnJvci5cbiAgICpcbiAgICogRW51bWVyYWJsZSwgYW5kIGFwcGVhcnMgaW4gdGhlIHJlc3VsdCBvZiBKU09OLnN0cmluZ2lmeSgpLlxuICAgKi9cblxuICAvKipcbiAgICogQW4gYXJyYXkgZGVzY3JpYmluZyB0aGUgSlNPTi1wYXRoIGludG8gdGhlIGV4ZWN1dGlvbiByZXNwb25zZSB3aGljaFxuICAgKiBjb3JyZXNwb25kcyB0byB0aGlzIGVycm9yLiBPbmx5IGluY2x1ZGVkIGZvciBlcnJvcnMgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICpcbiAgICogRW51bWVyYWJsZSwgYW5kIGFwcGVhcnMgaW4gdGhlIHJlc3VsdCBvZiBKU09OLnN0cmluZ2lmeSgpLlxuICAgKi9cblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgR3JhcGhRTCBBU1QgTm9kZXMgY29ycmVzcG9uZGluZyB0byB0aGlzIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogVGhlIHNvdXJjZSBHcmFwaFFMIGRvY3VtZW50IGZvciB0aGUgZmlyc3QgbG9jYXRpb24gb2YgdGhpcyBlcnJvci5cbiAgICpcbiAgICogTm90ZSB0aGF0IGlmIHRoaXMgRXJyb3IgcmVwcmVzZW50cyBtb3JlIHRoYW4gb25lIG5vZGUsIHRoZSBzb3VyY2UgbWF5IG5vdFxuICAgKiByZXByZXNlbnQgbm9kZXMgYWZ0ZXIgdGhlIGZpcnN0IG5vZGUuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGFyYWN0ZXIgb2Zmc2V0cyB3aXRoaW4gdGhlIHNvdXJjZSBHcmFwaFFMIGRvY3VtZW50XG4gICAqIHdoaWNoIGNvcnJlc3BvbmQgdG8gdGhpcyBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBvcmlnaW5hbCBlcnJvciB0aHJvd24gZnJvbSBhIGZpZWxkIHJlc29sdmVyIGR1cmluZyBleGVjdXRpb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBFeHRlbnNpb24gZmllbGRzIHRvIGFkZCB0byB0aGUgZm9ybWF0dGVkIGVycm9yLlxuICAgKi9cbiAgZnVuY3Rpb24gR3JhcGhRTEVycm9yKG1lc3NhZ2UsIG5vZGVzLCBzb3VyY2UsIHBvc2l0aW9ucywgcGF0aCwgb3JpZ2luYWxFcnJvciwgZXh0ZW5zaW9ucykge1xuICAgIHZhciBfbG9jYXRpb25zMiwgX3NvdXJjZTIsIF9wb3NpdGlvbnMyLCBfZXh0ZW5zaW9uczI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhRTEVycm9yKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7IC8vIENvbXB1dGUgbGlzdCBvZiBibGFtZSBub2Rlcy5cblxuICAgIHZhciBfbm9kZXMgPSBBcnJheS5pc0FycmF5KG5vZGVzKSA/IG5vZGVzLmxlbmd0aCAhPT0gMCA/IG5vZGVzIDogdW5kZWZpbmVkIDogbm9kZXMgPyBbbm9kZXNdIDogdW5kZWZpbmVkOyAvLyBDb21wdXRlIGxvY2F0aW9ucyBpbiB0aGUgc291cmNlIGZvciB0aGUgZ2l2ZW4gbm9kZXMvcG9zaXRpb25zLlxuXG5cbiAgICB2YXIgX3NvdXJjZSA9IHNvdXJjZTtcblxuICAgIGlmICghX3NvdXJjZSAmJiBfbm9kZXMpIHtcbiAgICAgIHZhciBfbm9kZXMkMCRsb2M7XG5cbiAgICAgIF9zb3VyY2UgPSAoX25vZGVzJDAkbG9jID0gX25vZGVzWzBdLmxvYykgPT09IG51bGwgfHwgX25vZGVzJDAkbG9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZXMkMCRsb2Muc291cmNlO1xuICAgIH1cblxuICAgIHZhciBfcG9zaXRpb25zID0gcG9zaXRpb25zO1xuXG4gICAgaWYgKCFfcG9zaXRpb25zICYmIF9ub2Rlcykge1xuICAgICAgX3Bvc2l0aW9ucyA9IF9ub2Rlcy5yZWR1Y2UoZnVuY3Rpb24gKGxpc3QsIG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubG9jKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKG5vZGUubG9jLnN0YXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfSwgW10pO1xuICAgIH1cblxuICAgIGlmIChfcG9zaXRpb25zICYmIF9wb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBfcG9zaXRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBfbG9jYXRpb25zO1xuXG4gICAgaWYgKHBvc2l0aW9ucyAmJiBzb3VyY2UpIHtcbiAgICAgIF9sb2NhdGlvbnMgPSBwb3NpdGlvbnMubWFwKGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbG9jYXRpb24uZ2V0TG9jYXRpb24pKHNvdXJjZSwgcG9zKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoX25vZGVzKSB7XG4gICAgICBfbG9jYXRpb25zID0gX25vZGVzLnJlZHVjZShmdW5jdGlvbiAobGlzdCwgbm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sb2MpIHtcbiAgICAgICAgICBsaXN0LnB1c2goKDAsIF9sb2NhdGlvbi5nZXRMb2NhdGlvbikobm9kZS5sb2Muc291cmNlLCBub2RlLmxvYy5zdGFydCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgdmFyIF9leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcblxuICAgIGlmIChfZXh0ZW5zaW9ucyA9PSBudWxsICYmIG9yaWdpbmFsRXJyb3IgIT0gbnVsbCkge1xuICAgICAgdmFyIG9yaWdpbmFsRXh0ZW5zaW9ucyA9IG9yaWdpbmFsRXJyb3IuZXh0ZW5zaW9ucztcblxuICAgICAgaWYgKCgwLCBfaXNPYmplY3RMaWtlLmRlZmF1bHQpKG9yaWdpbmFsRXh0ZW5zaW9ucykpIHtcbiAgICAgICAgX2V4dGVuc2lvbnMgPSBvcmlnaW5hbEV4dGVuc2lvbnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdmFsdWU6ICdHcmFwaFFMRXJyb3InXG4gICAgICB9LFxuICAgICAgbWVzc2FnZToge1xuICAgICAgICB2YWx1ZTogbWVzc2FnZSxcbiAgICAgICAgLy8gQnkgYmVpbmcgZW51bWVyYWJsZSwgSlNPTi5zdHJpbmdpZnkgd2lsbCBpbmNsdWRlIGBtZXNzYWdlYCBpbiB0aGVcbiAgICAgICAgLy8gcmVzdWx0aW5nIG91dHB1dC4gVGhpcyBlbnN1cmVzIHRoYXQgdGhlIHNpbXBsZXN0IHBvc3NpYmxlIEdyYXBoUUxcbiAgICAgICAgLy8gc2VydmljZSBhZGhlcmVzIHRvIHRoZSBzcGVjLlxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGxvY2F0aW9uczoge1xuICAgICAgICAvLyBDb2VyY2luZyBmYWxzeSB2YWx1ZXMgdG8gdW5kZWZpbmVkIGVuc3VyZXMgdGhleSB3aWxsIG5vdCBiZSBpbmNsdWRlZFxuICAgICAgICAvLyBpbiBKU09OLnN0cmluZ2lmeSgpIHdoZW4gbm90IHByb3ZpZGVkLlxuICAgICAgICB2YWx1ZTogKF9sb2NhdGlvbnMyID0gX2xvY2F0aW9ucykgIT09IG51bGwgJiYgX2xvY2F0aW9uczIgIT09IHZvaWQgMCA/IF9sb2NhdGlvbnMyIDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBCeSBiZWluZyBlbnVtZXJhYmxlLCBKU09OLnN0cmluZ2lmeSB3aWxsIGluY2x1ZGUgYGxvY2F0aW9uc2AgaW4gdGhlXG4gICAgICAgIC8vIHJlc3VsdGluZyBvdXRwdXQuIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBzaW1wbGVzdCBwb3NzaWJsZSBHcmFwaFFMXG4gICAgICAgIC8vIHNlcnZpY2UgYWRoZXJlcyB0byB0aGUgc3BlYy5cbiAgICAgICAgZW51bWVyYWJsZTogX2xvY2F0aW9ucyAhPSBudWxsXG4gICAgICB9LFxuICAgICAgcGF0aDoge1xuICAgICAgICAvLyBDb2VyY2luZyBmYWxzeSB2YWx1ZXMgdG8gdW5kZWZpbmVkIGVuc3VyZXMgdGhleSB3aWxsIG5vdCBiZSBpbmNsdWRlZFxuICAgICAgICAvLyBpbiBKU09OLnN0cmluZ2lmeSgpIHdoZW4gbm90IHByb3ZpZGVkLlxuICAgICAgICB2YWx1ZTogcGF0aCAhPT0gbnVsbCAmJiBwYXRoICE9PSB2b2lkIDAgPyBwYXRoIDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBCeSBiZWluZyBlbnVtZXJhYmxlLCBKU09OLnN0cmluZ2lmeSB3aWxsIGluY2x1ZGUgYHBhdGhgIGluIHRoZVxuICAgICAgICAvLyByZXN1bHRpbmcgb3V0cHV0LiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgc2ltcGxlc3QgcG9zc2libGUgR3JhcGhRTFxuICAgICAgICAvLyBzZXJ2aWNlIGFkaGVyZXMgdG8gdGhlIHNwZWMuXG4gICAgICAgIGVudW1lcmFibGU6IHBhdGggIT0gbnVsbFxuICAgICAgfSxcbiAgICAgIG5vZGVzOiB7XG4gICAgICAgIHZhbHVlOiBfbm9kZXMgIT09IG51bGwgJiYgX25vZGVzICE9PSB2b2lkIDAgPyBfbm9kZXMgOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgdmFsdWU6IChfc291cmNlMiA9IF9zb3VyY2UpICE9PSBudWxsICYmIF9zb3VyY2UyICE9PSB2b2lkIDAgPyBfc291cmNlMiA6IHVuZGVmaW5lZFxuICAgICAgfSxcbiAgICAgIHBvc2l0aW9uczoge1xuICAgICAgICB2YWx1ZTogKF9wb3NpdGlvbnMyID0gX3Bvc2l0aW9ucykgIT09IG51bGwgJiYgX3Bvc2l0aW9uczIgIT09IHZvaWQgMCA/IF9wb3NpdGlvbnMyIDogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgb3JpZ2luYWxFcnJvcjoge1xuICAgICAgICB2YWx1ZTogb3JpZ2luYWxFcnJvclxuICAgICAgfSxcbiAgICAgIGV4dGVuc2lvbnM6IHtcbiAgICAgICAgLy8gQ29lcmNpbmcgZmFsc3kgdmFsdWVzIHRvIHVuZGVmaW5lZCBlbnN1cmVzIHRoZXkgd2lsbCBub3QgYmUgaW5jbHVkZWRcbiAgICAgICAgLy8gaW4gSlNPTi5zdHJpbmdpZnkoKSB3aGVuIG5vdCBwcm92aWRlZC5cbiAgICAgICAgdmFsdWU6IChfZXh0ZW5zaW9uczIgPSBfZXh0ZW5zaW9ucykgIT09IG51bGwgJiYgX2V4dGVuc2lvbnMyICE9PSB2b2lkIDAgPyBfZXh0ZW5zaW9uczIgOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEJ5IGJlaW5nIGVudW1lcmFibGUsIEpTT04uc3RyaW5naWZ5IHdpbGwgaW5jbHVkZSBgcGF0aGAgaW4gdGhlXG4gICAgICAgIC8vIHJlc3VsdGluZyBvdXRwdXQuIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBzaW1wbGVzdCBwb3NzaWJsZSBHcmFwaFFMXG4gICAgICAgIC8vIHNlcnZpY2UgYWRoZXJlcyB0byB0aGUgc3BlYy5cbiAgICAgICAgZW51bWVyYWJsZTogX2V4dGVuc2lvbnMgIT0gbnVsbFxuICAgICAgfVxuICAgIH0pOyAvLyBJbmNsdWRlIChub24tZW51bWVyYWJsZSkgc3RhY2sgdHJhY2UuXG5cbiAgICBpZiAob3JpZ2luYWxFcnJvciA9PT0gbnVsbCB8fCBvcmlnaW5hbEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLnN0YWNrKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICdzdGFjaycsIHtcbiAgICAgICAgdmFsdWU6IG9yaWdpbmFsRXJyb3Iuc3RhY2ssXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzKTtcbiAgICB9IC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0IChTZWU6ICdodHRwczovL2dpdGh1Yi5jb20vZ3JhcGhxbC9ncmFwaHFsLWpzL2lzc3Vlcy8yMzE3JylcblxuXG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgR3JhcGhRTEVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAnc3RhY2snLCB7XG4gICAgICAgIHZhbHVlOiBFcnJvcigpLnN0YWNrLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR3JhcGhRTEVycm9yLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBwcmludEVycm9yKHRoaXMpO1xuICAgIH0gLy8gRklYTUU6IHdvcmthcm91bmQgdG8gbm90IGJyZWFrIGNoYWkgY29tcGFyaXNvbnMsIHNob3VsZCBiZSByZW1vdmUgaW4gdjE2XG4gICAgLy8gJEZsb3dGaXhNZSBGbG93IGRvZXNuJ3Qgc3VwcG9ydCBjb21wdXRlZCBwcm9wZXJ0aWVzIHlldFxuXG4gIH0sIHtcbiAgICBrZXk6IF9zeW1ib2xzLlNZTUJPTF9UT19TVFJJTkdfVEFHLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdPYmplY3QnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHcmFwaFFMRXJyb3I7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuLyoqXG4gKiBQcmludHMgYSBHcmFwaFFMRXJyb3IgdG8gYSBzdHJpbmcsIHJlcHJlc2VudGluZyB1c2VmdWwgbG9jYXRpb24gaW5mb3JtYXRpb25cbiAqIGFib3V0IHRoZSBlcnJvcidzIHBvc2l0aW9uIGluIHRoZSBzb3VyY2UuXG4gKi9cblxuXG5leHBvcnRzLkdyYXBoUUxFcnJvciA9IEdyYXBoUUxFcnJvcjtcblxuZnVuY3Rpb24gcHJpbnRFcnJvcihlcnJvcikge1xuICB2YXIgb3V0cHV0ID0gZXJyb3IubWVzc2FnZTtcblxuICBpZiAoZXJyb3Iubm9kZXMpIHtcbiAgICBmb3IgKHZhciBfaTIgPSAwLCBfZXJyb3Ikbm9kZXMyID0gZXJyb3Iubm9kZXM7IF9pMiA8IF9lcnJvciRub2RlczIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgdmFyIG5vZGUgPSBfZXJyb3Ikbm9kZXMyW19pMl07XG5cbiAgICAgIGlmIChub2RlLmxvYykge1xuICAgICAgICBvdXRwdXQgKz0gJ1xcblxcbicgKyAoMCwgX3ByaW50TG9jYXRpb24ucHJpbnRMb2NhdGlvbikobm9kZS5sb2MpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChlcnJvci5zb3VyY2UgJiYgZXJyb3IubG9jYXRpb25zKSB7XG4gICAgZm9yICh2YXIgX2k0ID0gMCwgX2Vycm9yJGxvY2F0aW9uczIgPSBlcnJvci5sb2NhdGlvbnM7IF9pNCA8IF9lcnJvciRsb2NhdGlvbnMyLmxlbmd0aDsgX2k0KyspIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IF9lcnJvciRsb2NhdGlvbnMyW19pNF07XG4gICAgICBvdXRwdXQgKz0gJ1xcblxcbicgKyAoMCwgX3ByaW50TG9jYXRpb24ucHJpbnRTb3VyY2VMb2NhdGlvbikoZXJyb3Iuc291cmNlLCBsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNPYmplY3RMaWtlO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdFxuICogYG51bGxgIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiBfdHlwZW9mKHZhbHVlKSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmludExvY2F0aW9uID0gcHJpbnRMb2NhdGlvbjtcbmV4cG9ydHMucHJpbnRTb3VyY2VMb2NhdGlvbiA9IHByaW50U291cmNlTG9jYXRpb247XG5cbnZhciBfbG9jYXRpb24gPSByZXF1aXJlKFwiLi9sb2NhdGlvblwiKTtcblxuLyoqXG4gKiBSZW5kZXIgYSBoZWxwZnVsIGRlc2NyaXB0aW9uIG9mIHRoZSBsb2NhdGlvbiBpbiB0aGUgR3JhcGhRTCBTb3VyY2UgZG9jdW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHByaW50TG9jYXRpb24obG9jYXRpb24pIHtcbiAgcmV0dXJuIHByaW50U291cmNlTG9jYXRpb24obG9jYXRpb24uc291cmNlLCAoMCwgX2xvY2F0aW9uLmdldExvY2F0aW9uKShsb2NhdGlvbi5zb3VyY2UsIGxvY2F0aW9uLnN0YXJ0KSk7XG59XG4vKipcbiAqIFJlbmRlciBhIGhlbHBmdWwgZGVzY3JpcHRpb24gb2YgdGhlIGxvY2F0aW9uIGluIHRoZSBHcmFwaFFMIFNvdXJjZSBkb2N1bWVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHByaW50U291cmNlTG9jYXRpb24oc291cmNlLCBzb3VyY2VMb2NhdGlvbikge1xuICB2YXIgZmlyc3RMaW5lQ29sdW1uT2Zmc2V0ID0gc291cmNlLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbiAtIDE7XG4gIHZhciBib2R5ID0gd2hpdGVzcGFjZShmaXJzdExpbmVDb2x1bW5PZmZzZXQpICsgc291cmNlLmJvZHk7XG4gIHZhciBsaW5lSW5kZXggPSBzb3VyY2VMb2NhdGlvbi5saW5lIC0gMTtcbiAgdmFyIGxpbmVPZmZzZXQgPSBzb3VyY2UubG9jYXRpb25PZmZzZXQubGluZSAtIDE7XG4gIHZhciBsaW5lTnVtID0gc291cmNlTG9jYXRpb24ubGluZSArIGxpbmVPZmZzZXQ7XG4gIHZhciBjb2x1bW5PZmZzZXQgPSBzb3VyY2VMb2NhdGlvbi5saW5lID09PSAxID8gZmlyc3RMaW5lQ29sdW1uT2Zmc2V0IDogMDtcbiAgdmFyIGNvbHVtbk51bSA9IHNvdXJjZUxvY2F0aW9uLmNvbHVtbiArIGNvbHVtbk9mZnNldDtcbiAgdmFyIGxvY2F0aW9uU3RyID0gXCJcIi5jb25jYXQoc291cmNlLm5hbWUsIFwiOlwiKS5jb25jYXQobGluZU51bSwgXCI6XCIpLmNvbmNhdChjb2x1bW5OdW0sIFwiXFxuXCIpO1xuICB2YXIgbGluZXMgPSBib2R5LnNwbGl0KC9cXHJcXG58W1xcblxccl0vZyk7XG4gIHZhciBsb2NhdGlvbkxpbmUgPSBsaW5lc1tsaW5lSW5kZXhdOyAvLyBTcGVjaWFsIGNhc2UgZm9yIG1pbmlmaWVkIGRvY3VtZW50c1xuXG4gIGlmIChsb2NhdGlvbkxpbmUubGVuZ3RoID4gMTIwKSB7XG4gICAgdmFyIHN1YkxpbmVJbmRleCA9IE1hdGguZmxvb3IoY29sdW1uTnVtIC8gODApO1xuICAgIHZhciBzdWJMaW5lQ29sdW1uTnVtID0gY29sdW1uTnVtICUgODA7XG4gICAgdmFyIHN1YkxpbmVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvY2F0aW9uTGluZS5sZW5ndGg7IGkgKz0gODApIHtcbiAgICAgIHN1YkxpbmVzLnB1c2gobG9jYXRpb25MaW5lLnNsaWNlKGksIGkgKyA4MCkpO1xuICAgIH1cblxuICAgIHJldHVybiBsb2NhdGlvblN0ciArIHByaW50UHJlZml4ZWRMaW5lcyhbW1wiXCIuY29uY2F0KGxpbmVOdW0pLCBzdWJMaW5lc1swXV1dLmNvbmNhdChzdWJMaW5lcy5zbGljZSgxLCBzdWJMaW5lSW5kZXggKyAxKS5tYXAoZnVuY3Rpb24gKHN1YkxpbmUpIHtcbiAgICAgIHJldHVybiBbJycsIHN1YkxpbmVdO1xuICAgIH0pLCBbWycgJywgd2hpdGVzcGFjZShzdWJMaW5lQ29sdW1uTnVtIC0gMSkgKyAnXiddLCBbJycsIHN1YkxpbmVzW3N1YkxpbmVJbmRleCArIDFdXV0pKTtcbiAgfVxuXG4gIHJldHVybiBsb2NhdGlvblN0ciArIHByaW50UHJlZml4ZWRMaW5lcyhbLy8gTGluZXMgc3BlY2lmaWVkIGxpa2UgdGhpczogW1wicHJlZml4XCIsIFwic3RyaW5nXCJdLFxuICBbXCJcIi5jb25jYXQobGluZU51bSAtIDEpLCBsaW5lc1tsaW5lSW5kZXggLSAxXV0sIFtcIlwiLmNvbmNhdChsaW5lTnVtKSwgbG9jYXRpb25MaW5lXSwgWycnLCB3aGl0ZXNwYWNlKGNvbHVtbk51bSAtIDEpICsgJ14nXSwgW1wiXCIuY29uY2F0KGxpbmVOdW0gKyAxKSwgbGluZXNbbGluZUluZGV4ICsgMV1dXSk7XG59XG5cbmZ1bmN0aW9uIHByaW50UHJlZml4ZWRMaW5lcyhsaW5lcykge1xuICB2YXIgZXhpc3RpbmdMaW5lcyA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBfID0gX3JlZlswXSxcbiAgICAgICAgbGluZSA9IF9yZWZbMV07XG4gICAgcmV0dXJuIGxpbmUgIT09IHVuZGVmaW5lZDtcbiAgfSk7XG4gIHZhciBwYWRMZW4gPSBNYXRoLm1heC5hcHBseShNYXRoLCBleGlzdGluZ0xpbmVzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgcHJlZml4ID0gX3JlZjJbMF07XG4gICAgcmV0dXJuIHByZWZpeC5sZW5ndGg7XG4gIH0pKTtcbiAgcmV0dXJuIGV4aXN0aW5nTGluZXMubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgIHZhciBwcmVmaXggPSBfcmVmM1swXSxcbiAgICAgICAgbGluZSA9IF9yZWYzWzFdO1xuICAgIHJldHVybiBsZWZ0UGFkKHBhZExlbiwgcHJlZml4KSArIChsaW5lID8gJyB8ICcgKyBsaW5lIDogJyB8Jyk7XG4gIH0pLmpvaW4oJ1xcbicpO1xufVxuXG5mdW5jdGlvbiB3aGl0ZXNwYWNlKGxlbikge1xuICByZXR1cm4gQXJyYXkobGVuICsgMSkuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiBsZWZ0UGFkKGxlbiwgc3RyKSB7XG4gIHJldHVybiB3aGl0ZXNwYWNlKGxlbiAtIHN0ci5sZW5ndGgpICsgc3RyO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLktpbmQgPSB2b2lkIDA7XG5cbi8qKlxuICogVGhlIHNldCBvZiBhbGxvd2VkIGtpbmQgdmFsdWVzIGZvciBBU1Qgbm9kZXMuXG4gKi9cbnZhciBLaW5kID0gT2JqZWN0LmZyZWV6ZSh7XG4gIC8vIE5hbWVcbiAgTkFNRTogJ05hbWUnLFxuICAvLyBEb2N1bWVudFxuICBET0NVTUVOVDogJ0RvY3VtZW50JyxcbiAgT1BFUkFUSU9OX0RFRklOSVRJT046ICdPcGVyYXRpb25EZWZpbml0aW9uJyxcbiAgVkFSSUFCTEVfREVGSU5JVElPTjogJ1ZhcmlhYmxlRGVmaW5pdGlvbicsXG4gIFNFTEVDVElPTl9TRVQ6ICdTZWxlY3Rpb25TZXQnLFxuICBGSUVMRDogJ0ZpZWxkJyxcbiAgQVJHVU1FTlQ6ICdBcmd1bWVudCcsXG4gIC8vIEZyYWdtZW50c1xuICBGUkFHTUVOVF9TUFJFQUQ6ICdGcmFnbWVudFNwcmVhZCcsXG4gIElOTElORV9GUkFHTUVOVDogJ0lubGluZUZyYWdtZW50JyxcbiAgRlJBR01FTlRfREVGSU5JVElPTjogJ0ZyYWdtZW50RGVmaW5pdGlvbicsXG4gIC8vIFZhbHVlc1xuICBWQVJJQUJMRTogJ1ZhcmlhYmxlJyxcbiAgSU5UOiAnSW50VmFsdWUnLFxuICBGTE9BVDogJ0Zsb2F0VmFsdWUnLFxuICBTVFJJTkc6ICdTdHJpbmdWYWx1ZScsXG4gIEJPT0xFQU46ICdCb29sZWFuVmFsdWUnLFxuICBOVUxMOiAnTnVsbFZhbHVlJyxcbiAgRU5VTTogJ0VudW1WYWx1ZScsXG4gIExJU1Q6ICdMaXN0VmFsdWUnLFxuICBPQkpFQ1Q6ICdPYmplY3RWYWx1ZScsXG4gIE9CSkVDVF9GSUVMRDogJ09iamVjdEZpZWxkJyxcbiAgLy8gRGlyZWN0aXZlc1xuICBESVJFQ1RJVkU6ICdEaXJlY3RpdmUnLFxuICAvLyBUeXBlc1xuICBOQU1FRF9UWVBFOiAnTmFtZWRUeXBlJyxcbiAgTElTVF9UWVBFOiAnTGlzdFR5cGUnLFxuICBOT05fTlVMTF9UWVBFOiAnTm9uTnVsbFR5cGUnLFxuICAvLyBUeXBlIFN5c3RlbSBEZWZpbml0aW9uc1xuICBTQ0hFTUFfREVGSU5JVElPTjogJ1NjaGVtYURlZmluaXRpb24nLFxuICBPUEVSQVRJT05fVFlQRV9ERUZJTklUSU9OOiAnT3BlcmF0aW9uVHlwZURlZmluaXRpb24nLFxuICAvLyBUeXBlIERlZmluaXRpb25zXG4gIFNDQUxBUl9UWVBFX0RFRklOSVRJT046ICdTY2FsYXJUeXBlRGVmaW5pdGlvbicsXG4gIE9CSkVDVF9UWVBFX0RFRklOSVRJT046ICdPYmplY3RUeXBlRGVmaW5pdGlvbicsXG4gIEZJRUxEX0RFRklOSVRJT046ICdGaWVsZERlZmluaXRpb24nLFxuICBJTlBVVF9WQUxVRV9ERUZJTklUSU9OOiAnSW5wdXRWYWx1ZURlZmluaXRpb24nLFxuICBJTlRFUkZBQ0VfVFlQRV9ERUZJTklUSU9OOiAnSW50ZXJmYWNlVHlwZURlZmluaXRpb24nLFxuICBVTklPTl9UWVBFX0RFRklOSVRJT046ICdVbmlvblR5cGVEZWZpbml0aW9uJyxcbiAgRU5VTV9UWVBFX0RFRklOSVRJT046ICdFbnVtVHlwZURlZmluaXRpb24nLFxuICBFTlVNX1ZBTFVFX0RFRklOSVRJT046ICdFbnVtVmFsdWVEZWZpbml0aW9uJyxcbiAgSU5QVVRfT0JKRUNUX1RZUEVfREVGSU5JVElPTjogJ0lucHV0T2JqZWN0VHlwZURlZmluaXRpb24nLFxuICAvLyBEaXJlY3RpdmUgRGVmaW5pdGlvbnNcbiAgRElSRUNUSVZFX0RFRklOSVRJT046ICdEaXJlY3RpdmVEZWZpbml0aW9uJyxcbiAgLy8gVHlwZSBTeXN0ZW0gRXh0ZW5zaW9uc1xuICBTQ0hFTUFfRVhURU5TSU9OOiAnU2NoZW1hRXh0ZW5zaW9uJyxcbiAgLy8gVHlwZSBFeHRlbnNpb25zXG4gIFNDQUxBUl9UWVBFX0VYVEVOU0lPTjogJ1NjYWxhclR5cGVFeHRlbnNpb24nLFxuICBPQkpFQ1RfVFlQRV9FWFRFTlNJT046ICdPYmplY3RUeXBlRXh0ZW5zaW9uJyxcbiAgSU5URVJGQUNFX1RZUEVfRVhURU5TSU9OOiAnSW50ZXJmYWNlVHlwZUV4dGVuc2lvbicsXG4gIFVOSU9OX1RZUEVfRVhURU5TSU9OOiAnVW5pb25UeXBlRXh0ZW5zaW9uJyxcbiAgRU5VTV9UWVBFX0VYVEVOU0lPTjogJ0VudW1UeXBlRXh0ZW5zaW9uJyxcbiAgSU5QVVRfT0JKRUNUX1RZUEVfRVhURU5TSU9OOiAnSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uJ1xufSk7XG4vKipcbiAqIFRoZSBlbnVtIHR5cGUgcmVwcmVzZW50aW5nIHRoZSBwb3NzaWJsZSBraW5kIHZhbHVlcyBvZiBBU1Qgbm9kZXMuXG4gKi9cblxuZXhwb3J0cy5LaW5kID0gS2luZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Tb3VyY2UgPSB2b2lkIDA7XG5cbnZhciBfc3ltYm9scyA9IHJlcXVpcmUoXCIuLi9wb2x5ZmlsbHMvc3ltYm9sc1wiKTtcblxudmFyIF9kZXZBc3NlcnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9qc3V0aWxzL2RldkFzc2VydFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIHNvdXJjZSBpbnB1dCB0byBHcmFwaFFMLlxuICogYG5hbWVgIGFuZCBgbG9jYXRpb25PZmZzZXRgIGFyZSBvcHRpb25hbC4gVGhleSBhcmUgdXNlZnVsIGZvciBjbGllbnRzIHdob1xuICogc3RvcmUgR3JhcGhRTCBkb2N1bWVudHMgaW4gc291cmNlIGZpbGVzOyBmb3IgZXhhbXBsZSwgaWYgdGhlIEdyYXBoUUwgaW5wdXRcbiAqIHN0YXJ0cyBhdCBsaW5lIDQwIGluIGEgZmlsZSBuYW1lZCBGb28uZ3JhcGhxbCwgaXQgbWlnaHQgYmUgdXNlZnVsIGZvciBuYW1lIHRvXG4gKiBiZSBcIkZvby5ncmFwaHFsXCIgYW5kIGxvY2F0aW9uIHRvIGJlIGB7IGxpbmU6IDQwLCBjb2x1bW46IDAgfWAuXG4gKiBsaW5lIGFuZCBjb2x1bW4gaW4gbG9jYXRpb25PZmZzZXQgYXJlIDEtaW5kZXhlZFxuICovXG52YXIgU291cmNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU291cmNlKGJvZHkpIHtcbiAgICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ0dyYXBoUUwgcmVxdWVzdCc7XG4gICAgdmFyIGxvY2F0aW9uT2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7XG4gICAgICBsaW5lOiAxLFxuICAgICAgY29sdW1uOiAxXG4gICAgfTtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5sb2NhdGlvbk9mZnNldCA9IGxvY2F0aW9uT2Zmc2V0O1xuICAgIHRoaXMubG9jYXRpb25PZmZzZXQubGluZSA+IDAgfHwgKDAsIF9kZXZBc3NlcnQuZGVmYXVsdCkoMCwgJ2xpbmUgaW4gbG9jYXRpb25PZmZzZXQgaXMgMS1pbmRleGVkIGFuZCBtdXN0IGJlIHBvc2l0aXZlLicpO1xuICAgIHRoaXMubG9jYXRpb25PZmZzZXQuY29sdW1uID4gMCB8fCAoMCwgX2RldkFzc2VydC5kZWZhdWx0KSgwLCAnY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4nKTtcbiAgfSAvLyAkRmxvd0ZpeE1lIEZsb3cgZG9lc24ndCBzdXBwb3J0IGNvbXB1dGVkIHByb3BlcnRpZXMgeWV0XG5cblxuICBfY3JlYXRlQ2xhc3MoU291cmNlLCBbe1xuICAgIGtleTogX3N5bWJvbHMuU1lNQk9MX1RPX1NUUklOR19UQUcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NvdXJjZSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNvdXJjZTtcbn0oKTtcblxuZXhwb3J0cy5Tb3VyY2UgPSBTb3VyY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRGlyZWN0aXZlTG9jYXRpb24gPSB2b2lkIDA7XG5cbi8qKlxuICogVGhlIHNldCBvZiBhbGxvd2VkIGRpcmVjdGl2ZSBsb2NhdGlvbiB2YWx1ZXMuXG4gKi9cbnZhciBEaXJlY3RpdmVMb2NhdGlvbiA9IE9iamVjdC5mcmVlemUoe1xuICAvLyBSZXF1ZXN0IERlZmluaXRpb25zXG4gIFFVRVJZOiAnUVVFUlknLFxuICBNVVRBVElPTjogJ01VVEFUSU9OJyxcbiAgU1VCU0NSSVBUSU9OOiAnU1VCU0NSSVBUSU9OJyxcbiAgRklFTEQ6ICdGSUVMRCcsXG4gIEZSQUdNRU5UX0RFRklOSVRJT046ICdGUkFHTUVOVF9ERUZJTklUSU9OJyxcbiAgRlJBR01FTlRfU1BSRUFEOiAnRlJBR01FTlRfU1BSRUFEJyxcbiAgSU5MSU5FX0ZSQUdNRU5UOiAnSU5MSU5FX0ZSQUdNRU5UJyxcbiAgVkFSSUFCTEVfREVGSU5JVElPTjogJ1ZBUklBQkxFX0RFRklOSVRJT04nLFxuICAvLyBUeXBlIFN5c3RlbSBEZWZpbml0aW9uc1xuICBTQ0hFTUE6ICdTQ0hFTUEnLFxuICBTQ0FMQVI6ICdTQ0FMQVInLFxuICBPQkpFQ1Q6ICdPQkpFQ1QnLFxuICBGSUVMRF9ERUZJTklUSU9OOiAnRklFTERfREVGSU5JVElPTicsXG4gIEFSR1VNRU5UX0RFRklOSVRJT046ICdBUkdVTUVOVF9ERUZJTklUSU9OJyxcbiAgSU5URVJGQUNFOiAnSU5URVJGQUNFJyxcbiAgVU5JT046ICdVTklPTicsXG4gIEVOVU06ICdFTlVNJyxcbiAgRU5VTV9WQUxVRTogJ0VOVU1fVkFMVUUnLFxuICBJTlBVVF9PQkpFQ1Q6ICdJTlBVVF9PQkpFQ1QnLFxuICBJTlBVVF9GSUVMRF9ERUZJTklUSU9OOiAnSU5QVVRfRklFTERfREVGSU5JVElPTidcbn0pO1xuLyoqXG4gKiBUaGUgZW51bSB0eXBlIHJlcHJlc2VudGluZyB0aGUgZGlyZWN0aXZlIGxvY2F0aW9uIHZhbHVlcy5cbiAqL1xuXG5leHBvcnRzLkRpcmVjdGl2ZUxvY2F0aW9uID0gRGlyZWN0aXZlTG9jYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNQdW5jdHVhdG9yVG9rZW5LaW5kID0gaXNQdW5jdHVhdG9yVG9rZW5LaW5kO1xuZXhwb3J0cy5MZXhlciA9IHZvaWQgMDtcblxudmFyIF9zeW50YXhFcnJvciA9IHJlcXVpcmUoXCIuLi9lcnJvci9zeW50YXhFcnJvclwiKTtcblxudmFyIF9hc3QgPSByZXF1aXJlKFwiLi9hc3RcIik7XG5cbnZhciBfYmxvY2tTdHJpbmcgPSByZXF1aXJlKFwiLi9ibG9ja1N0cmluZ1wiKTtcblxudmFyIF90b2tlbktpbmQgPSByZXF1aXJlKFwiLi90b2tlbktpbmRcIik7XG5cbi8qKlxuICogR2l2ZW4gYSBTb3VyY2Ugb2JqZWN0LCBjcmVhdGVzIGEgTGV4ZXIgZm9yIHRoYXQgc291cmNlLlxuICogQSBMZXhlciBpcyBhIHN0YXRlZnVsIHN0cmVhbSBnZW5lcmF0b3IgaW4gdGhhdCBldmVyeSB0aW1lXG4gKiBpdCBpcyBhZHZhbmNlZCwgaXQgcmV0dXJucyB0aGUgbmV4dCB0b2tlbiBpbiB0aGUgU291cmNlLiBBc3N1bWluZyB0aGVcbiAqIHNvdXJjZSBsZXhlcywgdGhlIGZpbmFsIFRva2VuIGVtaXR0ZWQgYnkgdGhlIGxleGVyIHdpbGwgYmUgb2Yga2luZFxuICogRU9GLCBhZnRlciB3aGljaCB0aGUgbGV4ZXIgd2lsbCByZXBlYXRlZGx5IHJldHVybiB0aGUgc2FtZSBFT0YgdG9rZW5cbiAqIHdoZW5ldmVyIGNhbGxlZC5cbiAqL1xudmFyIExleGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFRoZSBwcmV2aW91c2x5IGZvY3VzZWQgbm9uLWlnbm9yZWQgdG9rZW4uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGZvY3VzZWQgbm9uLWlnbm9yZWQgdG9rZW4uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgKDEtaW5kZXhlZCkgbGluZSBjb250YWluaW5nIHRoZSBjdXJyZW50IHRva2VuLlxuICAgKi9cblxuICAvKipcbiAgICogVGhlIGNoYXJhY3RlciBvZmZzZXQgYXQgd2hpY2ggdGhlIGN1cnJlbnQgbGluZSBiZWdpbnMuXG4gICAqL1xuICBmdW5jdGlvbiBMZXhlcihzb3VyY2UpIHtcbiAgICB2YXIgc3RhcnRPZkZpbGVUb2tlbiA9IG5ldyBfYXN0LlRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLlNPRiwgMCwgMCwgMCwgMCwgbnVsbCk7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5sYXN0VG9rZW4gPSBzdGFydE9mRmlsZVRva2VuO1xuICAgIHRoaXMudG9rZW4gPSBzdGFydE9mRmlsZVRva2VuO1xuICAgIHRoaXMubGluZSA9IDE7XG4gICAgdGhpcy5saW5lU3RhcnQgPSAwO1xuICB9XG4gIC8qKlxuICAgKiBBZHZhbmNlcyB0aGUgdG9rZW4gc3RyZWFtIHRvIHRoZSBuZXh0IG5vbi1pZ25vcmVkIHRva2VuLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBMZXhlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkdmFuY2UgPSBmdW5jdGlvbiBhZHZhbmNlKCkge1xuICAgIHRoaXMubGFzdFRva2VuID0gdGhpcy50b2tlbjtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLnRva2VuID0gdGhpcy5sb29rYWhlYWQoKTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cbiAgLyoqXG4gICAqIExvb2tzIGFoZWFkIGFuZCByZXR1cm5zIHRoZSBuZXh0IG5vbi1pZ25vcmVkIHRva2VuLCBidXQgZG9lcyBub3QgY2hhbmdlXG4gICAqIHRoZSBzdGF0ZSBvZiBMZXhlci5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9va2FoZWFkID0gZnVuY3Rpb24gbG9va2FoZWFkKCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW47XG5cbiAgICBpZiAodG9rZW4ua2luZCAhPT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuRU9GKSB7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBfdG9rZW4kbmV4dDtcblxuICAgICAgICAvLyBOb3RlOiBuZXh0IGlzIG9ubHkgbXV0YWJsZSBkdXJpbmcgcGFyc2luZywgc28gd2UgY2FzdCB0byBhbGxvdyB0aGlzLlxuICAgICAgICB0b2tlbiA9IChfdG9rZW4kbmV4dCA9IHRva2VuLm5leHQpICE9PSBudWxsICYmIF90b2tlbiRuZXh0ICE9PSB2b2lkIDAgPyBfdG9rZW4kbmV4dCA6IHRva2VuLm5leHQgPSByZWFkVG9rZW4odGhpcywgdG9rZW4pO1xuICAgICAgfSB3aGlsZSAodG9rZW4ua2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuQ09NTUVOVCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xuICB9O1xuXG4gIHJldHVybiBMZXhlcjtcbn0oKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cblxuXG5leHBvcnRzLkxleGVyID0gTGV4ZXI7XG5cbmZ1bmN0aW9uIGlzUHVuY3R1YXRvclRva2VuS2luZChraW5kKSB7XG4gIHJldHVybiBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5CQU5HIHx8IGtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLkRPTExBUiB8fCBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5BTVAgfHwga2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuUEFSRU5fTCB8fCBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5QQVJFTl9SIHx8IGtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLlNQUkVBRCB8fCBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5DT0xPTiB8fCBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5FUVVBTFMgfHwga2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuQVQgfHwga2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0tFVF9MIHx8IGtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNLRVRfUiB8fCBraW5kID09PSBfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MIHx8IGtpbmQgPT09IF90b2tlbktpbmQuVG9rZW5LaW5kLlBJUEUgfHwga2luZCA9PT0gX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0VfUjtcbn1cblxuZnVuY3Rpb24gcHJpbnRDaGFyQ29kZShjb2RlKSB7XG4gIHJldHVybiAoLy8gTmFOL3VuZGVmaW5lZCByZXByZXNlbnRzIGFjY2VzcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgZmlsZS5cbiAgICBpc05hTihjb2RlKSA/IF90b2tlbktpbmQuVG9rZW5LaW5kLkVPRiA6IC8vIFRydXN0IEpTT04gZm9yIEFTQ0lJLlxuICAgIGNvZGUgPCAweDAwN2YgPyBKU09OLnN0cmluZ2lmeShTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpKSA6IC8vIE90aGVyd2lzZSBwcmludCB0aGUgZXNjYXBlZCBmb3JtLlxuICAgIFwiXFxcIlxcXFx1XCIuY29uY2F0KCgnMDAnICsgY29kZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSkuc2xpY2UoLTQpLCBcIlxcXCJcIilcbiAgKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB0b2tlbiBmcm9tIHRoZSBzb3VyY2Ugc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICpcbiAqIFRoaXMgc2tpcHMgb3ZlciB3aGl0ZXNwYWNlIHVudGlsIGl0IGZpbmRzIHRoZSBuZXh0IGxleGFibGUgdG9rZW4sIHRoZW4gbGV4ZXNcbiAqIHB1bmN0dWF0b3JzIGltbWVkaWF0ZWx5IG9yIGNhbGxzIHRoZSBhcHByb3ByaWF0ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vcmVcbiAqIGNvbXBsaWNhdGVkIHRva2Vucy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlYWRUb2tlbihsZXhlciwgcHJldikge1xuICB2YXIgc291cmNlID0gbGV4ZXIuc291cmNlO1xuICB2YXIgYm9keSA9IHNvdXJjZS5ib2R5O1xuICB2YXIgYm9keUxlbmd0aCA9IGJvZHkubGVuZ3RoO1xuICB2YXIgcG9zID0gcG9zaXRpb25BZnRlcldoaXRlc3BhY2UoYm9keSwgcHJldi5lbmQsIGxleGVyKTtcbiAgdmFyIGxpbmUgPSBsZXhlci5saW5lO1xuICB2YXIgY29sID0gMSArIHBvcyAtIGxleGVyLmxpbmVTdGFydDtcblxuICBpZiAocG9zID49IGJvZHlMZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuRU9GLCBib2R5TGVuZ3RoLCBib2R5TGVuZ3RoLCBsaW5lLCBjb2wsIHByZXYpO1xuICB9XG5cbiAgdmFyIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQocG9zKTsgLy8gU291cmNlQ2hhcmFjdGVyXG5cbiAgc3dpdGNoIChjb2RlKSB7XG4gICAgLy8gIVxuICAgIGNhc2UgMzM6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQkFORywgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vICNcblxuICAgIGNhc2UgMzU6XG4gICAgICByZXR1cm4gcmVhZENvbW1lbnQoc291cmNlLCBwb3MsIGxpbmUsIGNvbCwgcHJldik7XG4gICAgLy8gJFxuXG4gICAgY2FzZSAzNjpcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5ET0xMQVIsIHBvcywgcG9zICsgMSwgbGluZSwgY29sLCBwcmV2KTtcbiAgICAvLyAmXG5cbiAgICBjYXNlIDM4OlxuICAgICAgcmV0dXJuIG5ldyBfYXN0LlRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkFNUCwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIChcblxuICAgIGNhc2UgNDA6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuUEFSRU5fTCwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIClcblxuICAgIGNhc2UgNDE6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuUEFSRU5fUiwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIC5cblxuICAgIGNhc2UgNDY6XG4gICAgICBpZiAoYm9keS5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0NiAmJiBib2R5LmNoYXJDb2RlQXQocG9zICsgMikgPT09IDQ2KSB7XG4gICAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5TUFJFQUQsIHBvcywgcG9zICsgMywgbGluZSwgY29sLCBwcmV2KTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gICAgLy8gOlxuXG4gICAgY2FzZSA1ODpcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5DT0xPTiwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vID1cblxuICAgIGNhc2UgNjE6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuRVFVQUxTLCBwb3MsIHBvcyArIDEsIGxpbmUsIGNvbCwgcHJldik7XG4gICAgLy8gQFxuXG4gICAgY2FzZSA2NDpcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5BVCwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIFtcblxuICAgIGNhc2UgOTE6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQlJBQ0tFVF9MLCBwb3MsIHBvcyArIDEsIGxpbmUsIGNvbCwgcHJldik7XG4gICAgLy8gXVxuXG4gICAgY2FzZSA5MzpcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDS0VUX1IsIHBvcywgcG9zICsgMSwgbGluZSwgY29sLCBwcmV2KTtcbiAgICAvLyB7XG5cbiAgICBjYXNlIDEyMzpcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5CUkFDRV9MLCBwb3MsIHBvcyArIDEsIGxpbmUsIGNvbCwgcHJldik7XG4gICAgLy8gfFxuXG4gICAgY2FzZSAxMjQ6XG4gICAgICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuUElQRSwgcG9zLCBwb3MgKyAxLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIH1cblxuICAgIGNhc2UgMTI1OlxuICAgICAgcmV0dXJuIG5ldyBfYXN0LlRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLkJSQUNFX1IsIHBvcywgcG9zICsgMSwgbGluZSwgY29sLCBwcmV2KTtcbiAgICAvLyBBLVogXyBhLXpcblxuICAgIGNhc2UgNjU6XG4gICAgY2FzZSA2NjpcbiAgICBjYXNlIDY3OlxuICAgIGNhc2UgNjg6XG4gICAgY2FzZSA2OTpcbiAgICBjYXNlIDcwOlxuICAgIGNhc2UgNzE6XG4gICAgY2FzZSA3MjpcbiAgICBjYXNlIDczOlxuICAgIGNhc2UgNzQ6XG4gICAgY2FzZSA3NTpcbiAgICBjYXNlIDc2OlxuICAgIGNhc2UgNzc6XG4gICAgY2FzZSA3ODpcbiAgICBjYXNlIDc5OlxuICAgIGNhc2UgODA6XG4gICAgY2FzZSA4MTpcbiAgICBjYXNlIDgyOlxuICAgIGNhc2UgODM6XG4gICAgY2FzZSA4NDpcbiAgICBjYXNlIDg1OlxuICAgIGNhc2UgODY6XG4gICAgY2FzZSA4NzpcbiAgICBjYXNlIDg4OlxuICAgIGNhc2UgODk6XG4gICAgY2FzZSA5MDpcbiAgICBjYXNlIDk1OlxuICAgIGNhc2UgOTc6XG4gICAgY2FzZSA5ODpcbiAgICBjYXNlIDk5OlxuICAgIGNhc2UgMTAwOlxuICAgIGNhc2UgMTAxOlxuICAgIGNhc2UgMTAyOlxuICAgIGNhc2UgMTAzOlxuICAgIGNhc2UgMTA0OlxuICAgIGNhc2UgMTA1OlxuICAgIGNhc2UgMTA2OlxuICAgIGNhc2UgMTA3OlxuICAgIGNhc2UgMTA4OlxuICAgIGNhc2UgMTA5OlxuICAgIGNhc2UgMTEwOlxuICAgIGNhc2UgMTExOlxuICAgIGNhc2UgMTEyOlxuICAgIGNhc2UgMTEzOlxuICAgIGNhc2UgMTE0OlxuICAgIGNhc2UgMTE1OlxuICAgIGNhc2UgMTE2OlxuICAgIGNhc2UgMTE3OlxuICAgIGNhc2UgMTE4OlxuICAgIGNhc2UgMTE5OlxuICAgIGNhc2UgMTIwOlxuICAgIGNhc2UgMTIxOlxuICAgIGNhc2UgMTIyOlxuICAgICAgcmV0dXJuIHJlYWROYW1lKHNvdXJjZSwgcG9zLCBsaW5lLCBjb2wsIHByZXYpO1xuICAgIC8vIC0gMC05XG5cbiAgICBjYXNlIDQ1OlxuICAgIGNhc2UgNDg6XG4gICAgY2FzZSA0OTpcbiAgICBjYXNlIDUwOlxuICAgIGNhc2UgNTE6XG4gICAgY2FzZSA1MjpcbiAgICBjYXNlIDUzOlxuICAgIGNhc2UgNTQ6XG4gICAgY2FzZSA1NTpcbiAgICBjYXNlIDU2OlxuICAgIGNhc2UgNTc6XG4gICAgICByZXR1cm4gcmVhZE51bWJlcihzb3VyY2UsIHBvcywgY29kZSwgbGluZSwgY29sLCBwcmV2KTtcbiAgICAvLyBcIlxuXG4gICAgY2FzZSAzNDpcbiAgICAgIGlmIChib2R5LmNoYXJDb2RlQXQocG9zICsgMSkgPT09IDM0ICYmIGJvZHkuY2hhckNvZGVBdChwb3MgKyAyKSA9PT0gMzQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9ja1N0cmluZyhzb3VyY2UsIHBvcywgbGluZSwgY29sLCBwcmV2LCBsZXhlcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWFkU3RyaW5nKHNvdXJjZSwgcG9zLCBsaW5lLCBjb2wsIHByZXYpO1xuICB9XG5cbiAgdGhyb3cgKDAsIF9zeW50YXhFcnJvci5zeW50YXhFcnJvcikoc291cmNlLCBwb3MsIHVuZXhwZWN0ZWRDaGFyYWN0ZXJNZXNzYWdlKGNvZGUpKTtcbn1cbi8qKlxuICogUmVwb3J0IGEgbWVzc2FnZSB0aGF0IGFuIHVuZXhwZWN0ZWQgY2hhcmFjdGVyIHdhcyBlbmNvdW50ZXJlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHVuZXhwZWN0ZWRDaGFyYWN0ZXJNZXNzYWdlKGNvZGUpIHtcbiAgaWYgKGNvZGUgPCAweDAwMjAgJiYgY29kZSAhPT0gMHgwMDA5ICYmIGNvZGUgIT09IDB4MDAwYSAmJiBjb2RlICE9PSAweDAwMGQpIHtcbiAgICByZXR1cm4gXCJDYW5ub3QgY29udGFpbiB0aGUgaW52YWxpZCBjaGFyYWN0ZXIgXCIuY29uY2F0KHByaW50Q2hhckNvZGUoY29kZSksIFwiLlwiKTtcbiAgfVxuXG4gIGlmIChjb2RlID09PSAzOSkge1xuICAgIC8vICdcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoXFwnKSwgZGlkIHlvdSBtZWFuIHRvIHVzZSBhIGRvdWJsZSBxdW90ZSAoXCIpPyc7XG4gIH1cblxuICByZXR1cm4gXCJDYW5ub3QgcGFyc2UgdGhlIHVuZXhwZWN0ZWQgY2hhcmFjdGVyIFwiLmNvbmNhdChwcmludENoYXJDb2RlKGNvZGUpLCBcIi5cIik7XG59XG4vKipcbiAqIFJlYWRzIGZyb20gYm9keSBzdGFydGluZyBhdCBzdGFydFBvc2l0aW9uIHVudGlsIGl0IGZpbmRzIGEgbm9uLXdoaXRlc3BhY2VcbiAqIGNoYXJhY3RlciwgdGhlbiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGF0IGNoYXJhY3RlciBmb3IgbGV4aW5nLlxuICovXG5cblxuZnVuY3Rpb24gcG9zaXRpb25BZnRlcldoaXRlc3BhY2UoYm9keSwgc3RhcnRQb3NpdGlvbiwgbGV4ZXIpIHtcbiAgdmFyIGJvZHlMZW5ndGggPSBib2R5Lmxlbmd0aDtcbiAgdmFyIHBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcblxuICB3aGlsZSAocG9zaXRpb24gPCBib2R5TGVuZ3RoKSB7XG4gICAgdmFyIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24pOyAvLyB0YWIgfCBzcGFjZSB8IGNvbW1hIHwgQk9NXG5cbiAgICBpZiAoY29kZSA9PT0gOSB8fCBjb2RlID09PSAzMiB8fCBjb2RlID09PSA0NCB8fCBjb2RlID09PSAweGZlZmYpIHtcbiAgICAgICsrcG9zaXRpb247XG4gICAgfSBlbHNlIGlmIChjb2RlID09PSAxMCkge1xuICAgICAgLy8gbmV3IGxpbmVcbiAgICAgICsrcG9zaXRpb247XG4gICAgICArK2xleGVyLmxpbmU7XG4gICAgICBsZXhlci5saW5lU3RhcnQgPSBwb3NpdGlvbjtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDEzKSB7XG4gICAgICAvLyBjYXJyaWFnZSByZXR1cm5cbiAgICAgIGlmIChib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyAxKSA9PT0gMTApIHtcbiAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICsrcG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgICsrbGV4ZXIubGluZTtcbiAgICAgIGxleGVyLmxpbmVTdGFydCA9IHBvc2l0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb247XG59XG4vKipcbiAqIFJlYWRzIGEgY29tbWVudCB0b2tlbiBmcm9tIHRoZSBzb3VyY2UgZmlsZS5cbiAqXG4gKiAjW1xcdTAwMDlcXHUwMDIwLVxcdUZGRkZdKlxuICovXG5cblxuZnVuY3Rpb24gcmVhZENvbW1lbnQoc291cmNlLCBzdGFydCwgbGluZSwgY29sLCBwcmV2KSB7XG4gIHZhciBib2R5ID0gc291cmNlLmJvZHk7XG4gIHZhciBjb2RlO1xuICB2YXIgcG9zaXRpb24gPSBzdGFydDtcblxuICBkbyB7XG4gICAgY29kZSA9IGJvZHkuY2hhckNvZGVBdCgrK3Bvc2l0aW9uKTtcbiAgfSB3aGlsZSAoIWlzTmFOKGNvZGUpICYmICggLy8gU291cmNlQ2hhcmFjdGVyIGJ1dCBub3QgTGluZVRlcm1pbmF0b3JcbiAgY29kZSA+IDB4MDAxZiB8fCBjb2RlID09PSAweDAwMDkpKTtcblxuICByZXR1cm4gbmV3IF9hc3QuVG9rZW4oX3Rva2VuS2luZC5Ub2tlbktpbmQuQ09NTUVOVCwgc3RhcnQsIHBvc2l0aW9uLCBsaW5lLCBjb2wsIHByZXYsIGJvZHkuc2xpY2Uoc3RhcnQgKyAxLCBwb3NpdGlvbikpO1xufVxuLyoqXG4gKiBSZWFkcyBhIG51bWJlciB0b2tlbiBmcm9tIHRoZSBzb3VyY2UgZmlsZSwgZWl0aGVyIGEgZmxvYXRcbiAqIG9yIGFuIGludCBkZXBlbmRpbmcgb24gd2hldGhlciBhIGRlY2ltYWwgcG9pbnQgYXBwZWFycy5cbiAqXG4gKiBJbnQ6ICAgLT8oMHxbMS05XVswLTldKilcbiAqIEZsb2F0OiAtPygwfFsxLTldWzAtOV0qKShcXC5bMC05XSspPygoRXxlKSgrfC0pP1swLTldKyk/XG4gKi9cblxuXG5mdW5jdGlvbiByZWFkTnVtYmVyKHNvdXJjZSwgc3RhcnQsIGZpcnN0Q29kZSwgbGluZSwgY29sLCBwcmV2KSB7XG4gIHZhciBib2R5ID0gc291cmNlLmJvZHk7XG4gIHZhciBjb2RlID0gZmlyc3RDb2RlO1xuICB2YXIgcG9zaXRpb24gPSBzdGFydDtcbiAgdmFyIGlzRmxvYXQgPSBmYWxzZTtcblxuICBpZiAoY29kZSA9PT0gNDUpIHtcbiAgICAvLyAtXG4gICAgY29kZSA9IGJvZHkuY2hhckNvZGVBdCgrK3Bvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChjb2RlID09PSA0OCkge1xuICAgIC8vIDBcbiAgICBjb2RlID0gYm9keS5jaGFyQ29kZUF0KCsrcG9zaXRpb24pO1xuXG4gICAgaWYgKGNvZGUgPj0gNDggJiYgY29kZSA8PSA1Nykge1xuICAgICAgdGhyb3cgKDAsIF9zeW50YXhFcnJvci5zeW50YXhFcnJvcikoc291cmNlLCBwb3NpdGlvbiwgXCJJbnZhbGlkIG51bWJlciwgdW5leHBlY3RlZCBkaWdpdCBhZnRlciAwOiBcIi5jb25jYXQocHJpbnRDaGFyQ29kZShjb2RlKSwgXCIuXCIpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcG9zaXRpb24gPSByZWFkRGlnaXRzKHNvdXJjZSwgcG9zaXRpb24sIGNvZGUpO1xuICAgIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKGNvZGUgPT09IDQ2KSB7XG4gICAgLy8gLlxuICAgIGlzRmxvYXQgPSB0cnVlO1xuICAgIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoKytwb3NpdGlvbik7XG4gICAgcG9zaXRpb24gPSByZWFkRGlnaXRzKHNvdXJjZSwgcG9zaXRpb24sIGNvZGUpO1xuICAgIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKGNvZGUgPT09IDY5IHx8IGNvZGUgPT09IDEwMSkge1xuICAgIC8vIEUgZVxuICAgIGlzRmxvYXQgPSB0cnVlO1xuICAgIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoKytwb3NpdGlvbik7XG5cbiAgICBpZiAoY29kZSA9PT0gNDMgfHwgY29kZSA9PT0gNDUpIHtcbiAgICAgIC8vICsgLVxuICAgICAgY29kZSA9IGJvZHkuY2hhckNvZGVBdCgrK3Bvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBwb3NpdGlvbiA9IHJlYWREaWdpdHMoc291cmNlLCBwb3NpdGlvbiwgY29kZSk7XG4gICAgY29kZSA9IGJvZHkuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gIH0gLy8gTnVtYmVycyBjYW5ub3QgYmUgZm9sbG93ZWQgYnkgLiBvciBOYW1lU3RhcnRcblxuXG4gIGlmIChjb2RlID09PSA0NiB8fCBpc05hbWVTdGFydChjb2RlKSkge1xuICAgIHRocm93ICgwLCBfc3ludGF4RXJyb3Iuc3ludGF4RXJyb3IpKHNvdXJjZSwgcG9zaXRpb24sIFwiSW52YWxpZCBudW1iZXIsIGV4cGVjdGVkIGRpZ2l0IGJ1dCBnb3Q6IFwiLmNvbmNhdChwcmludENoYXJDb2RlKGNvZGUpLCBcIi5cIikpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBfYXN0LlRva2VuKGlzRmxvYXQgPyBfdG9rZW5LaW5kLlRva2VuS2luZC5GTE9BVCA6IF90b2tlbktpbmQuVG9rZW5LaW5kLklOVCwgc3RhcnQsIHBvc2l0aW9uLCBsaW5lLCBjb2wsIHByZXYsIGJvZHkuc2xpY2Uoc3RhcnQsIHBvc2l0aW9uKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5ldyBwb3NpdGlvbiBpbiB0aGUgc291cmNlIGFmdGVyIHJlYWRpbmcgZGlnaXRzLlxuICovXG5cblxuZnVuY3Rpb24gcmVhZERpZ2l0cyhzb3VyY2UsIHN0YXJ0LCBmaXJzdENvZGUpIHtcbiAgdmFyIGJvZHkgPSBzb3VyY2UuYm9keTtcbiAgdmFyIHBvc2l0aW9uID0gc3RhcnQ7XG4gIHZhciBjb2RlID0gZmlyc3RDb2RlO1xuXG4gIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcbiAgICAvLyAwIC0gOVxuICAgIGRvIHtcbiAgICAgIGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoKytwb3NpdGlvbik7XG4gICAgfSB3aGlsZSAoY29kZSA+PSA0OCAmJiBjb2RlIDw9IDU3KTsgLy8gMCAtIDlcblxuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG5cbiAgdGhyb3cgKDAsIF9zeW50YXhFcnJvci5zeW50YXhFcnJvcikoc291cmNlLCBwb3NpdGlvbiwgXCJJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogXCIuY29uY2F0KHByaW50Q2hhckNvZGUoY29kZSksIFwiLlwiKSk7XG59XG4vKipcbiAqIFJlYWRzIGEgc3RyaW5nIHRva2VuIGZyb20gdGhlIHNvdXJjZSBmaWxlLlxuICpcbiAqIFwiKFteXCJcXFxcXFx1MDAwQVxcdTAwMERdfChcXFxcKHVbMC05YS1mQS1GXXs0fXxbXCJcXFxcL2JmbnJ0XSkpKSpcIlxuICovXG5cblxuZnVuY3Rpb24gcmVhZFN0cmluZyhzb3VyY2UsIHN0YXJ0LCBsaW5lLCBjb2wsIHByZXYpIHtcbiAgdmFyIGJvZHkgPSBzb3VyY2UuYm9keTtcbiAgdmFyIHBvc2l0aW9uID0gc3RhcnQgKyAxO1xuICB2YXIgY2h1bmtTdGFydCA9IHBvc2l0aW9uO1xuICB2YXIgY29kZSA9IDA7XG4gIHZhciB2YWx1ZSA9ICcnO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGJvZHkubGVuZ3RoICYmICFpc05hTihjb2RlID0gYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uKSkgJiYgLy8gbm90IExpbmVUZXJtaW5hdG9yXG4gIGNvZGUgIT09IDB4MDAwYSAmJiBjb2RlICE9PSAweDAwMGQpIHtcbiAgICAvLyBDbG9zaW5nIFF1b3RlIChcIilcbiAgICBpZiAoY29kZSA9PT0gMzQpIHtcbiAgICAgIHZhbHVlICs9IGJvZHkuc2xpY2UoY2h1bmtTdGFydCwgcG9zaXRpb24pO1xuICAgICAgcmV0dXJuIG5ldyBfYXN0LlRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLlNUUklORywgc3RhcnQsIHBvc2l0aW9uICsgMSwgbGluZSwgY29sLCBwcmV2LCB2YWx1ZSk7XG4gICAgfSAvLyBTb3VyY2VDaGFyYWN0ZXJcblxuXG4gICAgaWYgKGNvZGUgPCAweDAwMjAgJiYgY29kZSAhPT0gMHgwMDA5KSB7XG4gICAgICB0aHJvdyAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKShzb3VyY2UsIHBvc2l0aW9uLCBcIkludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6IFwiLmNvbmNhdChwcmludENoYXJDb2RlKGNvZGUpLCBcIi5cIikpO1xuICAgIH1cblxuICAgICsrcG9zaXRpb247XG5cbiAgICBpZiAoY29kZSA9PT0gOTIpIHtcbiAgICAgIC8vIFxcXG4gICAgICB2YWx1ZSArPSBib2R5LnNsaWNlKGNodW5rU3RhcnQsIHBvc2l0aW9uIC0gMSk7XG4gICAgICBjb2RlID0gYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uKTtcblxuICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgdmFsdWUgKz0gJ1wiJztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgIHZhbHVlICs9ICcvJztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDkyOlxuICAgICAgICAgIHZhbHVlICs9ICdcXFxcJztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDk4OlxuICAgICAgICAgIHZhbHVlICs9ICdcXGInO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTAyOlxuICAgICAgICAgIHZhbHVlICs9ICdcXGYnO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTEwOlxuICAgICAgICAgIHZhbHVlICs9ICdcXG4nO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTE0OlxuICAgICAgICAgIHZhbHVlICs9ICdcXHInO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTE2OlxuICAgICAgICAgIHZhbHVlICs9ICdcXHQnO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTE3OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIHVYWFhYXG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB1bmlDaGFyQ29kZShib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyAxKSwgYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uICsgMiksIGJvZHkuY2hhckNvZGVBdChwb3NpdGlvbiArIDMpLCBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyA0KSk7XG5cbiAgICAgICAgICAgIGlmIChjaGFyQ29kZSA8IDApIHtcbiAgICAgICAgICAgICAgdmFyIGludmFsaWRTZXF1ZW5jZSA9IGJvZHkuc2xpY2UocG9zaXRpb24gKyAxLCBwb3NpdGlvbiArIDUpO1xuICAgICAgICAgICAgICB0aHJvdyAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKShzb3VyY2UsIHBvc2l0aW9uLCBcIkludmFsaWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZTogXFxcXHVcIi5jb25jYXQoaW52YWxpZFNlcXVlbmNlLCBcIi5cIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IDQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKShzb3VyY2UsIHBvc2l0aW9uLCBcIkludmFsaWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZTogXFxcXFwiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpLCBcIi5cIikpO1xuICAgICAgfVxuXG4gICAgICArK3Bvc2l0aW9uO1xuICAgICAgY2h1bmtTdGFydCA9IHBvc2l0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHRocm93ICgwLCBfc3ludGF4RXJyb3Iuc3ludGF4RXJyb3IpKHNvdXJjZSwgcG9zaXRpb24sICdVbnRlcm1pbmF0ZWQgc3RyaW5nLicpO1xufVxuLyoqXG4gKiBSZWFkcyBhIGJsb2NrIHN0cmluZyB0b2tlbiBmcm9tIHRoZSBzb3VyY2UgZmlsZS5cbiAqXG4gKiBcIlwiXCIoXCI/XCI/KFxcXFxcIlwiXCJ8XFxcXCg/IT1cIlwiXCIpfFteXCJcXFxcXSkpKlwiXCJcIlxuICovXG5cblxuZnVuY3Rpb24gcmVhZEJsb2NrU3RyaW5nKHNvdXJjZSwgc3RhcnQsIGxpbmUsIGNvbCwgcHJldiwgbGV4ZXIpIHtcbiAgdmFyIGJvZHkgPSBzb3VyY2UuYm9keTtcbiAgdmFyIHBvc2l0aW9uID0gc3RhcnQgKyAzO1xuICB2YXIgY2h1bmtTdGFydCA9IHBvc2l0aW9uO1xuICB2YXIgY29kZSA9IDA7XG4gIHZhciByYXdWYWx1ZSA9ICcnO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGJvZHkubGVuZ3RoICYmICFpc05hTihjb2RlID0gYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uKSkpIHtcbiAgICAvLyBDbG9zaW5nIFRyaXBsZS1RdW90ZSAoXCJcIlwiKVxuICAgIGlmIChjb2RlID09PSAzNCAmJiBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyAxKSA9PT0gMzQgJiYgYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uICsgMikgPT09IDM0KSB7XG4gICAgICByYXdWYWx1ZSArPSBib2R5LnNsaWNlKGNodW5rU3RhcnQsIHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiBuZXcgX2FzdC5Ub2tlbihfdG9rZW5LaW5kLlRva2VuS2luZC5CTE9DS19TVFJJTkcsIHN0YXJ0LCBwb3NpdGlvbiArIDMsIGxpbmUsIGNvbCwgcHJldiwgKDAsIF9ibG9ja1N0cmluZy5kZWRlbnRCbG9ja1N0cmluZ1ZhbHVlKShyYXdWYWx1ZSkpO1xuICAgIH0gLy8gU291cmNlQ2hhcmFjdGVyXG5cblxuICAgIGlmIChjb2RlIDwgMHgwMDIwICYmIGNvZGUgIT09IDB4MDAwOSAmJiBjb2RlICE9PSAweDAwMGEgJiYgY29kZSAhPT0gMHgwMDBkKSB7XG4gICAgICB0aHJvdyAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKShzb3VyY2UsIHBvc2l0aW9uLCBcIkludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6IFwiLmNvbmNhdChwcmludENoYXJDb2RlKGNvZGUpLCBcIi5cIikpO1xuICAgIH1cblxuICAgIGlmIChjb2RlID09PSAxMCkge1xuICAgICAgLy8gbmV3IGxpbmVcbiAgICAgICsrcG9zaXRpb247XG4gICAgICArK2xleGVyLmxpbmU7XG4gICAgICBsZXhlci5saW5lU3RhcnQgPSBwb3NpdGlvbjtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDEzKSB7XG4gICAgICAvLyBjYXJyaWFnZSByZXR1cm5cbiAgICAgIGlmIChib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyAxKSA9PT0gMTApIHtcbiAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICsrcG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgICsrbGV4ZXIubGluZTtcbiAgICAgIGxleGVyLmxpbmVTdGFydCA9IHBvc2l0aW9uO1xuICAgIH0gZWxzZSBpZiAoIC8vIEVzY2FwZSBUcmlwbGUtUXVvdGUgKFxcXCJcIlwiKVxuICAgIGNvZGUgPT09IDkyICYmIGJvZHkuY2hhckNvZGVBdChwb3NpdGlvbiArIDEpID09PSAzNCAmJiBib2R5LmNoYXJDb2RlQXQocG9zaXRpb24gKyAyKSA9PT0gMzQgJiYgYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uICsgMykgPT09IDM0KSB7XG4gICAgICByYXdWYWx1ZSArPSBib2R5LnNsaWNlKGNodW5rU3RhcnQsIHBvc2l0aW9uKSArICdcIlwiXCInO1xuICAgICAgcG9zaXRpb24gKz0gNDtcbiAgICAgIGNodW5rU3RhcnQgPSBwb3NpdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgKytwb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvdyAoMCwgX3N5bnRheEVycm9yLnN5bnRheEVycm9yKShzb3VyY2UsIHBvc2l0aW9uLCAnVW50ZXJtaW5hdGVkIHN0cmluZy4nKTtcbn1cbi8qKlxuICogQ29udmVydHMgZm91ciBoZXhhZGVjaW1hbCBjaGFycyB0byB0aGUgaW50ZWdlciB0aGF0IHRoZVxuICogc3RyaW5nIHJlcHJlc2VudHMuIEZvciBleGFtcGxlLCB1bmlDaGFyQ29kZSgnMCcsJzAnLCcwJywnZicpXG4gKiB3aWxsIHJldHVybiAxNSwgYW5kIHVuaUNoYXJDb2RlKCcwJywnMCcsJ2YnLCdmJykgcmV0dXJucyAyNTUuXG4gKlxuICogUmV0dXJucyBhIG5lZ2F0aXZlIG51bWJlciBvbiBlcnJvciwgaWYgYSBjaGFyIHdhcyBpbnZhbGlkLlxuICpcbiAqIFRoaXMgaXMgaW1wbGVtZW50ZWQgYnkgbm90aW5nIHRoYXQgY2hhcjJoZXgoKSByZXR1cm5zIC0xIG9uIGVycm9yLFxuICogd2hpY2ggbWVhbnMgdGhlIHJlc3VsdCBvZiBPUmluZyB0aGUgY2hhcjJoZXgoKSB3aWxsIGFsc28gYmUgbmVnYXRpdmUuXG4gKi9cblxuXG5mdW5jdGlvbiB1bmlDaGFyQ29kZShhLCBiLCBjLCBkKSB7XG4gIHJldHVybiBjaGFyMmhleChhKSA8PCAxMiB8IGNoYXIyaGV4KGIpIDw8IDggfCBjaGFyMmhleChjKSA8PCA0IHwgY2hhcjJoZXgoZCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IGNoYXJhY3RlciB0byBpdHMgaW50ZWdlciB2YWx1ZS5cbiAqICcwJyBiZWNvbWVzIDAsICc5JyBiZWNvbWVzIDlcbiAqICdBJyBiZWNvbWVzIDEwLCAnRicgYmVjb21lcyAxNVxuICogJ2EnIGJlY29tZXMgMTAsICdmJyBiZWNvbWVzIDE1XG4gKlxuICogUmV0dXJucyAtMSBvbiBlcnJvci5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNoYXIyaGV4KGEpIHtcbiAgcmV0dXJuIGEgPj0gNDggJiYgYSA8PSA1NyA/IGEgLSA0OCAvLyAwLTlcbiAgOiBhID49IDY1ICYmIGEgPD0gNzAgPyBhIC0gNTUgLy8gQS1GXG4gIDogYSA+PSA5NyAmJiBhIDw9IDEwMiA/IGEgLSA4NyAvLyBhLWZcbiAgOiAtMTtcbn1cbi8qKlxuICogUmVhZHMgYW4gYWxwaGFudW1lcmljICsgdW5kZXJzY29yZSBuYW1lIGZyb20gdGhlIHNvdXJjZS5cbiAqXG4gKiBbX0EtWmEtel1bXzAtOUEtWmEtel0qXG4gKi9cblxuXG5mdW5jdGlvbiByZWFkTmFtZShzb3VyY2UsIHN0YXJ0LCBsaW5lLCBjb2wsIHByZXYpIHtcbiAgdmFyIGJvZHkgPSBzb3VyY2UuYm9keTtcbiAgdmFyIGJvZHlMZW5ndGggPSBib2R5Lmxlbmd0aDtcbiAgdmFyIHBvc2l0aW9uID0gc3RhcnQgKyAxO1xuICB2YXIgY29kZSA9IDA7XG5cbiAgd2hpbGUgKHBvc2l0aW9uICE9PSBib2R5TGVuZ3RoICYmICFpc05hTihjb2RlID0gYm9keS5jaGFyQ29kZUF0KHBvc2l0aW9uKSkgJiYgKGNvZGUgPT09IDk1IHx8IC8vIF9cbiAgY29kZSA+PSA0OCAmJiBjb2RlIDw9IDU3IHx8IC8vIDAtOVxuICBjb2RlID49IDY1ICYmIGNvZGUgPD0gOTAgfHwgLy8gQS1aXG4gIGNvZGUgPj0gOTcgJiYgY29kZSA8PSAxMjIpIC8vIGEtelxuICApIHtcbiAgICArK3Bvc2l0aW9uO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBfYXN0LlRva2VuKF90b2tlbktpbmQuVG9rZW5LaW5kLk5BTUUsIHN0YXJ0LCBwb3NpdGlvbiwgbGluZSwgY29sLCBwcmV2LCBib2R5LnNsaWNlKHN0YXJ0LCBwb3NpdGlvbikpO1xufSAvLyBfIEEtWiBhLXpcblxuXG5mdW5jdGlvbiBpc05hbWVTdGFydChjb2RlKSB7XG4gIHJldHVybiBjb2RlID09PSA5NSB8fCBjb2RlID49IDY1ICYmIGNvZGUgPD0gOTAgfHwgY29kZSA+PSA5NyAmJiBjb2RlIDw9IDEyMjtcbn1cbiIsImltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnO1xuXG5leHBvcnQgY29uc3QgTE9ORE9OX1VTRVJTID0gZ3FsYFxuICBxdWVyeSBMb25kb25Vc2VycyB7XG4gICAgbG9uZG9uVXNlcnMge1xuICAgICAgaWRcbiAgICAgIGZpcnN0X25hbWVcbiAgICAgIGxhc3RfbmFtZVxuICAgICAgZW1haWxcbiAgICAgIGlwX2FkZHJlc3NcbiAgICAgIGxhdGl0dWRlXG4gICAgICBsb25naXR1ZGVcbiAgICAgIGRpc3RhbmNlXG4gICAgICBsaXZlc0luTG9uZG9uXG4gICAgfVxuICB9XG4gIGA7IiwiLyogdHNsaW50OmRpc2FibGUgKi9cblxuaW1wb3J0IHplbk9ic2VydmFibGUgZnJvbSAnemVuLW9ic2VydmFibGUnO1xuXG5uYW1lc3BhY2UgT2JzZXJ2YWJsZSB7XG5cbn1cblxuaW1wb3J0IHsgWmVuT2JzZXJ2YWJsZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgeyBaZW5PYnNlcnZhYmxlIH07XG5cbmV4cG9ydCB0eXBlIE9ic2VydmVyPFQ+ID0gWmVuT2JzZXJ2YWJsZS5PYnNlcnZlcjxUPjtcbmV4cG9ydCB0eXBlIFN1YnNjcmliZXI8VD4gPSBaZW5PYnNlcnZhYmxlLlN1YnNjcmliZXI8VD47XG5leHBvcnQgdHlwZSBPYnNlcnZhYmxlTGlrZTxUPiA9IFplbk9ic2VydmFibGUuT2JzZXJ2YWJsZUxpa2U8VD47XG5cbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlOiB7XG4gIG5ldyA8VD4oc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IE9ic2VydmFibGU8VD47XG4gIGZyb208Uj4oXG4gICAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxSPiB8IFplbk9ic2VydmFibGUuT2JzZXJ2YWJsZUxpa2U8Uj4gfCBBcnJheUxpa2U8Uj4sXG4gICk6IE9ic2VydmFibGU8Uj47XG4gIG9mPFI+KC4uLmFyZ3M6IEFycmF5PFI+KTogT2JzZXJ2YWJsZTxSPjtcbn0gPSA8YW55Pnplbk9ic2VydmFibGU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YWJsZTxUPiB7XG4gIHN1YnNjcmliZShcbiAgICBvYnNlcnZlck9yTmV4dDogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBaZW5PYnNlcnZhYmxlLk9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICApOiBaZW5PYnNlcnZhYmxlLlN1YnNjcmlwdGlvbjtcblxuICBmb3JFYWNoKGZuOiAodmFsdWU6IFQpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIG1hcDxSPihmbjogKHZhbHVlOiBUKSA9PiBSKTogT2JzZXJ2YWJsZTxSPjtcblxuICBmaWx0ZXIoZm46ICh2YWx1ZTogVCkgPT4gYm9vbGVhbik6IE9ic2VydmFibGU8VD47XG5cbiAgcmVkdWNlPFIgPSBUPihcbiAgICBmbjogKHByZXZpb3VzVmFsdWU6IFIgfCBULCBjdXJyZW50VmFsdWU6IFQpID0+IFIgfCBULFxuICAgIGluaXRpYWxWYWx1ZT86IFIgfCBULFxuICApOiBPYnNlcnZhYmxlPFIgfCBUPjtcblxuICBmbGF0TWFwPFI+KGZuOiAodmFsdWU6IFQpID0+IFplbk9ic2VydmFibGUuT2JzZXJ2YWJsZUxpa2U8Uj4pOiBPYnNlcnZhYmxlPFI+O1xuXG4gIGZyb208Uj4oXG4gICAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxSPiB8IFplbk9ic2VydmFibGUuT2JzZXJ2YWJsZUxpa2U8Uj4gfCBBcnJheUxpa2U8Uj4sXG4gICk6IE9ic2VydmFibGU8Uj47XG4gIG9mPFI+KC4uLmFyZ3M6IEFycmF5PFI+KTogT2JzZXJ2YWJsZTxSPjtcbn1cbiIsImltcG9ydCBPYnNlcnZhYmxlIGZyb20gJ3plbi1vYnNlcnZhYmxlLXRzJztcblxuaW1wb3J0IHsgR3JhcGhRTFJlcXVlc3QsIE9wZXJhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQXBvbGxvTGluayB9IGZyb20gJy4vbGluayc7XG5cbmltcG9ydCB7IGdldE9wZXJhdGlvbk5hbWUgfSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcbmltcG9ydCB7IGludmFyaWFudCwgSW52YXJpYW50RXJyb3IgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuZXhwb3J0IHsgZ2V0T3BlcmF0aW9uTmFtZSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uOiBHcmFwaFFMUmVxdWVzdCk6IEdyYXBoUUxSZXF1ZXN0IHtcbiAgY29uc3QgT1BFUkFUSU9OX0ZJRUxEUyA9IFtcbiAgICAncXVlcnknLFxuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgICAndmFyaWFibGVzJyxcbiAgICAnZXh0ZW5zaW9ucycsXG4gICAgJ2NvbnRleHQnLFxuICBdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMob3BlcmF0aW9uKSkge1xuICAgIGlmIChPUEVSQVRJT05fRklFTERTLmluZGV4T2Yoa2V5KSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihgaWxsZWdhbCBhcmd1bWVudDogJHtrZXl9YCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9wZXJhdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIExpbmtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIGxpbms6IEFwb2xsb0xpbms7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcsIGxpbms/OiBBcG9sbG9MaW5rKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5saW5rID0gbGluaztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUZXJtaW5hdGluZyhsaW5rOiBBcG9sbG9MaW5rKTogYm9vbGVhbiB7XG4gIHJldHVybiBsaW5rLnJlcXVlc3QubGVuZ3RoIDw9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1Byb21pc2U8Uj4ob2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxSPik6IFByb21pc2U8Uj4ge1xuICBsZXQgY29tcGxldGVkID0gZmFsc2U7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxSPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogZGF0YSA9PiB7XG4gICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgICAgIGBQcm9taXNlIFdyYXBwZXIgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSByZXN1bHRzIGZyb20gT2JzZXJ2YWJsZWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogcmVqZWN0LFxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gYmFja3dhcmRzIGNvbXBhdFxuZXhwb3J0IGNvbnN0IG1ha2VQcm9taXNlID0gdG9Qcm9taXNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2U8VD4ocHJvbWlzZTogUHJvbWlzZTxUPik6IE9ic2VydmFibGU8VD4ge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4ob2JzZXJ2ZXIgPT4ge1xuICAgIHByb21pc2VcbiAgICAgIC50aGVuKCh2YWx1ZTogVCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2gob2JzZXJ2ZXIuZXJyb3IuYmluZChvYnNlcnZlcikpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FcnJvcjxUPihlcnJvclZhbHVlOiBhbnkpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KG9ic2VydmVyID0+IHtcbiAgICBvYnNlcnZlci5lcnJvcihlcnJvclZhbHVlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1PcGVyYXRpb24ob3BlcmF0aW9uOiBHcmFwaFFMUmVxdWVzdCk6IEdyYXBoUUxSZXF1ZXN0IHtcbiAgY29uc3QgdHJhbnNmb3JtZWRPcGVyYXRpb246IEdyYXBoUUxSZXF1ZXN0ID0ge1xuICAgIHZhcmlhYmxlczogb3BlcmF0aW9uLnZhcmlhYmxlcyB8fCB7fSxcbiAgICBleHRlbnNpb25zOiBvcGVyYXRpb24uZXh0ZW5zaW9ucyB8fCB7fSxcbiAgICBvcGVyYXRpb25OYW1lOiBvcGVyYXRpb24ub3BlcmF0aW9uTmFtZSxcbiAgICBxdWVyeTogb3BlcmF0aW9uLnF1ZXJ5LFxuICB9O1xuXG4gIC8vIGJlc3QgZ3Vlc3MgYXQgYW4gb3BlcmF0aW9uIG5hbWVcbiAgaWYgKCF0cmFuc2Zvcm1lZE9wZXJhdGlvbi5vcGVyYXRpb25OYW1lKSB7XG4gICAgdHJhbnNmb3JtZWRPcGVyYXRpb24ub3BlcmF0aW9uTmFtZSA9XG4gICAgICB0eXBlb2YgdHJhbnNmb3JtZWRPcGVyYXRpb24ucXVlcnkgIT09ICdzdHJpbmcnXG4gICAgICAgID8gZ2V0T3BlcmF0aW9uTmFtZSh0cmFuc2Zvcm1lZE9wZXJhdGlvbi5xdWVyeSlcbiAgICAgICAgOiAnJztcbiAgfVxuXG4gIHJldHVybiB0cmFuc2Zvcm1lZE9wZXJhdGlvbiBhcyBPcGVyYXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcGVyYXRpb24oXG4gIHN0YXJ0aW5nOiBhbnksXG4gIG9wZXJhdGlvbjogR3JhcGhRTFJlcXVlc3QsXG4pOiBPcGVyYXRpb24ge1xuICBsZXQgY29udGV4dCA9IHsgLi4uc3RhcnRpbmcgfTtcbiAgY29uc3Qgc2V0Q29udGV4dCA9IG5leHQgPT4ge1xuICAgIGlmICh0eXBlb2YgbmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29udGV4dCA9IHsgLi4uY29udGV4dCwgLi4ubmV4dChjb250ZXh0KSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0ID0geyAuLi5jb250ZXh0LCAuLi5uZXh0IH07XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRDb250ZXh0ID0gKCkgPT4gKHsgLi4uY29udGV4dCB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3BlcmF0aW9uLCAnc2V0Q29udGV4dCcsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogc2V0Q29udGV4dCxcbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9wZXJhdGlvbiwgJ2dldENvbnRleHQnLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IGdldENvbnRleHQsXG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcGVyYXRpb24sICd0b0tleScsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogKCkgPT4gZ2V0S2V5KG9wZXJhdGlvbiksXG4gIH0pO1xuXG4gIHJldHVybiBvcGVyYXRpb24gYXMgT3BlcmF0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KG9wZXJhdGlvbjogR3JhcGhRTFJlcXVlc3QpIHtcbiAgLy8gWFhYIFdlJ3JlIGFzc3VtaW5nIGhlcmUgdGhhdCBxdWVyeSBhbmQgdmFyaWFibGVzIHdpbGwgYmUgc2VyaWFsaXplZCBpblxuICAvLyB0aGUgc2FtZSBvcmRlciwgd2hpY2ggbWlnaHQgbm90IGFsd2F5cyBiZSB0cnVlLlxuICBjb25zdCB7IHF1ZXJ5LCB2YXJpYWJsZXMsIG9wZXJhdGlvbk5hbWUgfSA9IG9wZXJhdGlvbjtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFtvcGVyYXRpb25OYW1lLCBxdWVyeSwgdmFyaWFibGVzXSk7XG59XG4iLCJpbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICd6ZW4tb2JzZXJ2YWJsZS10cyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQsIEludmFyaWFudEVycm9yIH0gZnJvbSAndHMtaW52YXJpYW50JztcblxuaW1wb3J0IHtcbiAgR3JhcGhRTFJlcXVlc3QsXG4gIE5leHRMaW5rLFxuICBPcGVyYXRpb24sXG4gIFJlcXVlc3RIYW5kbGVyLFxuICBGZXRjaFJlc3VsdCxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCB7XG4gIHZhbGlkYXRlT3BlcmF0aW9uLFxuICBpc1Rlcm1pbmF0aW5nLFxuICBMaW5rRXJyb3IsXG4gIHRyYW5zZm9ybU9wZXJhdGlvbixcbiAgY3JlYXRlT3BlcmF0aW9uLFxufSBmcm9tICcuL2xpbmtVdGlscyc7XG5cbmZ1bmN0aW9uIHBhc3N0aHJvdWdoKG9wLCBmb3J3YXJkKSB7XG4gIHJldHVybiBmb3J3YXJkID8gZm9yd2FyZChvcCkgOiBPYnNlcnZhYmxlLm9mKCk7XG59XG5cbmZ1bmN0aW9uIHRvTGluayhoYW5kbGVyOiBSZXF1ZXN0SGFuZGxlciB8IEFwb2xsb0xpbmspIHtcbiAgcmV0dXJuIHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nID8gbmV3IEFwb2xsb0xpbmsoaGFuZGxlcikgOiBoYW5kbGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoKTogQXBvbGxvTGluayB7XG4gIHJldHVybiBuZXcgQXBvbGxvTGluaygoKSA9PiBPYnNlcnZhYmxlLm9mKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbShsaW5rczogQXBvbGxvTGlua1tdKTogQXBvbGxvTGluayB7XG4gIGlmIChsaW5rcy5sZW5ndGggPT09IDApIHJldHVybiBlbXB0eSgpO1xuICByZXR1cm4gbGlua3MubWFwKHRvTGluaykucmVkdWNlKCh4LCB5KSA9PiB4LmNvbmNhdCh5KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdChcbiAgdGVzdDogKG9wOiBPcGVyYXRpb24pID0+IGJvb2xlYW4sXG4gIGxlZnQ6IEFwb2xsb0xpbmsgfCBSZXF1ZXN0SGFuZGxlcixcbiAgcmlnaHQ/OiBBcG9sbG9MaW5rIHwgUmVxdWVzdEhhbmRsZXIsXG4pOiBBcG9sbG9MaW5rIHtcbiAgY29uc3QgbGVmdExpbmsgPSB0b0xpbmsobGVmdCk7XG4gIGNvbnN0IHJpZ2h0TGluayA9IHRvTGluayhyaWdodCB8fCBuZXcgQXBvbGxvTGluayhwYXNzdGhyb3VnaCkpO1xuXG4gIGlmIChpc1Rlcm1pbmF0aW5nKGxlZnRMaW5rKSAmJiBpc1Rlcm1pbmF0aW5nKHJpZ2h0TGluaykpIHtcbiAgICByZXR1cm4gbmV3IEFwb2xsb0xpbmsob3BlcmF0aW9uID0+IHtcbiAgICAgIHJldHVybiB0ZXN0KG9wZXJhdGlvbilcbiAgICAgICAgPyBsZWZ0TGluay5yZXF1ZXN0KG9wZXJhdGlvbikgfHwgT2JzZXJ2YWJsZS5vZigpXG4gICAgICAgIDogcmlnaHRMaW5rLnJlcXVlc3Qob3BlcmF0aW9uKSB8fCBPYnNlcnZhYmxlLm9mKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBBcG9sbG9MaW5rKChvcGVyYXRpb24sIGZvcndhcmQpID0+IHtcbiAgICAgIHJldHVybiB0ZXN0KG9wZXJhdGlvbilcbiAgICAgICAgPyBsZWZ0TGluay5yZXF1ZXN0KG9wZXJhdGlvbiwgZm9yd2FyZCkgfHwgT2JzZXJ2YWJsZS5vZigpXG4gICAgICAgIDogcmlnaHRMaW5rLnJlcXVlc3Qob3BlcmF0aW9uLCBmb3J3YXJkKSB8fCBPYnNlcnZhYmxlLm9mKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gam9pbiB0d28gTGlua3MgdG9nZXRoZXJcbmV4cG9ydCBjb25zdCBjb25jYXQgPSAoXG4gIGZpcnN0OiBBcG9sbG9MaW5rIHwgUmVxdWVzdEhhbmRsZXIsXG4gIHNlY29uZDogQXBvbGxvTGluayB8IFJlcXVlc3RIYW5kbGVyLFxuKSA9PiB7XG4gIGNvbnN0IGZpcnN0TGluayA9IHRvTGluayhmaXJzdCk7XG4gIGlmIChpc1Rlcm1pbmF0aW5nKGZpcnN0TGluaykpIHtcbiAgICBpbnZhcmlhbnQud2FybihcbiAgICAgIG5ldyBMaW5rRXJyb3IoXG4gICAgICAgIGBZb3UgYXJlIGNhbGxpbmcgY29uY2F0IG9uIGEgdGVybWluYXRpbmcgbGluaywgd2hpY2ggd2lsbCBoYXZlIG5vIGVmZmVjdGAsXG4gICAgICAgIGZpcnN0TGluayxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gZmlyc3RMaW5rO1xuICB9XG4gIGNvbnN0IG5leHRMaW5rID0gdG9MaW5rKHNlY29uZCk7XG5cbiAgaWYgKGlzVGVybWluYXRpbmcobmV4dExpbmspKSB7XG4gICAgcmV0dXJuIG5ldyBBcG9sbG9MaW5rKFxuICAgICAgb3BlcmF0aW9uID0+XG4gICAgICAgIGZpcnN0TGluay5yZXF1ZXN0KFxuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBvcCA9PiBuZXh0TGluay5yZXF1ZXN0KG9wKSB8fCBPYnNlcnZhYmxlLm9mKCksXG4gICAgICAgICkgfHwgT2JzZXJ2YWJsZS5vZigpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBBcG9sbG9MaW5rKChvcGVyYXRpb24sIGZvcndhcmQpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpcnN0TGluay5yZXF1ZXN0KG9wZXJhdGlvbiwgb3AgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXh0TGluay5yZXF1ZXN0KG9wLCBmb3J3YXJkKSB8fCBPYnNlcnZhYmxlLm9mKCk7XG4gICAgICAgIH0pIHx8IE9ic2VydmFibGUub2YoKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIEFwb2xsb0xpbmsge1xuICBwdWJsaWMgc3RhdGljIGVtcHR5ID0gZW1wdHk7XG4gIHB1YmxpYyBzdGF0aWMgZnJvbSA9IGZyb207XG4gIHB1YmxpYyBzdGF0aWMgc3BsaXQgPSBzcGxpdDtcbiAgcHVibGljIHN0YXRpYyBleGVjdXRlID0gZXhlY3V0ZTtcblxuICBjb25zdHJ1Y3RvcihyZXF1ZXN0PzogUmVxdWVzdEhhbmRsZXIpIHtcbiAgICBpZiAocmVxdWVzdCkgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgfVxuXG4gIHB1YmxpYyBzcGxpdChcbiAgICB0ZXN0OiAob3A6IE9wZXJhdGlvbikgPT4gYm9vbGVhbixcbiAgICBsZWZ0OiBBcG9sbG9MaW5rIHwgUmVxdWVzdEhhbmRsZXIsXG4gICAgcmlnaHQ/OiBBcG9sbG9MaW5rIHwgUmVxdWVzdEhhbmRsZXIsXG4gICk6IEFwb2xsb0xpbmsge1xuICAgIHJldHVybiB0aGlzLmNvbmNhdChzcGxpdCh0ZXN0LCBsZWZ0LCByaWdodCB8fCBuZXcgQXBvbGxvTGluayhwYXNzdGhyb3VnaCkpKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25jYXQobmV4dDogQXBvbGxvTGluayB8IFJlcXVlc3RIYW5kbGVyKTogQXBvbGxvTGluayB7XG4gICAgcmV0dXJuIGNvbmNhdCh0aGlzLCBuZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyByZXF1ZXN0KFxuICAgIG9wZXJhdGlvbjogT3BlcmF0aW9uLFxuICAgIGZvcndhcmQ/OiBOZXh0TGluayxcbiAgKTogT2JzZXJ2YWJsZTxGZXRjaFJlc3VsdD4gfCBudWxsIHtcbiAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoJ3JlcXVlc3QgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoXG4gIGxpbms6IEFwb2xsb0xpbmssXG4gIG9wZXJhdGlvbjogR3JhcGhRTFJlcXVlc3QsXG4pOiBPYnNlcnZhYmxlPEZldGNoUmVzdWx0PiB7XG4gIHJldHVybiAoXG4gICAgbGluay5yZXF1ZXN0KFxuICAgICAgY3JlYXRlT3BlcmF0aW9uKFxuICAgICAgICBvcGVyYXRpb24uY29udGV4dCxcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9uKHZhbGlkYXRlT3BlcmF0aW9uKG9wZXJhdGlvbikpLFxuICAgICAgKSxcbiAgICApIHx8IE9ic2VydmFibGUub2YoKVxuICApO1xufVxuIiwiLyoqXG4gKiBUaGUgY3VycmVudCBzdGF0dXMgb2YgYSBxdWVyeeKAmXMgZXhlY3V0aW9uIGluIG91ciBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBlbnVtIE5ldHdvcmtTdGF0dXMge1xuICAvKipcbiAgICogVGhlIHF1ZXJ5IGhhcyBuZXZlciBiZWVuIHJ1biBiZWZvcmUgYW5kIHRoZSBxdWVyeSBpcyBub3cgY3VycmVudGx5IHJ1bm5pbmcuIEEgcXVlcnkgd2lsbCBzdGlsbFxuICAgKiBoYXZlIHRoaXMgbmV0d29yayBzdGF0dXMgZXZlbiBpZiBhIHBhcnRpYWwgZGF0YSByZXN1bHQgd2FzIHJldHVybmVkIGZyb20gdGhlIGNhY2hlLCBidXQgYVxuICAgKiBxdWVyeSB3YXMgZGlzcGF0Y2hlZCBhbnl3YXkuXG4gICAqL1xuICBsb2FkaW5nID0gMSxcblxuICAvKipcbiAgICogSWYgYHNldFZhcmlhYmxlc2Agd2FzIGNhbGxlZCBhbmQgYSBxdWVyeSB3YXMgZmlyZWQgYmVjYXVzZSBvZiB0aGF0IHRoZW4gdGhlIG5ldHdvcmsgc3RhdHVzXG4gICAqIHdpbGwgYmUgYHNldFZhcmlhYmxlc2AgdW50aWwgdGhlIHJlc3VsdCBvZiB0aGF0IHF1ZXJ5IGNvbWVzIGJhY2suXG4gICAqL1xuICBzZXRWYXJpYWJsZXMgPSAyLFxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBgZmV0Y2hNb3JlYCB3YXMgY2FsbGVkIG9uIHRoaXMgcXVlcnkgYW5kIHRoYXQgdGhlIHF1ZXJ5IGNyZWF0ZWQgaXMgY3VycmVudGx5IGluXG4gICAqIGZsaWdodC5cbiAgICovXG4gIGZldGNoTW9yZSA9IDMsXG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gdGhlIGBzZXRWYXJpYWJsZXNgIG5ldHdvcmsgc3RhdHVzLiBJdCBtZWFucyB0aGF0IGByZWZldGNoYCB3YXMgY2FsbGVkIG9uIGEgcXVlcnlcbiAgICogYW5kIHRoZSByZWZldGNoIHJlcXVlc3QgaXMgY3VycmVudGx5IGluIGZsaWdodC5cbiAgICovXG4gIHJlZmV0Y2ggPSA0LFxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBhIHBvbGxpbmcgcXVlcnkgaXMgY3VycmVudGx5IGluIGZsaWdodC4gU28gZm9yIGV4YW1wbGUgaWYgeW91IGFyZSBwb2xsaW5nIGFcbiAgICogcXVlcnkgZXZlcnkgMTAgc2Vjb25kcyB0aGVuIHRoZSBuZXR3b3JrIHN0YXR1cyB3aWxsIHN3aXRjaCB0byBgcG9sbGAgZXZlcnkgMTAgc2Vjb25kcyB3aGVuZXZlclxuICAgKiBhIHBvbGwgcmVxdWVzdCBoYXMgYmVlbiBzZW50IGJ1dCBub3QgcmVzb2x2ZWQuXG4gICAqL1xuICBwb2xsID0gNixcblxuICAvKipcbiAgICogTm8gcmVxdWVzdCBpcyBpbiBmbGlnaHQgZm9yIHRoaXMgcXVlcnksIGFuZCBubyBlcnJvcnMgaGFwcGVuZWQuIEV2ZXJ5dGhpbmcgaXMgT0suXG4gICAqL1xuICByZWFkeSA9IDcsXG5cbiAgLyoqXG4gICAqIE5vIHJlcXVlc3QgaXMgaW4gZmxpZ2h0IGZvciB0aGlzIHF1ZXJ5LCBidXQgb25lIG9yIG1vcmUgZXJyb3JzIHdlcmUgZGV0ZWN0ZWQuXG4gICAqL1xuICBlcnJvciA9IDgsXG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZXJlIGlzIGN1cnJlbnRseSBhIG5ldHdvcmsgcmVxdWVzdCBpbiBmbGlnaHQgYWNjb3JkaW5nIHRvIGEgZ2l2ZW4gbmV0d29ya1xuICogc3RhdHVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOZXR3b3JrUmVxdWVzdEluRmxpZ2h0KFxuICBuZXR3b3JrU3RhdHVzOiBOZXR3b3JrU3RhdHVzLFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiBuZXR3b3JrU3RhdHVzIDwgNztcbn1cbiIsIi8vIFRoaXMgc2ltcGxpZmllZCBwb2x5ZmlsbCBhdHRlbXB0cyB0byBmb2xsb3cgdGhlIEVDTUFTY3JpcHQgT2JzZXJ2YWJsZSBwcm9wb3NhbC5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG5pbXBvcnQgeyBPYnNlcnZhYmxlIGFzIExpbmtPYnNlcnZhYmxlIH0gZnJvbSAnYXBvbGxvLWxpbmsnO1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpcHRpb24gPSBaZW5PYnNlcnZhYmxlLlN1YnNjcmlwdGlvbjtcbmV4cG9ydCB0eXBlIE9ic2VydmVyPFQ+ID0gWmVuT2JzZXJ2YWJsZS5PYnNlcnZlcjxUPjtcblxuaW1wb3J0ICQkb2JzZXJ2YWJsZSBmcm9tICdzeW1ib2wtb2JzZXJ2YWJsZSc7XG5cbi8vIHJ4anMgaW50ZXJvcHRcbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IGV4dGVuZHMgTGlua09ic2VydmFibGU8VD4ge1xuICBwdWJsaWMgWyQkb2JzZXJ2YWJsZV0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgWydAQG9ic2VydmFibGUnIGFzIGFueV0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc05vbkVtcHR5QXJyYXk8VD4odmFsdWU/OiBBcnJheUxpa2U8VD4pOiB2YWx1ZSBpcyBBcnJheTxUPiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwO1xufVxuIiwiaW1wb3J0IHsgR3JhcGhRTEVycm9yIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBpc05vbkVtcHR5QXJyYXkgfSBmcm9tICcuLi91dGlsL2FycmF5cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Fwb2xsb0Vycm9yKGVycjogRXJyb3IpOiBlcnIgaXMgQXBvbGxvRXJyb3Ige1xuICByZXR1cm4gZXJyLmhhc093blByb3BlcnR5KCdncmFwaFFMRXJyb3JzJyk7XG59XG5cbi8vIFNldHMgdGhlIGVycm9yIG1lc3NhZ2Ugb24gdGhpcyBlcnJvciBhY2NvcmRpbmcgdG8gdGhlXG4vLyB0aGUgR3JhcGhRTCBhbmQgbmV0d29yayBlcnJvcnMgdGhhdCBhcmUgcHJlc2VudC5cbi8vIElmIHRoZSBlcnJvciBtZXNzYWdlIGhhcyBhbHJlYWR5IGJlZW4gc2V0IHRocm91Z2ggdGhlXG4vLyBjb25zdHJ1Y3RvciBvciBvdGhlcndpc2UsIHRoaXMgZnVuY3Rpb24gaXMgYSBub3AuXG5jb25zdCBnZW5lcmF0ZUVycm9yTWVzc2FnZSA9IChlcnI6IEFwb2xsb0Vycm9yKSA9PiB7XG4gIGxldCBtZXNzYWdlID0gJyc7XG4gIC8vIElmIHdlIGhhdmUgR3JhcGhRTCBlcnJvcnMgcHJlc2VudCwgYWRkIHRoYXQgdG8gdGhlIGVycm9yIG1lc3NhZ2UuXG4gIGlmIChpc05vbkVtcHR5QXJyYXkoZXJyLmdyYXBoUUxFcnJvcnMpKSB7XG4gICAgZXJyLmdyYXBoUUxFcnJvcnMuZm9yRWFjaCgoZ3JhcGhRTEVycm9yOiBHcmFwaFFMRXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdyYXBoUUxFcnJvclxuICAgICAgICA/IGdyYXBoUUxFcnJvci5tZXNzYWdlXG4gICAgICAgIDogJ0Vycm9yIG1lc3NhZ2Ugbm90IGZvdW5kLic7XG4gICAgICBtZXNzYWdlICs9IGBHcmFwaFFMIGVycm9yOiAke2Vycm9yTWVzc2FnZX1cXG5gO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGVyci5uZXR3b3JrRXJyb3IpIHtcbiAgICBtZXNzYWdlICs9ICdOZXR3b3JrIGVycm9yOiAnICsgZXJyLm5ldHdvcmtFcnJvci5tZXNzYWdlICsgJ1xcbic7XG4gIH1cblxuICAvLyBzdHJpcCBuZXdsaW5lIGZyb20gdGhlIGVuZCBvZiB0aGUgbWVzc2FnZVxuICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC9cXG4kLywgJycpO1xuICByZXR1cm4gbWVzc2FnZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBBcG9sbG9FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGdyYXBoUUxFcnJvcnM6IFJlYWRvbmx5QXJyYXk8R3JhcGhRTEVycm9yPjtcbiAgcHVibGljIG5ldHdvcmtFcnJvcjogRXJyb3IgfCBudWxsO1xuXG4gIC8vIEFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgc29tZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gIC8vIGFib3V0IGFuIGVycm9yLCBlLmcuIHNwZWNpZnlpbmcgdGhlIHR5cGUgb2YgZXJyb3IgdGhpcyBpcy4gVXNlZFxuICAvLyBpbnRlcm5hbGx5IHdpdGhpbiBBcG9sbG8gQ2xpZW50LlxuICBwdWJsaWMgZXh0cmFJbmZvOiBhbnk7XG5cbiAgLy8gQ29uc3RydWN0cyBhbiBpbnN0YW5jZSBvZiBBcG9sbG9FcnJvciBnaXZlbiBhIEdyYXBoUUxFcnJvclxuICAvLyBvciBhIG5ldHdvcmsgZXJyb3IuIE5vdGUgdGhhdCBvbmUgb2YgdGhlc2UgaGFzIHRvIGJlIGEgdmFsaWRcbiAgLy8gdmFsdWUgb3IgdGhlIGNvbnN0cnVjdGVkIGVycm9yIHdpbGwgYmUgbWVhbmluZ2xlc3MuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBncmFwaFFMRXJyb3JzLFxuICAgIG5ldHdvcmtFcnJvcixcbiAgICBlcnJvck1lc3NhZ2UsXG4gICAgZXh0cmFJbmZvLFxuICB9OiB7XG4gICAgZ3JhcGhRTEVycm9ycz86IFJlYWRvbmx5QXJyYXk8R3JhcGhRTEVycm9yPjtcbiAgICBuZXR3b3JrRXJyb3I/OiBFcnJvciB8IG51bGw7XG4gICAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xuICAgIGV4dHJhSW5mbz86IGFueTtcbiAgfSkge1xuICAgIHN1cGVyKGVycm9yTWVzc2FnZSk7XG4gICAgdGhpcy5ncmFwaFFMRXJyb3JzID0gZ3JhcGhRTEVycm9ycyB8fCBbXTtcbiAgICB0aGlzLm5ldHdvcmtFcnJvciA9IG5ldHdvcmtFcnJvciB8fCBudWxsO1xuXG4gICAgaWYgKCFlcnJvck1lc3NhZ2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGdlbmVyYXRlRXJyb3JNZXNzYWdlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvck1lc3NhZ2U7XG4gICAgfVxuXG4gICAgdGhpcy5leHRyYUluZm8gPSBleHRyYUluZm87XG5cbiAgICAvLyBXZSdyZSBub3QgdXNpbmcgYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgaGVyZSBhcyBpdCBpc24ndCBmdWxseVxuICAgIC8vIHN1cHBvcnRlZCBvbiBBbmRyb2lkIChzZWUgaXNzdWUgIzMyMzYpLlxuICAgICh0aGlzIGFzIGFueSkuX19wcm90b19fID0gQXBvbGxvRXJyb3IucHJvdG90eXBlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGZXRjaFJlc3VsdCB9IGZyb20gJ2Fwb2xsby1saW5rJztcbmltcG9ydCB7IERvY3VtZW50Tm9kZSwgR3JhcGhRTEVycm9yIH0gZnJvbSAnZ3JhcGhxbCc7XG5cbmltcG9ydCB7IFF1ZXJ5U3RvcmVWYWx1ZSB9IGZyb20gJy4uL2RhdGEvcXVlcmllcyc7XG5pbXBvcnQgeyBOZXR3b3JrU3RhdHVzIH0gZnJvbSAnLi9uZXR3b3JrU3RhdHVzJztcbmltcG9ydCB7IFJlc29sdmVyIH0gZnJvbSAnLi9Mb2NhbFN0YXRlJztcblxuZXhwb3J0IHR5cGUgUXVlcnlMaXN0ZW5lciA9IChcbiAgcXVlcnlTdG9yZVZhbHVlOiBRdWVyeVN0b3JlVmFsdWUsXG4gIG5ld0RhdGE/OiBhbnksXG4gIGZvcmNlUmVzb2x2ZXJzPzogYm9vbGVhbixcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgT3BlcmF0aW9uVmFyaWFibGVzID0geyBba2V5OiBzdHJpbmddOiBhbnkgfTtcblxuZXhwb3J0IHR5cGUgUHVyZVF1ZXJ5T3B0aW9ucyA9IHtcbiAgcXVlcnk6IERvY3VtZW50Tm9kZTtcbiAgdmFyaWFibGVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgY29udGV4dD86IGFueTtcbn07XG5cbmV4cG9ydCB0eXBlIEFwb2xsb1F1ZXJ5UmVzdWx0PFQ+ID0ge1xuICBkYXRhOiBUO1xuICBlcnJvcnM/OiBSZWFkb25seUFycmF5PEdyYXBoUUxFcnJvcj47XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIG5ldHdvcmtTdGF0dXM6IE5ldHdvcmtTdGF0dXM7XG4gIHN0YWxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGVudW0gRmV0Y2hUeXBlIHtcbiAgbm9ybWFsID0gMSxcbiAgcmVmZXRjaCA9IDIsXG4gIHBvbGwgPSAzLFxufVxuXG4vLyBUaGlzIGlzIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEksIHBlb3BsZSB3cml0ZSB0aGVzZSBmdW5jdGlvbnMgaW4gYHVwZGF0ZVF1ZXJpZXNgLlxuZXhwb3J0IHR5cGUgTXV0YXRpb25RdWVyeVJlZHVjZXI8VD4gPSAoXG4gIHByZXZpb3VzUmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICBvcHRpb25zOiB7XG4gICAgbXV0YXRpb25SZXN1bHQ6IEZldGNoUmVzdWx0PFQ+O1xuICAgIHF1ZXJ5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHF1ZXJ5VmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9LFxuKSA9PiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5leHBvcnQgdHlwZSBNdXRhdGlvblF1ZXJ5UmVkdWNlcnNNYXA8VCA9IHsgW2tleTogc3RyaW5nXTogYW55IH0+ID0ge1xuICBbcXVlcnlOYW1lOiBzdHJpbmddOiBNdXRhdGlvblF1ZXJ5UmVkdWNlcjxUPjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb2x2ZXJzIHtcbiAgW2tleTogc3RyaW5nXToge1xuICAgIFsgZmllbGQ6IHN0cmluZyBdOiBSZXNvbHZlcjtcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIGlzRXF1YWwsXG4gIHRyeUZ1bmN0aW9uT3JMb2dFcnJvcixcbiAgY2xvbmVEZWVwLFxuICBnZXRPcGVyYXRpb25EZWZpbml0aW9uLFxufSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcbmltcG9ydCB7IEdyYXBoUUxFcnJvciB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgTmV0d29ya1N0YXR1cywgaXNOZXR3b3JrUmVxdWVzdEluRmxpZ2h0IH0gZnJvbSAnLi9uZXR3b3JrU3RhdHVzJztcbmltcG9ydCB7IE9ic2VydmFibGUsIE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi91dGlsL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQXBvbGxvRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvQXBvbGxvRXJyb3InO1xuaW1wb3J0IHsgUXVlcnlNYW5hZ2VyIH0gZnJvbSAnLi9RdWVyeU1hbmFnZXInO1xuaW1wb3J0IHsgQXBvbGxvUXVlcnlSZXN1bHQsIEZldGNoVHlwZSwgT3BlcmF0aW9uVmFyaWFibGVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBXYXRjaFF1ZXJ5T3B0aW9ucyxcbiAgRmV0Y2hNb3JlUXVlcnlPcHRpb25zLFxuICBTdWJzY3JpYmVUb01vcmVPcHRpb25zLFxuICBFcnJvclBvbGljeSxcbn0gZnJvbSAnLi93YXRjaFF1ZXJ5T3B0aW9ucyc7XG5cbmltcG9ydCB7IFF1ZXJ5U3RvcmVWYWx1ZSB9IGZyb20gJy4uL2RhdGEvcXVlcmllcyc7XG5cbmltcG9ydCB7IGludmFyaWFudCwgSW52YXJpYW50RXJyb3IgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuaW1wb3J0IHsgaXNOb25FbXB0eUFycmF5IH0gZnJvbSAnLi4vdXRpbC9hcnJheXMnO1xuXG4vLyBYWFggcmVtb3ZlIGluIHRoZSBuZXh0IGJyZWFraW5nIHNlbXZlciBjaGFuZ2UgKDMuMClcbi8vIERlcHJlY2F0ZWQsIHVzZSBBcG9sbG9DdXJyZW50UXVlcnlSZXN1bHRcbmV4cG9ydCB0eXBlIEFwb2xsb0N1cnJlbnRSZXN1bHQ8VD4gPSB7XG4gIGRhdGE6IFQgfCB7fTtcbiAgZXJyb3JzPzogUmVhZG9ubHlBcnJheTxHcmFwaFFMRXJyb3I+O1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBuZXR3b3JrU3RhdHVzOiBOZXR3b3JrU3RhdHVzO1xuICBlcnJvcj86IEFwb2xsb0Vycm9yO1xuICBwYXJ0aWFsPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIEFwb2xsb0N1cnJlbnRRdWVyeVJlc3VsdDxUPiA9IHtcbiAgZGF0YTogVCB8IHVuZGVmaW5lZDtcbiAgZXJyb3JzPzogUmVhZG9ubHlBcnJheTxHcmFwaFFMRXJyb3I+O1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBuZXR3b3JrU3RhdHVzOiBOZXR3b3JrU3RhdHVzO1xuICBlcnJvcj86IEFwb2xsb0Vycm9yO1xuICBwYXJ0aWFsPzogYm9vbGVhbjtcbiAgc3RhbGU/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBGZXRjaE1vcmVPcHRpb25zPFxuICBURGF0YSA9IGFueSxcbiAgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlc1xuPiB7XG4gIHVwZGF0ZVF1ZXJ5OiAoXG4gICAgcHJldmlvdXNRdWVyeVJlc3VsdDogVERhdGEsXG4gICAgb3B0aW9uczoge1xuICAgICAgZmV0Y2hNb3JlUmVzdWx0PzogVERhdGE7XG4gICAgICB2YXJpYWJsZXM/OiBUVmFyaWFibGVzO1xuICAgIH0sXG4gICkgPT4gVERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUXVlcnlPcHRpb25zPFRWYXJpYWJsZXM+IHtcbiAgdmFyaWFibGVzPzogVFZhcmlhYmxlcztcbn1cblxuZXhwb3J0IGNvbnN0IGhhc0Vycm9yID0gKFxuICBzdG9yZVZhbHVlOiBRdWVyeVN0b3JlVmFsdWUsXG4gIHBvbGljeTogRXJyb3JQb2xpY3kgPSAnbm9uZScsXG4pID0+IHN0b3JlVmFsdWUgJiYgKFxuICBzdG9yZVZhbHVlLm5ldHdvcmtFcnJvciB8fFxuICAocG9saWN5ID09PSAnbm9uZScgJiYgaXNOb25FbXB0eUFycmF5KHN0b3JlVmFsdWUuZ3JhcGhRTEVycm9ycykpXG4pO1xuXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZVF1ZXJ5PFxuICBURGF0YSA9IGFueSxcbiAgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlc1xuPiBleHRlbmRzIE9ic2VydmFibGU8QXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+PiB7XG4gIHB1YmxpYyBvcHRpb25zOiBXYXRjaFF1ZXJ5T3B0aW9uczxUVmFyaWFibGVzPjtcbiAgcHVibGljIHJlYWRvbmx5IHF1ZXJ5SWQ6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHF1ZXJ5TmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSB2YXJpYWJsZXMgZm9yIHRoaXMgcXVlcnkuIENhbiBjaGFuZ2UuXG4gICAqL1xuICBwdWJsaWMgdmFyaWFibGVzOiBUVmFyaWFibGVzO1xuXG4gIHByaXZhdGUgc2hvdWxkU3Vic2NyaWJlOiBib29sZWFuO1xuICBwcml2YXRlIGlzVG9ybkRvd246IGJvb2xlYW47XG4gIHByaXZhdGUgcXVlcnlNYW5hZ2VyOiBRdWVyeU1hbmFnZXI8YW55PjtcbiAgcHJpdmF0ZSBvYnNlcnZlcnMgPSBuZXcgU2V0PE9ic2VydmVyPEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPj4+KCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQ8U3Vic2NyaXB0aW9uPigpO1xuXG4gIHByaXZhdGUgbGFzdFJlc3VsdDogQXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+O1xuICBwcml2YXRlIGxhc3RSZXN1bHRTbmFwc2hvdDogQXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+O1xuICBwcml2YXRlIGxhc3RFcnJvcjogQXBvbGxvRXJyb3I7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHF1ZXJ5TWFuYWdlcixcbiAgICBvcHRpb25zLFxuICAgIHNob3VsZFN1YnNjcmliZSA9IHRydWUsXG4gIH06IHtcbiAgICBxdWVyeU1hbmFnZXI6IFF1ZXJ5TWFuYWdlcjxhbnk+O1xuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zPFRWYXJpYWJsZXM+O1xuICAgIHNob3VsZFN1YnNjcmliZT86IGJvb2xlYW47XG4gIH0pIHtcbiAgICBzdXBlcigob2JzZXJ2ZXI6IE9ic2VydmVyPEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPj4pID0+XG4gICAgICB0aGlzLm9uU3Vic2NyaWJlKG9ic2VydmVyKSxcbiAgICApO1xuXG4gICAgLy8gYWN0aXZlIHN0YXRlXG4gICAgdGhpcy5pc1Rvcm5Eb3duID0gZmFsc2U7XG5cbiAgICAvLyBxdWVyeSBpbmZvcm1hdGlvblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy52YXJpYWJsZXMgPSBvcHRpb25zLnZhcmlhYmxlcyB8fCAoe30gYXMgVFZhcmlhYmxlcyk7XG4gICAgdGhpcy5xdWVyeUlkID0gcXVlcnlNYW5hZ2VyLmdlbmVyYXRlUXVlcnlJZCgpO1xuICAgIHRoaXMuc2hvdWxkU3Vic2NyaWJlID0gc2hvdWxkU3Vic2NyaWJlO1xuXG4gICAgY29uc3Qgb3BEZWYgPSBnZXRPcGVyYXRpb25EZWZpbml0aW9uKG9wdGlvbnMucXVlcnkpO1xuICAgIHRoaXMucXVlcnlOYW1lID0gb3BEZWYgJiYgb3BEZWYubmFtZSAmJiBvcERlZi5uYW1lLnZhbHVlO1xuXG4gICAgLy8gcmVsYXRlZCBjbGFzc2VzXG4gICAgdGhpcy5xdWVyeU1hbmFnZXIgPSBxdWVyeU1hbmFnZXI7XG4gIH1cblxuICBwdWJsaWMgcmVzdWx0KCk6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IG9ic2VydmVyOiBPYnNlcnZlcjxBcG9sbG9RdWVyeVJlc3VsdDxURGF0YT4+ID0ge1xuICAgICAgICBuZXh0OiAocmVzdWx0OiBBcG9sbG9RdWVyeVJlc3VsdDxURGF0YT4pID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG5cbiAgICAgICAgICAvLyBTdG9wIHRoZSBxdWVyeSB3aXRoaW4gdGhlIFF1ZXJ5TWFuYWdlciBpZiB3ZSBjYW4gYmVmb3JlXG4gICAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gV2UgZG8gdGhpcyBpbiBvcmRlciB0byBwcmV2ZW50IG9ic2VydmVycyBwaWxpbmcgdXAgd2l0aGluXG4gICAgICAgICAgLy8gdGhlIFF1ZXJ5TWFuYWdlci4gTm90aWNlIHRoYXQgd2Ugb25seSBmdWxseSB1bnN1YnNjcmliZVxuICAgICAgICAgIC8vIGZyb20gdGhlIHN1YnNjcmlwdGlvbiBpbiBhIHNldFRpbWVvdXQoLi4uLCAwKSAgY2FsbC4gVGhpcyBjYWxsIGNhblxuICAgICAgICAgIC8vIGFjdHVhbGx5IGJlIGhhbmRsZWQgYnkgdGhlIGJyb3dzZXIgYXQgYSBtdWNoIGxhdGVyIHRpbWUuIElmIHF1ZXJpZXNcbiAgICAgICAgICAvLyBhcmUgZmlyZWQgaW4gdGhlIG1lYW50aW1lLCBvYnNlcnZlcnMgdGhhdCBzaG91bGQgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAvLyBmcm9tIHRoZSBRdWVyeU1hbmFnZXIgd2lsbCBjb250aW51ZSB0byBmaXJlLCBjYXVzaW5nIGFuIHVubmVjZXNzYXJ5XG4gICAgICAgICAgLy8gcGVyZm9ybWFuY2UgaGl0LlxuICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcik7XG4gICAgICAgICAgaWYgKCF0aGlzLm9ic2VydmVycy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5TWFuYWdlci5yZW1vdmVRdWVyeSh0aGlzLnF1ZXJ5SWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gWFhYIHJlbW92ZSBpbiB0aGUgbmV4dCBicmVha2luZyBzZW12ZXIgY2hhbmdlICgzLjApXG4gIC8vIERlcHJlY2F0ZWQsIHVzZSBnZXRDdXJyZW50UmVzdWx0KClcbiAgcHVibGljIGN1cnJlbnRSZXN1bHQoKTogQXBvbGxvQ3VycmVudFJlc3VsdDxURGF0YT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0Q3VycmVudFJlc3VsdCgpIGFzIEFwb2xsb0N1cnJlbnRSZXN1bHQ8VERhdGE+O1xuICAgIGlmIChyZXN1bHQuZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBxdWVyeSBmcm9tIHRoZSBsb2NhbCBjYWNoZSBhcyB3ZWxsIGFzIHNvbWUgZmV0Y2hpbmcgc3RhdHVzXG4gICAqIGBsb2FkaW5nYCBhbmQgYG5ldHdvcmtTdGF0dXNgIGFsbG93IHRvIGtub3cgaWYgYSByZXF1ZXN0IGlzIGluIGZsaWdodFxuICAgKiBgcGFydGlhbGAgbGV0cyB5b3Uga25vdyBpZiB0aGUgcmVzdWx0IGZyb20gdGhlIGxvY2FsIGNhY2hlIGlzIGNvbXBsZXRlIG9yIHBhcnRpYWxcbiAgICogQHJldHVybiB7ZGF0YTogT2JqZWN0LCBlcnJvcjogQXBvbGxvRXJyb3IsIGxvYWRpbmc6IGJvb2xlYW4sIG5ldHdvcmtTdGF0dXM6IG51bWJlciwgcGFydGlhbDogYm9vbGVhbn1cbiAgICovXG4gIHB1YmxpYyBnZXRDdXJyZW50UmVzdWx0KCk6IEFwb2xsb0N1cnJlbnRRdWVyeVJlc3VsdDxURGF0YT4ge1xuICAgIGlmICh0aGlzLmlzVG9ybkRvd24pIHtcbiAgICAgIGNvbnN0IHsgbGFzdFJlc3VsdCB9ID0gdGhpcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6ICF0aGlzLmxhc3RFcnJvciAmJiBsYXN0UmVzdWx0ICYmIGxhc3RSZXN1bHQuZGF0YSB8fCB2b2lkIDAsXG4gICAgICAgIGVycm9yOiB0aGlzLmxhc3RFcnJvcixcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIG5ldHdvcmtTdGF0dXM6IE5ldHdvcmtTdGF0dXMuZXJyb3IsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgcGFydGlhbCB9ID0gdGhpcy5xdWVyeU1hbmFnZXIuZ2V0Q3VycmVudFF1ZXJ5UmVzdWx0KHRoaXMpO1xuICAgIGNvbnN0IHF1ZXJ5U3RvcmVWYWx1ZSA9IHRoaXMucXVlcnlNYW5hZ2VyLnF1ZXJ5U3RvcmUuZ2V0KHRoaXMucXVlcnlJZCk7XG4gICAgbGV0IHJlc3VsdDogQXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+O1xuXG4gICAgY29uc3QgeyBmZXRjaFBvbGljeSB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgY29uc3QgaXNOZXR3b3JrRmV0Y2hQb2xpY3kgPVxuICAgICAgZmV0Y2hQb2xpY3kgPT09ICduZXR3b3JrLW9ubHknIHx8XG4gICAgICBmZXRjaFBvbGljeSA9PT0gJ25vLWNhY2hlJztcblxuICAgIGlmIChxdWVyeVN0b3JlVmFsdWUpIHtcbiAgICAgIGNvbnN0IHsgbmV0d29ya1N0YXR1cyB9ID0gcXVlcnlTdG9yZVZhbHVlO1xuXG4gICAgICBpZiAoaGFzRXJyb3IocXVlcnlTdG9yZVZhbHVlLCB0aGlzLm9wdGlvbnMuZXJyb3JQb2xpY3kpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogdm9pZCAwLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIG5ldHdvcmtTdGF0dXMsXG4gICAgICAgICAgZXJyb3I6IG5ldyBBcG9sbG9FcnJvcih7XG4gICAgICAgICAgICBncmFwaFFMRXJyb3JzOiBxdWVyeVN0b3JlVmFsdWUuZ3JhcGhRTEVycm9ycyxcbiAgICAgICAgICAgIG5ldHdvcmtFcnJvcjogcXVlcnlTdG9yZVZhbHVlLm5ldHdvcmtFcnJvcixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFyaWFibGVzIG1pZ2h0IGhhdmUgYmVlbiBhZGRlZCBkeW5hbWljYWxseSBhdCBxdWVyeSB0aW1lLCB3aGVuXG4gICAgICAvLyB1c2luZyBgQGNsaWVudCBAZXhwb3J0KGFzOiBcInZhcm5hbWVcIilgIGZvciBleGFtcGxlLiBXaGVuIHRoaXMgaGFwcGVucyxcbiAgICAgIC8vIHRoZSB2YXJpYWJsZXMgaGF2ZSBiZWVuIHVwZGF0ZWQgaW4gdGhlIHF1ZXJ5IHN0b3JlLCBidXQgbm90IHVwZGF0ZWQgb25cbiAgICAgIC8vIHRoZSBvcmlnaW5hbCBgT2JzZXJ2YWJsZVF1ZXJ5YC4gV2UnbGwgdXBkYXRlIHRoZSBvYnNlcnZhYmxlIHF1ZXJ5XG4gICAgICAvLyB2YXJpYWJsZXMgaGVyZSB0byBtYXRjaCwgc28gcmV0cmlldmluZyBmcm9tIHRoZSBjYWNoZSBkb2Vzbid0IGZhaWwuXG4gICAgICBpZiAocXVlcnlTdG9yZVZhbHVlLnZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmFyaWFibGVzID0ge1xuICAgICAgICAgIC4uLnRoaXMub3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgICAgLi4uKHF1ZXJ5U3RvcmVWYWx1ZS52YXJpYWJsZXMgYXMgVFZhcmlhYmxlcyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gdGhpcy5vcHRpb25zLnZhcmlhYmxlcztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBkYXRhLFxuICAgICAgICBsb2FkaW5nOiBpc05ldHdvcmtSZXF1ZXN0SW5GbGlnaHQobmV0d29ya1N0YXR1cyksXG4gICAgICAgIG5ldHdvcmtTdGF0dXMsXG4gICAgICB9IGFzIEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPjtcblxuICAgICAgaWYgKHF1ZXJ5U3RvcmVWYWx1ZS5ncmFwaFFMRXJyb3JzICYmIHRoaXMub3B0aW9ucy5lcnJvclBvbGljeSA9PT0gJ2FsbCcpIHtcbiAgICAgICAgcmVzdWx0LmVycm9ycyA9IHF1ZXJ5U3RvcmVWYWx1ZS5ncmFwaFFMRXJyb3JzO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gYmUgY2FyZWZ1bCBhYm91dCB0aGUgbG9hZGluZyBzdGF0ZSB3ZSBzaG93IHRvIHRoZSB1c2VyLCB0byB0cnlcbiAgICAgIC8vIGFuZCBiZSB2YWd1ZWx5IGluIGxpbmUgd2l0aCB3aGF0IHRoZSB1c2VyIHdvdWxkIGhhdmUgc2VlbiBmcm9tIC5zdWJzY3JpYmUoKVxuICAgICAgLy8gYnV0IHRvIHN0aWxsIHByb3ZpZGUgdXNlZnVsIGluZm9ybWF0aW9uIHN5bmNocm9ub3VzbHkgd2hlbiB0aGUgcXVlcnlcbiAgICAgIC8vIHdpbGwgbm90IGVuZCB1cCBoaXR0aW5nIHRoZSBzZXJ2ZXIuXG4gICAgICAvLyBTZWUgbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2Fwb2xsb3N0YWNrL2Fwb2xsby1jbGllbnQvaXNzdWVzLzcwN1xuICAgICAgLy8gQmFzaWNhbGx5OiBpcyB0aGVyZSBhIHF1ZXJ5IGluIGZsaWdodCByaWdodCBub3cgKG1vZG9sbyB0aGUgbmV4dCB0aWNrKT9cbiAgICAgIGNvbnN0IGxvYWRpbmcgPSBpc05ldHdvcmtGZXRjaFBvbGljeSB8fFxuICAgICAgICAocGFydGlhbCAmJiBmZXRjaFBvbGljeSAhPT0gJ2NhY2hlLW9ubHknKTtcblxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBkYXRhLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBuZXR3b3JrU3RhdHVzOiBsb2FkaW5nID8gTmV0d29ya1N0YXR1cy5sb2FkaW5nIDogTmV0d29ya1N0YXR1cy5yZWFkeSxcbiAgICAgIH0gYXMgQXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+O1xuICAgIH1cblxuICAgIGlmICghcGFydGlhbCkge1xuICAgICAgdGhpcy51cGRhdGVMYXN0UmVzdWx0KHsgLi4ucmVzdWx0LCBzdGFsZTogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBwYXJ0aWFsIH07XG4gIH1cblxuICAvLyBDb21wYXJlcyBuZXdSZXN1bHQgdG8gdGhlIHNuYXBzaG90IHdlIHRvb2sgb2YgdGhpcy5sYXN0UmVzdWx0IHdoZW4gaXQgd2FzXG4gIC8vIGZpcnN0IHJlY2VpdmVkLlxuICBwdWJsaWMgaXNEaWZmZXJlbnRGcm9tTGFzdFJlc3VsdChuZXdSZXN1bHQ6IEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPikge1xuICAgIGNvbnN0IHsgbGFzdFJlc3VsdFNuYXBzaG90OiBzbmFwc2hvdCB9ID0gdGhpcztcbiAgICByZXR1cm4gIShcbiAgICAgIHNuYXBzaG90ICYmXG4gICAgICBuZXdSZXN1bHQgJiZcbiAgICAgIHNuYXBzaG90Lm5ldHdvcmtTdGF0dXMgPT09IG5ld1Jlc3VsdC5uZXR3b3JrU3RhdHVzICYmXG4gICAgICBzbmFwc2hvdC5zdGFsZSA9PT0gbmV3UmVzdWx0LnN0YWxlICYmXG4gICAgICBpc0VxdWFsKHNuYXBzaG90LmRhdGEsIG5ld1Jlc3VsdC5kYXRhKVxuICAgICk7XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBsYXN0IHJlc3VsdCB0aGF0IG9ic2VydmVyLm5leHQgd2FzIGNhbGxlZCB3aXRoLiBUaGlzIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAvLyBnZXRDdXJyZW50UmVzdWx0ISBJZiB5b3UncmUgbm90IHN1cmUgd2hpY2ggeW91IG5lZWQsIHRoZW4geW91IHByb2JhYmx5IG5lZWQgZ2V0Q3VycmVudFJlc3VsdC5cbiAgcHVibGljIGdldExhc3RSZXN1bHQoKTogQXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+IHtcbiAgICByZXR1cm4gdGhpcy5sYXN0UmVzdWx0O1xuICB9XG5cbiAgcHVibGljIGdldExhc3RFcnJvcigpOiBBcG9sbG9FcnJvciB7XG4gICAgcmV0dXJuIHRoaXMubGFzdEVycm9yO1xuICB9XG5cbiAgcHVibGljIHJlc2V0TGFzdFJlc3VsdHMoKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMubGFzdFJlc3VsdDtcbiAgICBkZWxldGUgdGhpcy5sYXN0UmVzdWx0U25hcHNob3Q7XG4gICAgZGVsZXRlIHRoaXMubGFzdEVycm9yO1xuICAgIHRoaXMuaXNUb3JuRG93biA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHJlc2V0UXVlcnlTdG9yZUVycm9ycygpIHtcbiAgICBjb25zdCBxdWVyeVN0b3JlID0gdGhpcy5xdWVyeU1hbmFnZXIucXVlcnlTdG9yZS5nZXQodGhpcy5xdWVyeUlkKTtcbiAgICBpZiAocXVlcnlTdG9yZSkge1xuICAgICAgcXVlcnlTdG9yZS5uZXR3b3JrRXJyb3IgPSBudWxsO1xuICAgICAgcXVlcnlTdG9yZS5ncmFwaFFMRXJyb3JzID0gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgdmFyaWFibGVzIG9mIHRoaXMgb2JzZXJ2YWJsZSBxdWVyeSwgYW5kIGZldGNoIHRoZSBuZXcgcmVzdWx0cy5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHByZWZlcnJlZCBvdmVyIGBzZXRWYXJpYWJsZXNgIGluIG1vc3QgdXNlIGNhc2VzLlxuICAgKlxuICAgKiBAcGFyYW0gdmFyaWFibGVzOiBUaGUgbmV3IHNldCBvZiB2YXJpYWJsZXMuIElmIHRoZXJlIGFyZSBtaXNzaW5nIHZhcmlhYmxlcyxcbiAgICogdGhlIHByZXZpb3VzIHZhbHVlcyBvZiB0aG9zZSB2YXJpYWJsZXMgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgcHVibGljIHJlZmV0Y2godmFyaWFibGVzPzogVFZhcmlhYmxlcyk6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+PiB7XG4gICAgbGV0IHsgZmV0Y2hQb2xpY3kgfSA9IHRoaXMub3B0aW9ucztcbiAgICAvLyBlYXJseSByZXR1cm4gaWYgdHJ5aW5nIHRvIHJlYWQgZnJvbSBjYWNoZSBkdXJpbmcgcmVmZXRjaFxuICAgIGlmIChmZXRjaFBvbGljeSA9PT0gJ2NhY2hlLW9ubHknKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEludmFyaWFudEVycm9yKFxuICAgICAgICAnY2FjaGUtb25seSBmZXRjaFBvbGljeSBvcHRpb24gc2hvdWxkIG5vdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggcXVlcnkgcmVmZXRjaC4nLFxuICAgICAgKSk7XG4gICAgfVxuXG4gICAgLy8gVW5sZXNzIHRoZSBwcm92aWRlZCBmZXRjaFBvbGljeSBhbHdheXMgY29uc3VsdHMgdGhlIG5ldHdvcmtcbiAgICAvLyAobm8tY2FjaGUsIG5ldHdvcmstb25seSwgb3IgY2FjaGUtYW5kLW5ldHdvcmspLCBvdmVycmlkZSBpdCB3aXRoXG4gICAgLy8gbmV0d29yay1vbmx5IHRvIGZvcmNlIHRoZSByZWZldGNoIGZvciB0aGlzIGZldGNoUXVlcnkgY2FsbC5cbiAgICBpZiAoZmV0Y2hQb2xpY3kgIT09ICduby1jYWNoZScgJiZcbiAgICAgICAgZmV0Y2hQb2xpY3kgIT09ICdjYWNoZS1hbmQtbmV0d29yaycpIHtcbiAgICAgIGZldGNoUG9saWN5ID0gJ25ldHdvcmstb25seSc7XG4gICAgfVxuXG4gICAgaWYgKCFpc0VxdWFsKHRoaXMudmFyaWFibGVzLCB2YXJpYWJsZXMpKSB7XG4gICAgICAvLyB1cGRhdGUgb2JzZXJ2YWJsZSB2YXJpYWJsZXNcbiAgICAgIHRoaXMudmFyaWFibGVzID0ge1xuICAgICAgICAuLi50aGlzLnZhcmlhYmxlcyxcbiAgICAgICAgLi4udmFyaWFibGVzLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRXF1YWwodGhpcy5vcHRpb25zLnZhcmlhYmxlcywgdGhpcy52YXJpYWJsZXMpKSB7XG4gICAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIG9wdGlvbnMgd2l0aCBuZXcgdmFyaWFibGVzXG4gICAgICB0aGlzLm9wdGlvbnMudmFyaWFibGVzID0ge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMudmFyaWFibGVzLFxuICAgICAgICAuLi50aGlzLnZhcmlhYmxlcyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucXVlcnlNYW5hZ2VyLmZldGNoUXVlcnkoXG4gICAgICB0aGlzLnF1ZXJ5SWQsXG4gICAgICB7IC4uLnRoaXMub3B0aW9ucywgZmV0Y2hQb2xpY3kgfSxcbiAgICAgIEZldGNoVHlwZS5yZWZldGNoLFxuICAgICkgYXMgUHJvbWlzZTxBcG9sbG9RdWVyeVJlc3VsdDxURGF0YT4+O1xuICB9XG5cbiAgcHVibGljIGZldGNoTW9yZTxLIGV4dGVuZHMga2V5b2YgVFZhcmlhYmxlcz4oXG4gICAgZmV0Y2hNb3JlT3B0aW9uczogRmV0Y2hNb3JlUXVlcnlPcHRpb25zPFRWYXJpYWJsZXMsIEs+ICZcbiAgICAgIEZldGNoTW9yZU9wdGlvbnM8VERhdGEsIFRWYXJpYWJsZXM+LFxuICApOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPj4ge1xuICAgIC8vIGVhcmx5IHJldHVybiBpZiBubyB1cGRhdGUgUXVlcnlcbiAgICBpbnZhcmlhbnQoXG4gICAgICBmZXRjaE1vcmVPcHRpb25zLnVwZGF0ZVF1ZXJ5LFxuICAgICAgJ3VwZGF0ZVF1ZXJ5IG9wdGlvbiBpcyByZXF1aXJlZC4gVGhpcyBmdW5jdGlvbiBkZWZpbmVzIGhvdyB0byB1cGRhdGUgdGhlIHF1ZXJ5IGRhdGEgd2l0aCB0aGUgbmV3IHJlc3VsdHMuJyxcbiAgICApO1xuXG4gICAgY29uc3QgY29tYmluZWRPcHRpb25zID0ge1xuICAgICAgLi4uKGZldGNoTW9yZU9wdGlvbnMucXVlcnkgPyBmZXRjaE1vcmVPcHRpb25zIDoge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAgIC4uLmZldGNoTW9yZU9wdGlvbnMsXG4gICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgIC4uLnRoaXMudmFyaWFibGVzLFxuICAgICAgICAgIC4uLmZldGNoTW9yZU9wdGlvbnMudmFyaWFibGVzLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICBmZXRjaFBvbGljeTogJ25ldHdvcmstb25seScsXG4gICAgfSBhcyBXYXRjaFF1ZXJ5T3B0aW9ucztcblxuICAgIGNvbnN0IHFpZCA9IHRoaXMucXVlcnlNYW5hZ2VyLmdlbmVyYXRlUXVlcnlJZCgpO1xuXG4gICAgcmV0dXJuIHRoaXMucXVlcnlNYW5hZ2VyXG4gICAgICAuZmV0Y2hRdWVyeShcbiAgICAgICAgcWlkLFxuICAgICAgICBjb21iaW5lZE9wdGlvbnMsXG4gICAgICAgIEZldGNoVHlwZS5ub3JtYWwsXG4gICAgICAgIHRoaXMucXVlcnlJZCxcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICBmZXRjaE1vcmVSZXN1bHQgPT4ge1xuICAgICAgICAgIHRoaXMudXBkYXRlUXVlcnkoKHByZXZpb3VzUmVzdWx0OiBhbnkpID0+XG4gICAgICAgICAgICBmZXRjaE1vcmVPcHRpb25zLnVwZGF0ZVF1ZXJ5KHByZXZpb3VzUmVzdWx0LCB7XG4gICAgICAgICAgICAgIGZldGNoTW9yZVJlc3VsdDogZmV0Y2hNb3JlUmVzdWx0LmRhdGEgYXMgVERhdGEsXG4gICAgICAgICAgICAgIHZhcmlhYmxlczogY29tYmluZWRPcHRpb25zLnZhcmlhYmxlcyBhcyBUVmFyaWFibGVzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnF1ZXJ5TWFuYWdlci5zdG9wUXVlcnkocWlkKTtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hNb3JlUmVzdWx0IGFzIEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPjtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIHRoaXMucXVlcnlNYW5hZ2VyLnN0b3BRdWVyeShxaWQpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgfVxuXG4gIC8vIFhYWCB0aGUgc3Vic2NyaXB0aW9uIHZhcmlhYmxlcyBhcmUgc2VwYXJhdGUgZnJvbSB0aGUgcXVlcnkgdmFyaWFibGVzLlxuICAvLyBpZiB5b3Ugd2FudCB0byB1cGRhdGUgc3Vic2NyaXB0aW9uIHZhcmlhYmxlcywgcmlnaHQgbm93IHlvdSBoYXZlIHRvIGRvIHRoYXQgc2VwYXJhdGVseSxcbiAgLy8gYW5kIHlvdSBjYW4gb25seSBkbyBpdCBieSBzdG9wcGluZyB0aGUgc3Vic2NyaXB0aW9uIGFuZCB0aGVuIHN1YnNjcmliaW5nIGFnYWluIHdpdGggbmV3IHZhcmlhYmxlcy5cbiAgcHVibGljIHN1YnNjcmliZVRvTW9yZTxcbiAgICBUU3Vic2NyaXB0aW9uRGF0YSA9IFREYXRhLFxuICAgIFRTdWJzY3JpcHRpb25WYXJpYWJsZXMgPSBUVmFyaWFibGVzXG4gID4oXG4gICAgb3B0aW9uczogU3Vic2NyaWJlVG9Nb3JlT3B0aW9uczxcbiAgICAgIFREYXRhLFxuICAgICAgVFN1YnNjcmlwdGlvblZhcmlhYmxlcyxcbiAgICAgIFRTdWJzY3JpcHRpb25EYXRhXG4gICAgPixcbiAgKSB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5xdWVyeU1hbmFnZXJcbiAgICAgIC5zdGFydEdyYXBoUUxTdWJzY3JpcHRpb24oe1xuICAgICAgICBxdWVyeTogb3B0aW9ucy5kb2N1bWVudCxcbiAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgIH0pXG4gICAgICAuc3Vic2NyaWJlKHtcbiAgICAgICAgbmV4dDogKHN1YnNjcmlwdGlvbkRhdGE6IHsgZGF0YTogVFN1YnNjcmlwdGlvbkRhdGEgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdXBkYXRlUXVlcnkgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgaWYgKHVwZGF0ZVF1ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1ZXJ5PFRTdWJzY3JpcHRpb25WYXJpYWJsZXM+KFxuICAgICAgICAgICAgICAocHJldmlvdXMsIHsgdmFyaWFibGVzIH0pID0+XG4gICAgICAgICAgICAgICAgdXBkYXRlUXVlcnkocHJldmlvdXMsIHtcbiAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEsXG4gICAgICAgICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChvcHRpb25zLm9uRXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25FcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnZhcmlhbnQuZXJyb3IoJ1VuaGFuZGxlZCBHcmFwaFFMIHN1YnNjcmlwdGlvbiBlcnJvcicsIGVycik7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShzdWJzY3JpcHRpb24pKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBOb3RlOiBpZiB0aGUgcXVlcnkgaXMgbm90IGFjdGl2ZSAodGhlcmUgYXJlIG5vIHN1YnNjcmliZXJzKSwgdGhlIHByb21pc2VcbiAgLy8gd2lsbCByZXR1cm4gbnVsbCBpbW1lZGlhdGVseS5cbiAgcHVibGljIHNldE9wdGlvbnMoXG4gICAgb3B0czogV2F0Y2hRdWVyeU9wdGlvbnMsXG4gICk6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8VERhdGE+IHwgdm9pZD4ge1xuICAgIGNvbnN0IHsgZmV0Y2hQb2xpY3k6IG9sZEZldGNoUG9saWN5IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4ub3B0cyxcbiAgICB9IGFzIFdhdGNoUXVlcnlPcHRpb25zPFRWYXJpYWJsZXM+O1xuXG4gICAgaWYgKG9wdHMucG9sbEludGVydmFsKSB7XG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhvcHRzLnBvbGxJbnRlcnZhbCk7XG4gICAgfSBlbHNlIGlmIChvcHRzLnBvbGxJbnRlcnZhbCA9PT0gMCkge1xuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZmV0Y2hQb2xpY3kgfSA9IG9wdHM7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRWYXJpYWJsZXMoXG4gICAgICB0aGlzLm9wdGlvbnMudmFyaWFibGVzIGFzIFRWYXJpYWJsZXMsXG4gICAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIHF1ZXJ5IGlmIGZldGNoUG9saWN5IGNoYW5nZWQgZnJvbSBlaXRoZXIgY2FjaGUtb25seVxuICAgICAgLy8gb3Igc3RhbmRieSB0byBzb21ldGhpbmcgZWxzZSwgb3IgY2hhbmdlZCB0byBuZXR3b3JrLW9ubHkuXG4gICAgICBvbGRGZXRjaFBvbGljeSAhPT0gZmV0Y2hQb2xpY3kgJiYgKFxuICAgICAgICBvbGRGZXRjaFBvbGljeSA9PT0gJ2NhY2hlLW9ubHknIHx8XG4gICAgICAgIG9sZEZldGNoUG9saWN5ID09PSAnc3RhbmRieScgfHxcbiAgICAgICAgZmV0Y2hQb2xpY3kgPT09ICduZXR3b3JrLW9ubHknXG4gICAgICApLFxuICAgICAgb3B0cy5mZXRjaFJlc3VsdHMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGZvciAqaW50ZXJuYWwqIHVzZSBvbmx5LiBNb3N0IHVzZXJzIHNob3VsZCBpbnN0ZWFkIHVzZSBgcmVmZXRjaGBcbiAgICogaW4gb3JkZXIgdG8gYmUgcHJvcGVybHkgbm90aWZpZWQgb2YgcmVzdWx0cyBldmVuIHdoZW4gdGhleSBjb21lIGZyb20gY2FjaGUuXG4gICAqXG4gICAqIFVwZGF0ZSB0aGUgdmFyaWFibGVzIG9mIHRoaXMgb2JzZXJ2YWJsZSBxdWVyeSwgYW5kIGZldGNoIHRoZSBuZXcgcmVzdWx0c1xuICAgKiBpZiB0aGV5J3ZlIGNoYW5nZWQuIElmIHlvdSB3YW50IHRvIGZvcmNlIG5ldyByZXN1bHRzLCB1c2UgYHJlZmV0Y2hgLlxuICAgKlxuICAgKiBOb3RlOiB0aGUgYG5leHRgIGNhbGxiYWNrIHdpbGwgKm5vdCogZmlyZSBpZiB0aGUgdmFyaWFibGVzIGhhdmUgbm90IGNoYW5nZWRcbiAgICogb3IgaWYgdGhlIHJlc3VsdCBpcyBjb21pbmcgZnJvbSBjYWNoZS5cbiAgICpcbiAgICogTm90ZTogdGhlIHByb21pc2Ugd2lsbCByZXR1cm4gdGhlIG9sZCByZXN1bHRzIGltbWVkaWF0ZWx5IGlmIHRoZSB2YXJpYWJsZXNcbiAgICogaGF2ZSBub3QgY2hhbmdlZC5cbiAgICpcbiAgICogTm90ZTogdGhlIHByb21pc2Ugd2lsbCByZXR1cm4gbnVsbCBpbW1lZGlhdGVseSBpZiB0aGUgcXVlcnkgaXMgbm90IGFjdGl2ZVxuICAgKiAodGhlcmUgYXJlIG5vIHN1YnNjcmliZXJzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQHBhcmFtIHZhcmlhYmxlczogVGhlIG5ldyBzZXQgb2YgdmFyaWFibGVzLiBJZiB0aGVyZSBhcmUgbWlzc2luZyB2YXJpYWJsZXMsXG4gICAqIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhvc2UgdmFyaWFibGVzIHdpbGwgYmUgdXNlZC5cbiAgICpcbiAgICogQHBhcmFtIHRyeUZldGNoOiBUcnkgYW5kIGZldGNoIG5ldyByZXN1bHRzIGV2ZW4gaWYgdGhlIHZhcmlhYmxlcyBoYXZlbid0XG4gICAqIGNoYW5nZWQgKHdlIG1heSBzdGlsbCBqdXN0IGhpdCB0aGUgc3RvcmUsIGJ1dCBpZiB0aGVyZSdzIG5vdGhpbmcgaW4gdGhlcmVcbiAgICogdGhpcyB3aWxsIHJlZmV0Y2gpXG4gICAqXG4gICAqIEBwYXJhbSBmZXRjaFJlc3VsdHM6IE9wdGlvbiB0byBpZ25vcmUgZmV0Y2hpbmcgcmVzdWx0cyB3aGVuIHVwZGF0aW5nIHZhcmlhYmxlc1xuICAgKi9cbiAgcHVibGljIHNldFZhcmlhYmxlcyhcbiAgICB2YXJpYWJsZXM6IFRWYXJpYWJsZXMsXG4gICAgdHJ5RmV0Y2g6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICBmZXRjaFJlc3VsdHMgPSB0cnVlLFxuICApOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPiB8IHZvaWQ+IHtcbiAgICAvLyBzaW5jZSBzZXRWYXJpYWJsZXMgcmVzdGFydHMgdGhlIHN1YnNjcmlwdGlvbiwgd2UgcmVzZXQgdGhlIHRvcm5Eb3duIHN0YXR1c1xuICAgIHRoaXMuaXNUb3JuRG93biA9IGZhbHNlO1xuXG4gICAgdmFyaWFibGVzID0gdmFyaWFibGVzIHx8IHRoaXMudmFyaWFibGVzO1xuXG4gICAgaWYgKCF0cnlGZXRjaCAmJiBpc0VxdWFsKHZhcmlhYmxlcywgdGhpcy52YXJpYWJsZXMpKSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIG5vIG9ic2VydmVycywgdGhlbiB3ZSBkb24ndCBhY3R1YWxseSB3YW50IHRvIG1ha2UgYSBuZXR3b3JrXG4gICAgICAvLyByZXF1ZXN0LiBBcyBzb29uIGFzIHNvbWVvbmUgb2JzZXJ2ZXMgdGhlIHF1ZXJ5LCB0aGUgcmVxdWVzdCB3aWxsIGtpY2tcbiAgICAgIC8vIG9mZi4gRm9yIG5vdywgd2UganVzdCBzdG9yZSBhbnkgY2hhbmdlcy4gKFNlZSAjMTA3NylcbiAgICAgIHJldHVybiB0aGlzLm9ic2VydmVycy5zaXplICYmIGZldGNoUmVzdWx0c1xuICAgICAgICA/IHRoaXMucmVzdWx0KClcbiAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhcmlhYmxlcyA9IHRoaXMub3B0aW9ucy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG5cbiAgICAvLyBTZWUgY29tbWVudCBhYm92ZVxuICAgIGlmICghdGhpcy5vYnNlcnZlcnMuc2l6ZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgc2FtZSBvcHRpb25zIGFzIGJlZm9yZSwgYnV0IHdpdGggbmV3IHZhcmlhYmxlc1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5TWFuYWdlci5mZXRjaFF1ZXJ5KFxuICAgICAgdGhpcy5xdWVyeUlkLFxuICAgICAgdGhpcy5vcHRpb25zLFxuICAgICkgYXMgUHJvbWlzZTxBcG9sbG9RdWVyeVJlc3VsdDxURGF0YT4+O1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVF1ZXJ5PFRWYXJzID0gVFZhcmlhYmxlcz4oXG4gICAgbWFwRm46IChcbiAgICAgIHByZXZpb3VzUXVlcnlSZXN1bHQ6IFREYXRhLFxuICAgICAgb3B0aW9uczogVXBkYXRlUXVlcnlPcHRpb25zPFRWYXJzPixcbiAgICApID0+IFREYXRhLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IHF1ZXJ5TWFuYWdlciB9ID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwcmV2aW91c1Jlc3VsdCxcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIGRvY3VtZW50LFxuICAgIH0gPSBxdWVyeU1hbmFnZXIuZ2V0UXVlcnlXaXRoUHJldmlvdXNSZXN1bHQ8VERhdGEsIFRWYXJzPihcbiAgICAgIHRoaXMucXVlcnlJZCxcbiAgICApO1xuXG4gICAgY29uc3QgbmV3UmVzdWx0ID0gdHJ5RnVuY3Rpb25PckxvZ0Vycm9yKCgpID0+XG4gICAgICBtYXBGbihwcmV2aW91c1Jlc3VsdCwgeyB2YXJpYWJsZXMgfSksXG4gICAgKTtcblxuICAgIGlmIChuZXdSZXN1bHQpIHtcbiAgICAgIHF1ZXJ5TWFuYWdlci5kYXRhU3RvcmUubWFya1VwZGF0ZVF1ZXJ5UmVzdWx0KFxuICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBuZXdSZXN1bHQsXG4gICAgICApO1xuICAgICAgcXVlcnlNYW5hZ2VyLmJyb2FkY2FzdFF1ZXJpZXMoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RvcFBvbGxpbmcoKSB7XG4gICAgdGhpcy5xdWVyeU1hbmFnZXIuc3RvcFBvbGxpbmdRdWVyeSh0aGlzLnF1ZXJ5SWQpO1xuICAgIHRoaXMub3B0aW9ucy5wb2xsSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgc3RhcnRQb2xsaW5nKHBvbGxJbnRlcnZhbDogbnVtYmVyKSB7XG4gICAgYXNzZXJ0Tm90Q2FjaGVGaXJzdE9yT25seSh0aGlzKTtcbiAgICB0aGlzLm9wdGlvbnMucG9sbEludGVydmFsID0gcG9sbEludGVydmFsO1xuICAgIHRoaXMucXVlcnlNYW5hZ2VyLnN0YXJ0UG9sbGluZ1F1ZXJ5KHRoaXMub3B0aW9ucywgdGhpcy5xdWVyeUlkKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTGFzdFJlc3VsdChuZXdSZXN1bHQ6IEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPikge1xuICAgIGNvbnN0IHByZXZpb3VzUmVzdWx0ID0gdGhpcy5sYXN0UmVzdWx0O1xuICAgIHRoaXMubGFzdFJlc3VsdCA9IG5ld1Jlc3VsdDtcbiAgICB0aGlzLmxhc3RSZXN1bHRTbmFwc2hvdCA9IHRoaXMucXVlcnlNYW5hZ2VyLmFzc3VtZUltbXV0YWJsZVJlc3VsdHNcbiAgICAgID8gbmV3UmVzdWx0XG4gICAgICA6IGNsb25lRGVlcChuZXdSZXN1bHQpO1xuICAgIHJldHVybiBwcmV2aW91c1Jlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgb25TdWJzY3JpYmUob2JzZXJ2ZXI6IE9ic2VydmVyPEFwb2xsb1F1ZXJ5UmVzdWx0PFREYXRhPj4pIHtcbiAgICAvLyBaZW4gT2JzZXJ2YWJsZSBoYXMgaXRzIG93biBlcnJvciBmdW5jdGlvbiwgc28gaW4gb3JkZXIgdG8gbG9nIGNvcnJlY3RseVxuICAgIC8vIHdlIG5lZWQgdG8gcHJvdmlkZSBhIGN1c3RvbSBlcnJvciBjYWxsYmFjay5cbiAgICB0cnkge1xuICAgICAgdmFyIHN1Yk9ic2VydmVyID0gKG9ic2VydmVyIGFzIGFueSkuX3N1YnNjcmlwdGlvbi5fb2JzZXJ2ZXI7XG4gICAgICBpZiAoc3ViT2JzZXJ2ZXIgJiYgIXN1Yk9ic2VydmVyLmVycm9yKSB7XG4gICAgICAgIHN1Yk9ic2VydmVyLmVycm9yID0gZGVmYXVsdFN1YnNjcmlwdGlvbk9ic2VydmVyRXJyb3JDYWxsYmFjaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG5cbiAgICBjb25zdCBmaXJzdCA9ICF0aGlzLm9ic2VydmVycy5zaXplO1xuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7XG5cbiAgICAvLyBEZWxpdmVyIGluaXRpYWwgcmVzdWx0XG4gICAgaWYgKG9ic2VydmVyLm5leHQgJiYgdGhpcy5sYXN0UmVzdWx0KSBvYnNlcnZlci5uZXh0KHRoaXMubGFzdFJlc3VsdCk7XG4gICAgaWYgKG9ic2VydmVyLmVycm9yICYmIHRoaXMubGFzdEVycm9yKSBvYnNlcnZlci5lcnJvcih0aGlzLmxhc3RFcnJvcik7XG5cbiAgICAvLyBzZXR1cCB0aGUgcXVlcnkgaWYgaXQgaGFzbid0IGJlZW4gZG9uZSBiZWZvcmVcbiAgICBpZiAoZmlyc3QpIHtcbiAgICAgIHRoaXMuc2V0VXBRdWVyeSgpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyKSAmJiAhdGhpcy5vYnNlcnZlcnMuc2l6ZSkge1xuICAgICAgICB0aGlzLnRlYXJEb3duUXVlcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRVcFF1ZXJ5KCkge1xuICAgIGNvbnN0IHsgcXVlcnlNYW5hZ2VyLCBxdWVyeUlkIH0gPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuc2hvdWxkU3Vic2NyaWJlKSB7XG4gICAgICBxdWVyeU1hbmFnZXIuYWRkT2JzZXJ2YWJsZVF1ZXJ5PFREYXRhPihxdWVyeUlkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBvbGxJbnRlcnZhbCkge1xuICAgICAgYXNzZXJ0Tm90Q2FjaGVGaXJzdE9yT25seSh0aGlzKTtcbiAgICAgIHF1ZXJ5TWFuYWdlci5zdGFydFBvbGxpbmdRdWVyeSh0aGlzLm9wdGlvbnMsIHF1ZXJ5SWQpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyb3I6IEFwb2xsb0Vycm9yKSA9PiB7XG4gICAgICAvLyBTaW5jZSB3ZSBkb24ndCBnZXQgdGhlIGN1cnJlbnQgcmVzdWx0IG9uIGVycm9ycywgb25seSB0aGUgZXJyb3IsIHdlXG4gICAgICAvLyBtdXN0IG1pcnJvciB0aGUgdXBkYXRlcyB0aGF0IG9jY3VyIGluIFF1ZXJ5U3RvcmUubWFya1F1ZXJ5RXJyb3IgaGVyZVxuICAgICAgdGhpcy51cGRhdGVMYXN0UmVzdWx0KHtcbiAgICAgICAgLi4udGhpcy5sYXN0UmVzdWx0LFxuICAgICAgICBlcnJvcnM6IGVycm9yLmdyYXBoUUxFcnJvcnMsXG4gICAgICAgIG5ldHdvcmtTdGF0dXM6IE5ldHdvcmtTdGF0dXMuZXJyb3IsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBpdGVyYXRlT2JzZXJ2ZXJzU2FmZWx5KHRoaXMub2JzZXJ2ZXJzLCAnZXJyb3InLCB0aGlzLmxhc3RFcnJvciA9IGVycm9yKTtcbiAgICB9O1xuXG4gICAgcXVlcnlNYW5hZ2VyLm9ic2VydmVRdWVyeTxURGF0YT4ocXVlcnlJZCwgdGhpcy5vcHRpb25zLCB7XG4gICAgICBuZXh0OiAocmVzdWx0OiBBcG9sbG9RdWVyeVJlc3VsdDxURGF0YT4pID0+IHtcbiAgICAgICAgaWYgKHRoaXMubGFzdEVycm9yIHx8IHRoaXMuaXNEaWZmZXJlbnRGcm9tTGFzdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNSZXN1bHQgPSB0aGlzLnVwZGF0ZUxhc3RSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICBjb25zdCB7IHF1ZXJ5LCB2YXJpYWJsZXMsIGZldGNoUG9saWN5IH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAvLyBCZWZvcmUgY2FsbGluZyBgbmV4dGAgb24gZWFjaCBvYnNlcnZlciwgd2UgbmVlZCB0byBmaXJzdCBzZWUgaWZcbiAgICAgICAgICAvLyB0aGUgcXVlcnkgaXMgdXNpbmcgYEBjbGllbnQgQGV4cG9ydGAgZGlyZWN0aXZlcywgYW5kIHVwZGF0ZVxuICAgICAgICAgIC8vIGFueSB2YXJpYWJsZXMgdGhhdCBtaWdodCBoYXZlIGNoYW5nZWQuIElmIGBAZXhwb3J0YCB2YXJpYWJsZXMgaGF2ZVxuICAgICAgICAgIC8vIGNoYW5nZWQsIGFuZCB0aGUgcXVlcnkgaXMgY2FsbGluZyBhZ2FpbnN0IGJvdGggbG9jYWwgYW5kIHJlbW90ZVxuICAgICAgICAgIC8vIGRhdGEsIGEgcmVmZXRjaCBpcyBuZWVkZWQgdG8gcHVsbCBpbiBuZXcgZGF0YSwgdXNpbmcgdGhlXG4gICAgICAgICAgLy8gdXBkYXRlZCBgQGV4cG9ydGAgdmFyaWFibGVzLlxuICAgICAgICAgIGlmIChxdWVyeU1hbmFnZXIudHJhbnNmb3JtKHF1ZXJ5KS5oYXNDbGllbnRFeHBvcnRzKSB7XG4gICAgICAgICAgICBxdWVyeU1hbmFnZXIuZ2V0TG9jYWxTdGF0ZSgpLmFkZEV4cG9ydGVkVmFyaWFibGVzKFxuICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICAgICAgKS50aGVuKCh2YXJpYWJsZXM6IFRWYXJpYWJsZXMpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNWYXJpYWJsZXMgPSB0aGlzLnZhcmlhYmxlcztcbiAgICAgICAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB0aGlzLm9wdGlvbnMudmFyaWFibGVzID0gdmFyaWFibGVzO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXJlc3VsdC5sb2FkaW5nICYmXG4gICAgICAgICAgICAgICAgcHJldmlvdXNSZXN1bHQgJiZcbiAgICAgICAgICAgICAgICBmZXRjaFBvbGljeSAhPT0gJ2NhY2hlLW9ubHknICYmXG4gICAgICAgICAgICAgICAgcXVlcnlNYW5hZ2VyLnRyYW5zZm9ybShxdWVyeSkuc2VydmVyUXVlcnkgJiZcbiAgICAgICAgICAgICAgICAhaXNFcXVhbChwcmV2aW91c1ZhcmlhYmxlcywgdmFyaWFibGVzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmV0Y2goKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRlT2JzZXJ2ZXJzU2FmZWx5KHRoaXMub2JzZXJ2ZXJzLCAnbmV4dCcsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRlT2JzZXJ2ZXJzU2FmZWx5KHRoaXMub2JzZXJ2ZXJzLCAnbmV4dCcsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IG9uRXJyb3IsXG4gICAgfSkuY2F0Y2gob25FcnJvcik7XG4gIH1cblxuICBwcml2YXRlIHRlYXJEb3duUXVlcnkoKSB7XG4gICAgY29uc3QgeyBxdWVyeU1hbmFnZXIgfSA9IHRoaXM7XG5cbiAgICB0aGlzLmlzVG9ybkRvd24gPSB0cnVlO1xuICAgIHF1ZXJ5TWFuYWdlci5zdG9wUG9sbGluZ1F1ZXJ5KHRoaXMucXVlcnlJZCk7XG5cbiAgICAvLyBzdG9wIGFsbCBhY3RpdmUgR3JhcGhRTCBzdWJzY3JpcHRpb25zXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuY2xlYXIoKTtcblxuICAgIHF1ZXJ5TWFuYWdlci5yZW1vdmVPYnNlcnZhYmxlUXVlcnkodGhpcy5xdWVyeUlkKTtcbiAgICBxdWVyeU1hbmFnZXIuc3RvcFF1ZXJ5KHRoaXMucXVlcnlJZCk7XG5cbiAgICB0aGlzLm9ic2VydmVycy5jbGVhcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRTdWJzY3JpcHRpb25PYnNlcnZlckVycm9yQ2FsbGJhY2soZXJyb3I6IEFwb2xsb0Vycm9yKSB7XG4gIGludmFyaWFudC5lcnJvcignVW5oYW5kbGVkIGVycm9yJywgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xufVxuXG5mdW5jdGlvbiBpdGVyYXRlT2JzZXJ2ZXJzU2FmZWx5PEUsIEE+KFxuICBvYnNlcnZlcnM6IFNldDxPYnNlcnZlcjxFPj4sXG4gIG1ldGhvZDoga2V5b2YgT2JzZXJ2ZXI8RT4sXG4gIGFyZ3VtZW50PzogQSxcbikge1xuICAvLyBJbiBjYXNlIG9ic2VydmVycyBpcyBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLCB3ZSBuZWVkIHRvIGNvbW1pdCB0byB0aGVcbiAgLy8gb3JpZ2luYWwgZWxlbWVudHMsIHdoaWNoIGFsc28gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gZmlsdGVyIHRoZW0gZG93blxuICAvLyB0byBqdXN0IHRoZSBvYnNlcnZlcnMgd2l0aCB0aGUgZ2l2ZW4gbWV0aG9kLlxuICBjb25zdCBvYnNlcnZlcnNXaXRoTWV0aG9kOiBPYnNlcnZlcjxFPltdID0gW107XG4gIG9ic2VydmVycy5mb3JFYWNoKG9icyA9PiBvYnNbbWV0aG9kXSAmJiBvYnNlcnZlcnNXaXRoTWV0aG9kLnB1c2gob2JzKSk7XG4gIG9ic2VydmVyc1dpdGhNZXRob2QuZm9yRWFjaChvYnMgPT4gKG9icyBhcyBhbnkpW21ldGhvZF0oYXJndW1lbnQpKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm90Q2FjaGVGaXJzdE9yT25seTxURGF0YSwgVFZhcmlhYmxlcz4oXG4gIG9ic1F1ZXJ5OiBPYnNlcnZhYmxlUXVlcnk8VERhdGEsIFRWYXJpYWJsZXM+LFxuKSB7XG4gIGNvbnN0IHsgZmV0Y2hQb2xpY3kgfSA9IG9ic1F1ZXJ5Lm9wdGlvbnM7XG4gIGludmFyaWFudChcbiAgICBmZXRjaFBvbGljeSAhPT0gJ2NhY2hlLWZpcnN0JyAmJiBmZXRjaFBvbGljeSAhPT0gJ2NhY2hlLW9ubHknLFxuICAgICdRdWVyaWVzIHRoYXQgc3BlY2lmeSB0aGUgY2FjaGUtZmlyc3QgYW5kIGNhY2hlLW9ubHkgZmV0Y2hQb2xpY2llcyBjYW5ub3QgYWxzbyBiZSBwb2xsaW5nIHF1ZXJpZXMuJyxcbiAgKTtcbn1cbiIsImltcG9ydCB7IERvY3VtZW50Tm9kZSB9IGZyb20gJ2dyYXBocWwnO1xuXG5leHBvcnQgY2xhc3MgTXV0YXRpb25TdG9yZSB7XG4gIHByaXZhdGUgc3RvcmU6IHsgW211dGF0aW9uSWQ6IHN0cmluZ106IE11dGF0aW9uU3RvcmVWYWx1ZSB9ID0ge307XG5cbiAgcHVibGljIGdldFN0b3JlKCk6IHsgW211dGF0aW9uSWQ6IHN0cmluZ106IE11dGF0aW9uU3RvcmVWYWx1ZSB9IHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQobXV0YXRpb25JZDogc3RyaW5nKTogTXV0YXRpb25TdG9yZVZhbHVlIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZVttdXRhdGlvbklkXTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0TXV0YXRpb24oXG4gICAgbXV0YXRpb25JZDogc3RyaW5nLFxuICAgIG11dGF0aW9uOiBEb2N1bWVudE5vZGUsXG4gICAgdmFyaWFibGVzOiBPYmplY3QgfCB1bmRlZmluZWQsXG4gICkge1xuICAgIHRoaXMuc3RvcmVbbXV0YXRpb25JZF0gPSB7XG4gICAgICBtdXRhdGlvbixcbiAgICAgIHZhcmlhYmxlczogdmFyaWFibGVzIHx8IHt9LFxuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgbWFya011dGF0aW9uRXJyb3IobXV0YXRpb25JZDogc3RyaW5nLCBlcnJvcjogRXJyb3IpIHtcbiAgICBjb25zdCBtdXRhdGlvbiA9IHRoaXMuc3RvcmVbbXV0YXRpb25JZF07XG4gICAgaWYgKG11dGF0aW9uKSB7XG4gICAgICBtdXRhdGlvbi5sb2FkaW5nID0gZmFsc2U7XG4gICAgICBtdXRhdGlvbi5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBtYXJrTXV0YXRpb25SZXN1bHQobXV0YXRpb25JZDogc3RyaW5nKSB7XG4gICAgY29uc3QgbXV0YXRpb24gPSB0aGlzLnN0b3JlW211dGF0aW9uSWRdO1xuICAgIGlmIChtdXRhdGlvbikge1xuICAgICAgbXV0YXRpb24ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgbXV0YXRpb24uZXJyb3IgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICB0aGlzLnN0b3JlID0ge307XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblN0b3JlVmFsdWUge1xuICBtdXRhdGlvbjogRG9jdW1lbnROb2RlO1xuICB2YXJpYWJsZXM6IE9iamVjdDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IEVycm9yIHwgbnVsbDtcbn1cbiIsImltcG9ydCB7IERvY3VtZW50Tm9kZSwgR3JhcGhRTEVycm9yLCBFeGVjdXRpb25SZXN1bHQgfSBmcm9tICdncmFwaHFsJztcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5pbXBvcnQgeyBOZXR3b3JrU3RhdHVzIH0gZnJvbSAnLi4vY29yZS9uZXR3b3JrU3RhdHVzJztcbmltcG9ydCB7IGlzTm9uRW1wdHlBcnJheSB9IGZyb20gJy4uL3V0aWwvYXJyYXlzJztcblxuZXhwb3J0IHR5cGUgUXVlcnlTdG9yZVZhbHVlID0ge1xuICBkb2N1bWVudDogRG9jdW1lbnROb2RlO1xuICB2YXJpYWJsZXM6IE9iamVjdDtcbiAgcHJldmlvdXNWYXJpYWJsZXM/OiBPYmplY3QgfCBudWxsO1xuICBuZXR3b3JrU3RhdHVzOiBOZXR3b3JrU3RhdHVzO1xuICBuZXR3b3JrRXJyb3I/OiBFcnJvciB8IG51bGw7XG4gIGdyYXBoUUxFcnJvcnM/OiBSZWFkb25seUFycmF5PEdyYXBoUUxFcnJvcj47XG4gIG1ldGFkYXRhOiBhbnk7XG59O1xuXG5leHBvcnQgY2xhc3MgUXVlcnlTdG9yZSB7XG4gIHByaXZhdGUgc3RvcmU6IHsgW3F1ZXJ5SWQ6IHN0cmluZ106IFF1ZXJ5U3RvcmVWYWx1ZSB9ID0ge307XG5cbiAgcHVibGljIGdldFN0b3JlKCk6IHsgW3F1ZXJ5SWQ6IHN0cmluZ106IFF1ZXJ5U3RvcmVWYWx1ZSB9IHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQocXVlcnlJZDogc3RyaW5nKTogUXVlcnlTdG9yZVZhbHVlIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZVtxdWVyeUlkXTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0UXVlcnkocXVlcnk6IHtcbiAgICBxdWVyeUlkOiBzdHJpbmc7XG4gICAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZTtcbiAgICBzdG9yZVByZXZpb3VzVmFyaWFibGVzOiBib29sZWFuO1xuICAgIHZhcmlhYmxlczogT2JqZWN0O1xuICAgIGlzUG9sbDogYm9vbGVhbjtcbiAgICBpc1JlZmV0Y2g6IGJvb2xlYW47XG4gICAgbWV0YWRhdGE6IGFueTtcbiAgICBmZXRjaE1vcmVGb3JRdWVyeUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIH0pIHtcbiAgICBjb25zdCBwcmV2aW91c1F1ZXJ5ID0gdGhpcy5zdG9yZVtxdWVyeS5xdWVyeUlkXTtcblxuICAgIC8vIFhYWCB3ZSdyZSB0aHJvd2luZyBhbiBlcnJvciBoZXJlIHRvIGNhdGNoIGJ1Z3Mgd2hlcmUgYSBxdWVyeSBnZXRzIG92ZXJ3cml0dGVuIGJ5IGEgbmV3IG9uZS5cbiAgICAvLyB3ZSBzaG91bGQgaW1wbGVtZW50IGEgc2VwYXJhdGUgYWN0aW9uIGZvciByZWZldGNoaW5nIHNvIHRoYXQgUVVFUllfSU5JVCBtYXkgbmV2ZXIgb3ZlcndyaXRlXG4gICAgLy8gYW4gZXhpc3RpbmcgcXVlcnkgKHNlZSBhbHNvOiBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvc3RhY2svYXBvbGxvLWNsaWVudC9pc3N1ZXMvNzMyKVxuICAgIGludmFyaWFudChcbiAgICAgICFwcmV2aW91c1F1ZXJ5IHx8XG4gICAgICBwcmV2aW91c1F1ZXJ5LmRvY3VtZW50ID09PSBxdWVyeS5kb2N1bWVudCB8fFxuICAgICAgaXNFcXVhbChwcmV2aW91c1F1ZXJ5LmRvY3VtZW50LCBxdWVyeS5kb2N1bWVudCksXG4gICAgICAnSW50ZXJuYWwgRXJyb3I6IG1heSBub3QgdXBkYXRlIGV4aXN0aW5nIHF1ZXJ5IHN0cmluZyBpbiBzdG9yZScsXG4gICAgKTtcblxuICAgIGxldCBpc1NldFZhcmlhYmxlcyA9IGZhbHNlO1xuXG4gICAgbGV0IHByZXZpb3VzVmFyaWFibGVzOiBPYmplY3QgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoXG4gICAgICBxdWVyeS5zdG9yZVByZXZpb3VzVmFyaWFibGVzICYmXG4gICAgICBwcmV2aW91c1F1ZXJ5ICYmXG4gICAgICBwcmV2aW91c1F1ZXJ5Lm5ldHdvcmtTdGF0dXMgIT09IE5ldHdvcmtTdGF0dXMubG9hZGluZ1xuICAgICAgLy8gaWYgdGhlIHByZXZpb3VzIHF1ZXJ5IHdhcyBzdGlsbCBsb2FkaW5nLCB3ZSBkb24ndCB3YW50IHRvIHJlbWVtYmVyIGl0IGF0IGFsbC5cbiAgICApIHtcbiAgICAgIGlmICghaXNFcXVhbChwcmV2aW91c1F1ZXJ5LnZhcmlhYmxlcywgcXVlcnkudmFyaWFibGVzKSkge1xuICAgICAgICBpc1NldFZhcmlhYmxlcyA9IHRydWU7XG4gICAgICAgIHByZXZpb3VzVmFyaWFibGVzID0gcHJldmlvdXNRdWVyeS52YXJpYWJsZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBicmVhayB0aGlzIG91dCBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb25cbiAgICBsZXQgbmV0d29ya1N0YXR1cztcbiAgICBpZiAoaXNTZXRWYXJpYWJsZXMpIHtcbiAgICAgIG5ldHdvcmtTdGF0dXMgPSBOZXR3b3JrU3RhdHVzLnNldFZhcmlhYmxlcztcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5LmlzUG9sbCkge1xuICAgICAgbmV0d29ya1N0YXR1cyA9IE5ldHdvcmtTdGF0dXMucG9sbDtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5LmlzUmVmZXRjaCkge1xuICAgICAgbmV0d29ya1N0YXR1cyA9IE5ldHdvcmtTdGF0dXMucmVmZXRjaDtcbiAgICAgIC8vIFRPRE86IGNhbiB3ZSBkZXRlcm1pbmUgc2V0VmFyaWFibGVzIGhlcmUgaWYgaXQncyBhIHJlZmV0Y2ggYW5kIHRoZSB2YXJpYWJsZXMgaGF2ZSBjaGFuZ2VkP1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXR3b3JrU3RhdHVzID0gTmV0d29ya1N0YXR1cy5sb2FkaW5nO1xuICAgIH1cblxuICAgIGxldCBncmFwaFFMRXJyb3JzOiBSZWFkb25seUFycmF5PEdyYXBoUUxFcnJvcj4gPSBbXTtcbiAgICBpZiAocHJldmlvdXNRdWVyeSAmJiBwcmV2aW91c1F1ZXJ5LmdyYXBoUUxFcnJvcnMpIHtcbiAgICAgIGdyYXBoUUxFcnJvcnMgPSBwcmV2aW91c1F1ZXJ5LmdyYXBoUUxFcnJvcnM7XG4gICAgfVxuXG4gICAgLy8gWFhYIHJpZ2h0IG5vdyBpZiBRVUVSWV9JTklUIGlzIGZpcmVkIHR3aWNlLCBsaWtlIGluIGEgcmVmZXRjaCBzaXR1YXRpb24sIHdlIGp1c3Qgb3ZlcndyaXRlXG4gICAgLy8gdGhlIHN0b3JlLiBXZSBwcm9iYWJseSB3YW50IGEgcmVmZXRjaCBhY3Rpb24gaW5zdGVhZCwgYmVjYXVzZSBJIHN1c3BlY3QgdGhhdCBpZiB5b3UgcmVmZXRjaFxuICAgIC8vIGJlZm9yZSB0aGUgaW5pdGlhbCBmZXRjaCBpcyBkb25lLCB5b3UnbGwgZ2V0IGFuIGVycm9yLlxuICAgIHRoaXMuc3RvcmVbcXVlcnkucXVlcnlJZF0gPSB7XG4gICAgICBkb2N1bWVudDogcXVlcnkuZG9jdW1lbnQsXG4gICAgICB2YXJpYWJsZXM6IHF1ZXJ5LnZhcmlhYmxlcyxcbiAgICAgIHByZXZpb3VzVmFyaWFibGVzLFxuICAgICAgbmV0d29ya0Vycm9yOiBudWxsLFxuICAgICAgZ3JhcGhRTEVycm9yczogZ3JhcGhRTEVycm9ycyxcbiAgICAgIG5ldHdvcmtTdGF0dXMsXG4gICAgICBtZXRhZGF0YTogcXVlcnkubWV0YWRhdGEsXG4gICAgfTtcblxuICAgIC8vIElmIHRoZSBhY3Rpb24gaGFkIGEgYG1vcmVGb3JRdWVyeUlkYCBwcm9wZXJ0eSB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoZVxuICAgIC8vIG5ldHdvcmsgc3RhdHVzIG9uIHRoYXQgcXVlcnkgYXMgd2VsbCB0byBgZmV0Y2hNb3JlYC5cbiAgICAvL1xuICAgIC8vIFdlIGhhdmUgYSBjb21wbGVtZW50IHRvIHRoaXMgaWYgc3RhdGVtZW50IGluIHRoZSBxdWVyeSByZXN1bHQgYW5kIHF1ZXJ5XG4gICAgLy8gZXJyb3IgYWN0aW9uIGJyYW5jaCwgYnV0IGltcG9ydGFudGx5ICpub3QqIGluIHRoZSBjbGllbnQgcmVzdWx0IGJyYW5jaC5cbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlIGltcGxlbWVudGF0aW9uIG9mIGBmZXRjaE1vcmVgICphbHdheXMqIHNldHNcbiAgICAvLyBgZmV0Y2hQb2xpY3lgIHRvIGBuZXR3b3JrLW9ubHlgIHNvIHdlIHdvdWxkIG5ldmVyIGhhdmUgYSBjbGllbnQgcmVzdWx0LlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBxdWVyeS5mZXRjaE1vcmVGb3JRdWVyeUlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgdGhpcy5zdG9yZVtxdWVyeS5mZXRjaE1vcmVGb3JRdWVyeUlkXVxuICAgICkge1xuICAgICAgdGhpcy5zdG9yZVtxdWVyeS5mZXRjaE1vcmVGb3JRdWVyeUlkXS5uZXR3b3JrU3RhdHVzID1cbiAgICAgICAgTmV0d29ya1N0YXR1cy5mZXRjaE1vcmU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG1hcmtRdWVyeVJlc3VsdChcbiAgICBxdWVyeUlkOiBzdHJpbmcsXG4gICAgcmVzdWx0OiBFeGVjdXRpb25SZXN1bHQsXG4gICAgZmV0Y2hNb3JlRm9yUXVlcnlJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApIHtcbiAgICBpZiAoIXRoaXMuc3RvcmUgfHwgIXRoaXMuc3RvcmVbcXVlcnlJZF0pIHJldHVybjtcblxuICAgIHRoaXMuc3RvcmVbcXVlcnlJZF0ubmV0d29ya0Vycm9yID0gbnVsbDtcbiAgICB0aGlzLnN0b3JlW3F1ZXJ5SWRdLmdyYXBoUUxFcnJvcnMgPSBpc05vbkVtcHR5QXJyYXkocmVzdWx0LmVycm9ycykgPyByZXN1bHQuZXJyb3JzIDogW107XG4gICAgdGhpcy5zdG9yZVtxdWVyeUlkXS5wcmV2aW91c1ZhcmlhYmxlcyA9IG51bGw7XG4gICAgdGhpcy5zdG9yZVtxdWVyeUlkXS5uZXR3b3JrU3RhdHVzID0gTmV0d29ya1N0YXR1cy5yZWFkeTtcblxuICAgIC8vIElmIHdlIGhhdmUgYSBgZmV0Y2hNb3JlRm9yUXVlcnlJZGAgdGhlbiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbmV0d29ya1xuICAgIC8vIHN0YXR1cyBmb3IgdGhhdCBxdWVyeS4gU2VlIHRoZSBicmFuY2ggZm9yIHF1ZXJ5IGluaXRpYWxpemF0aW9uIGZvciBtb3JlXG4gICAgLy8gZXhwbGFuYXRpb24gYWJvdXQgdGhpcyBwcm9jZXNzLlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBmZXRjaE1vcmVGb3JRdWVyeUlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgdGhpcy5zdG9yZVtmZXRjaE1vcmVGb3JRdWVyeUlkXVxuICAgICkge1xuICAgICAgdGhpcy5zdG9yZVtmZXRjaE1vcmVGb3JRdWVyeUlkXS5uZXR3b3JrU3RhdHVzID0gTmV0d29ya1N0YXR1cy5yZWFkeTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbWFya1F1ZXJ5RXJyb3IoXG4gICAgcXVlcnlJZDogc3RyaW5nLFxuICAgIGVycm9yOiBFcnJvcixcbiAgICBmZXRjaE1vcmVGb3JRdWVyeUlkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICkge1xuICAgIGlmICghdGhpcy5zdG9yZSB8fCAhdGhpcy5zdG9yZVtxdWVyeUlkXSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zdG9yZVtxdWVyeUlkXS5uZXR3b3JrRXJyb3IgPSBlcnJvcjtcbiAgICB0aGlzLnN0b3JlW3F1ZXJ5SWRdLm5ldHdvcmtTdGF0dXMgPSBOZXR3b3JrU3RhdHVzLmVycm9yO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGBmZXRjaE1vcmVGb3JRdWVyeUlkYCB0aGVuIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBuZXR3b3JrXG4gICAgLy8gc3RhdHVzIGZvciB0aGF0IHF1ZXJ5LiBTZWUgdGhlIGJyYW5jaCBmb3IgcXVlcnkgaW5pdGlhbGl6YXRpb24gZm9yIG1vcmVcbiAgICAvLyBleHBsYW5hdGlvbiBhYm91dCB0aGlzIHByb2Nlc3MuXG4gICAgaWYgKHR5cGVvZiBmZXRjaE1vcmVGb3JRdWVyeUlkID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5tYXJrUXVlcnlSZXN1bHRDbGllbnQoZmV0Y2hNb3JlRm9yUXVlcnlJZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG1hcmtRdWVyeVJlc3VsdENsaWVudChxdWVyeUlkOiBzdHJpbmcsIGNvbXBsZXRlOiBib29sZWFuKSB7XG4gICAgY29uc3Qgc3RvcmVWYWx1ZSA9IHRoaXMuc3RvcmUgJiYgdGhpcy5zdG9yZVtxdWVyeUlkXTtcbiAgICBpZiAoc3RvcmVWYWx1ZSkge1xuICAgICAgc3RvcmVWYWx1ZS5uZXR3b3JrRXJyb3IgPSBudWxsO1xuICAgICAgc3RvcmVWYWx1ZS5wcmV2aW91c1ZhcmlhYmxlcyA9IG51bGw7XG4gICAgICBpZiAoY29tcGxldGUpIHtcbiAgICAgICAgc3RvcmVWYWx1ZS5uZXR3b3JrU3RhdHVzID0gTmV0d29ya1N0YXR1cy5yZWFkeTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RvcFF1ZXJ5KHF1ZXJ5SWQ6IHN0cmluZykge1xuICAgIGRlbGV0ZSB0aGlzLnN0b3JlW3F1ZXJ5SWRdO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KG9ic2VydmFibGVRdWVyeUlkczogc3RyaW5nW10pIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLnN0b3JlKS5mb3JFYWNoKHF1ZXJ5SWQgPT4ge1xuICAgICAgaWYgKG9ic2VydmFibGVRdWVyeUlkcy5pbmRleE9mKHF1ZXJ5SWQpIDwgMCkge1xuICAgICAgICB0aGlzLnN0b3BRdWVyeShxdWVyeUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFhYWCBzZXQgbG9hZGluZyB0byB0cnVlIHNvIGxpc3RlbmVycyBkb24ndCB0cmlnZ2VyIHVubGVzcyB0aGV5IHdhbnQgcmVzdWx0cyB3aXRoIHBhcnRpYWwgZGF0YVxuICAgICAgICB0aGlzLnN0b3JlW3F1ZXJ5SWRdLm5ldHdvcmtTdGF0dXMgPSBOZXR3b3JrU3RhdHVzLmxvYWRpbmc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERvY3VtZW50Tm9kZSxcbiAgT3BlcmF0aW9uRGVmaW5pdGlvbk5vZGUsXG4gIFNlbGVjdGlvblNldE5vZGUsXG4gIFNlbGVjdGlvbk5vZGUsXG4gIElubGluZUZyYWdtZW50Tm9kZSxcbiAgRnJhZ21lbnREZWZpbml0aW9uTm9kZSxcbiAgRmllbGROb2RlLFxuICBBU1ROb2RlLFxufSBmcm9tICdncmFwaHFsJztcbmltcG9ydCB7IHZpc2l0LCBCUkVBSyB9IGZyb20gJ2dyYXBocWwvbGFuZ3VhZ2UvdmlzaXRvcic7XG5cbmltcG9ydCB7IEFwb2xsb0NhY2hlIH0gZnJvbSAnYXBvbGxvLWNhY2hlJztcbmltcG9ydCB7XG4gIGdldE1haW5EZWZpbml0aW9uLFxuICBidWlsZFF1ZXJ5RnJvbVNlbGVjdGlvblNldCxcbiAgaGFzRGlyZWN0aXZlcyxcbiAgcmVtb3ZlQ2xpZW50U2V0c0Zyb21Eb2N1bWVudCxcbiAgbWVyZ2VEZWVwLFxuICBtZXJnZURlZXBBcnJheSxcbiAgRnJhZ21lbnRNYXAsXG4gIGFyZ3VtZW50c09iamVjdEZyb21GaWVsZCxcbiAgcmVzdWx0S2V5TmFtZUZyb21GaWVsZCxcbiAgZ2V0RnJhZ21lbnREZWZpbml0aW9ucyxcbiAgY3JlYXRlRnJhZ21lbnRNYXAsXG4gIHNob3VsZEluY2x1ZGUsXG4gIGlzRmllbGQsXG4gIGlzSW5saW5lRnJhZ21lbnQsXG59IGZyb20gJ2Fwb2xsby11dGlsaXRpZXMnO1xuaW1wb3J0IHsgRmV0Y2hSZXN1bHQgfSBmcm9tICdhcG9sbG8tbGluayc7XG5cbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmltcG9ydCBBcG9sbG9DbGllbnQgZnJvbSAnLi4vQXBvbGxvQ2xpZW50JztcbmltcG9ydCB7IFJlc29sdmVycywgT3BlcmF0aW9uVmFyaWFibGVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBjYXBpdGFsaXplRmlyc3RMZXR0ZXIgfSBmcm9tICcuLi91dGlsL2NhcGl0YWxpemVGaXJzdExldHRlcic7XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVyID0gKFxuICByb290VmFsdWU/OiBhbnksXG4gIGFyZ3M/OiBhbnksXG4gIGNvbnRleHQ/OiBhbnksXG4gIGluZm8/OiB7XG4gICAgZmllbGQ6IEZpZWxkTm9kZTtcbiAgICBmcmFnbWVudE1hcDogRnJhZ21lbnRNYXA7XG4gIH0sXG4pID0+IGFueTtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVNYXAgPSB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfTtcblxuZXhwb3J0IHR5cGUgRnJhZ21lbnRNYXRjaGVyID0gKFxuICByb290VmFsdWU6IGFueSxcbiAgdHlwZUNvbmRpdGlvbjogc3RyaW5nLFxuICBjb250ZXh0OiBhbnksXG4pID0+IGJvb2xlYW47XG5cbmV4cG9ydCB0eXBlIEV4ZWNDb250ZXh0ID0ge1xuICBmcmFnbWVudE1hcDogRnJhZ21lbnRNYXA7XG4gIGNvbnRleHQ6IGFueTtcbiAgdmFyaWFibGVzOiBWYXJpYWJsZU1hcDtcbiAgZnJhZ21lbnRNYXRjaGVyOiBGcmFnbWVudE1hdGNoZXI7XG4gIGRlZmF1bHRPcGVyYXRpb25UeXBlOiBzdHJpbmc7XG4gIGV4cG9ydGVkVmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBvbmx5UnVuRm9yY2VkUmVzb2x2ZXJzOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgTG9jYWxTdGF0ZU9wdGlvbnM8VENhY2hlU2hhcGU+ID0ge1xuICBjYWNoZTogQXBvbGxvQ2FjaGU8VENhY2hlU2hhcGU+O1xuICBjbGllbnQ/OiBBcG9sbG9DbGllbnQ8VENhY2hlU2hhcGU+O1xuICByZXNvbHZlcnM/OiBSZXNvbHZlcnMgfCBSZXNvbHZlcnNbXTtcbiAgZnJhZ21lbnRNYXRjaGVyPzogRnJhZ21lbnRNYXRjaGVyO1xufTtcblxuZXhwb3J0IGNsYXNzIExvY2FsU3RhdGU8VENhY2hlU2hhcGU+IHtcbiAgcHJpdmF0ZSBjYWNoZTogQXBvbGxvQ2FjaGU8VENhY2hlU2hhcGU+O1xuICBwcml2YXRlIGNsaWVudDogQXBvbGxvQ2xpZW50PFRDYWNoZVNoYXBlPjtcbiAgcHJpdmF0ZSByZXNvbHZlcnM/OiBSZXNvbHZlcnM7XG4gIHByaXZhdGUgZnJhZ21lbnRNYXRjaGVyOiBGcmFnbWVudE1hdGNoZXI7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNhY2hlLFxuICAgIGNsaWVudCxcbiAgICByZXNvbHZlcnMsXG4gICAgZnJhZ21lbnRNYXRjaGVyLFxuICB9OiBMb2NhbFN0YXRlT3B0aW9uczxUQ2FjaGVTaGFwZT4pIHtcbiAgICB0aGlzLmNhY2hlID0gY2FjaGU7XG5cbiAgICBpZiAoY2xpZW50KSB7XG4gICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG5cbiAgICBpZiAocmVzb2x2ZXJzKSB7XG4gICAgICB0aGlzLmFkZFJlc29sdmVycyhyZXNvbHZlcnMpO1xuICAgIH1cblxuICAgIGlmIChmcmFnbWVudE1hdGNoZXIpIHtcbiAgICAgIHRoaXMuc2V0RnJhZ21lbnRNYXRjaGVyKGZyYWdtZW50TWF0Y2hlcik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZFJlc29sdmVycyhyZXNvbHZlcnM6IFJlc29sdmVycyB8IFJlc29sdmVyc1tdKSB7XG4gICAgdGhpcy5yZXNvbHZlcnMgPSB0aGlzLnJlc29sdmVycyB8fCB7fTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNvbHZlcnMpKSB7XG4gICAgICByZXNvbHZlcnMuZm9yRWFjaChyZXNvbHZlckdyb3VwID0+IHtcbiAgICAgICAgdGhpcy5yZXNvbHZlcnMgPSBtZXJnZURlZXAodGhpcy5yZXNvbHZlcnMsIHJlc29sdmVyR3JvdXApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzb2x2ZXJzID0gbWVyZ2VEZWVwKHRoaXMucmVzb2x2ZXJzLCByZXNvbHZlcnMpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZXRSZXNvbHZlcnMocmVzb2x2ZXJzOiBSZXNvbHZlcnMgfCBSZXNvbHZlcnNbXSkge1xuICAgIHRoaXMucmVzb2x2ZXJzID0ge307XG4gICAgdGhpcy5hZGRSZXNvbHZlcnMocmVzb2x2ZXJzKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRSZXNvbHZlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZXJzIHx8IHt9O1xuICB9XG5cbiAgLy8gUnVuIGxvY2FsIGNsaWVudCByZXNvbHZlcnMgYWdhaW5zdCB0aGUgaW5jb21pbmcgcXVlcnkgYW5kIHJlbW90ZSBkYXRhLlxuICAvLyBMb2NhbGx5IHJlc29sdmVkIGZpZWxkIHZhbHVlcyBhcmUgbWVyZ2VkIHdpdGggdGhlIGluY29taW5nIHJlbW90ZSBkYXRhLFxuICAvLyBhbmQgcmV0dXJuZWQuIE5vdGUgdGhhdCBsb2NhbGx5IHJlc29sdmVkIGZpZWxkcyB3aWxsIG92ZXJ3cml0ZVxuICAvLyByZW1vdGUgZGF0YSB1c2luZyB0aGUgc2FtZSBmaWVsZCBuYW1lLlxuICBwdWJsaWMgYXN5bmMgcnVuUmVzb2x2ZXJzPFREYXRhPih7XG4gICAgZG9jdW1lbnQsXG4gICAgcmVtb3RlUmVzdWx0LFxuICAgIGNvbnRleHQsXG4gICAgdmFyaWFibGVzLFxuICAgIG9ubHlSdW5Gb3JjZWRSZXNvbHZlcnMgPSBmYWxzZSxcbiAgfToge1xuICAgIGRvY3VtZW50OiBEb2N1bWVudE5vZGUgfCBudWxsO1xuICAgIHJlbW90ZVJlc3VsdDogRmV0Y2hSZXN1bHQ8VERhdGE+O1xuICAgIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIHZhcmlhYmxlcz86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgb25seVJ1bkZvcmNlZFJlc29sdmVycz86IGJvb2xlYW47XG4gIH0pOiBQcm9taXNlPEZldGNoUmVzdWx0PFREYXRhPj4ge1xuICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZURvY3VtZW50KFxuICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgcmVtb3RlUmVzdWx0LmRhdGEsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgdGhpcy5mcmFnbWVudE1hdGNoZXIsXG4gICAgICAgIG9ubHlSdW5Gb3JjZWRSZXNvbHZlcnMsXG4gICAgICApLnRoZW4obG9jYWxSZXN1bHQgPT4gKHtcbiAgICAgICAgLi4ucmVtb3RlUmVzdWx0LFxuICAgICAgICBkYXRhOiBsb2NhbFJlc3VsdC5yZXN1bHQsXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbW90ZVJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRGcmFnbWVudE1hdGNoZXIoZnJhZ21lbnRNYXRjaGVyOiBGcmFnbWVudE1hdGNoZXIpIHtcbiAgICB0aGlzLmZyYWdtZW50TWF0Y2hlciA9IGZyYWdtZW50TWF0Y2hlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRGcmFnbWVudE1hdGNoZXIoKTogRnJhZ21lbnRNYXRjaGVyIHtcbiAgICByZXR1cm4gdGhpcy5mcmFnbWVudE1hdGNoZXI7XG4gIH1cblxuICAvLyBDbGllbnQgcXVlcmllcyBjb250YWluIGV2ZXJ5dGhpbmcgaW4gdGhlIGluY29taW5nIGRvY3VtZW50IChpZiBhIEBjbGllbnRcbiAgLy8gZGlyZWN0aXZlIGlzIGZvdW5kKS5cbiAgcHVibGljIGNsaWVudFF1ZXJ5KGRvY3VtZW50OiBEb2N1bWVudE5vZGUpIHtcbiAgICBpZiAoaGFzRGlyZWN0aXZlcyhbJ2NsaWVudCddLCBkb2N1bWVudCkpIHtcbiAgICAgIGlmICh0aGlzLnJlc29sdmVycykge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgICB9XG4gICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgJ0ZvdW5kIEBjbGllbnQgZGlyZWN0aXZlcyBpbiBhIHF1ZXJ5IGJ1dCBubyBBcG9sbG9DbGllbnQgcmVzb2x2ZXJzICcgK1xuICAgICAgICAnd2VyZSBzcGVjaWZpZWQuIFRoaXMgbWVhbnMgQXBvbGxvQ2xpZW50IGxvY2FsIHJlc29sdmVyIGhhbmRsaW5nICcgK1xuICAgICAgICAnaGFzIGJlZW4gZGlzYWJsZWQsIGFuZCBAY2xpZW50IGRpcmVjdGl2ZXMgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCAnICtcbiAgICAgICAgJ3RvIHlvdXIgbGluayBjaGFpbi4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBTZXJ2ZXIgcXVlcmllcyBhcmUgc3RyaXBwZWQgb2YgYWxsIEBjbGllbnQgYmFzZWQgc2VsZWN0aW9uIHNldHMuXG4gIHB1YmxpYyBzZXJ2ZXJRdWVyeShkb2N1bWVudDogRG9jdW1lbnROb2RlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZXJzID8gcmVtb3ZlQ2xpZW50U2V0c0Zyb21Eb2N1bWVudChkb2N1bWVudCkgOiBkb2N1bWVudDtcbiAgfVxuXG4gIHB1YmxpYyBwcmVwYXJlQ29udGV4dChjb250ZXh0ID0ge30pIHtcbiAgICBjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuXG4gICAgY29uc3QgbmV3Q29udGV4dCA9IHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBjYWNoZSxcbiAgICAgIC8vIEdldHRpbmcgYW4gZW50cnkncyBjYWNoZSBrZXkgaXMgdXNlZnVsIGZvciBsb2NhbCBzdGF0ZSByZXNvbHZlcnMuXG4gICAgICBnZXRDYWNoZUtleTogKG9iajogeyBfX3R5cGVuYW1lOiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXIgfSkgPT4ge1xuICAgICAgICBpZiAoKGNhY2hlIGFzIGFueSkuY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuIChjYWNoZSBhcyBhbnkpLmNvbmZpZy5kYXRhSWRGcm9tT2JqZWN0KG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLFxuICAgICAgICAgICAgJ1RvIHVzZSBjb250ZXh0LmdldENhY2hlS2V5LCB5b3UgbmVlZCB0byB1c2UgYSBjYWNoZSB0aGF0IGhhcyAnICtcbiAgICAgICAgICAgICAgJ2EgY29uZmlndXJhYmxlIGRhdGFJZEZyb21PYmplY3QsIGxpa2UgYXBvbGxvLWNhY2hlLWlubWVtb3J5LicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ld0NvbnRleHQ7XG4gIH1cblxuICAvLyBUbyBzdXBwb3J0IGBAY2xpZW50IEBleHBvcnQoYXM6IFwic29tZVZhclwiKWAgc3ludGF4LCB3ZSdsbCBmaXJzdCByZXNvbHZlXG4gIC8vIEBjbGllbnQgQGV4cG9ydCBmaWVsZHMgbG9jYWxseSwgdGhlbiBwYXNzIHRoZSByZXNvbHZlZCB2YWx1ZXMgYmFjayB0byBiZVxuICAvLyB1c2VkIGFsb25nc2lkZSB0aGUgb3JpZ2luYWwgb3BlcmF0aW9uIHZhcmlhYmxlcy5cbiAgcHVibGljIGFzeW5jIGFkZEV4cG9ydGVkVmFyaWFibGVzKFxuICAgIGRvY3VtZW50OiBEb2N1bWVudE5vZGUsXG4gICAgdmFyaWFibGVzOiBPcGVyYXRpb25WYXJpYWJsZXMgPSB7fSxcbiAgICBjb250ZXh0ID0ge30sXG4gICkge1xuICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZURvY3VtZW50KFxuICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgdGhpcy5idWlsZFJvb3RWYWx1ZUZyb21DYWNoZShkb2N1bWVudCwgdmFyaWFibGVzKSB8fCB7fSxcbiAgICAgICAgdGhpcy5wcmVwYXJlQ29udGV4dChjb250ZXh0KSxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgKS50aGVuKGRhdGEgPT4gKHtcbiAgICAgICAgLi4udmFyaWFibGVzLFxuICAgICAgICAuLi5kYXRhLmV4cG9ydGVkVmFyaWFibGVzLFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi52YXJpYWJsZXMsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBzaG91bGRGb3JjZVJlc29sdmVycyhkb2N1bWVudDogQVNUTm9kZSkge1xuICAgIGxldCBmb3JjZVJlc29sdmVycyA9IGZhbHNlO1xuICAgIHZpc2l0KGRvY3VtZW50LCB7XG4gICAgICBEaXJlY3RpdmU6IHtcbiAgICAgICAgZW50ZXIobm9kZSkge1xuICAgICAgICAgIGlmIChub2RlLm5hbWUudmFsdWUgPT09ICdjbGllbnQnICYmIG5vZGUuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICBmb3JjZVJlc29sdmVycyA9IG5vZGUuYXJndW1lbnRzLnNvbWUoXG4gICAgICAgICAgICAgIGFyZyA9PlxuICAgICAgICAgICAgICAgIGFyZy5uYW1lLnZhbHVlID09PSAnYWx3YXlzJyAmJlxuICAgICAgICAgICAgICAgIGFyZy52YWx1ZS5raW5kID09PSAnQm9vbGVhblZhbHVlJyAmJlxuICAgICAgICAgICAgICAgIGFyZy52YWx1ZS52YWx1ZSA9PT0gdHJ1ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZm9yY2VSZXNvbHZlcnMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcmNlUmVzb2x2ZXJzO1xuICB9XG5cbiAgLy8gUXVlcnkgdGhlIGNhY2hlIGFuZCByZXR1cm4gbWF0Y2hpbmcgZGF0YS5cbiAgcHJpdmF0ZSBidWlsZFJvb3RWYWx1ZUZyb21DYWNoZShcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuICAgIHZhcmlhYmxlcz86IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmRpZmYoe1xuICAgICAgcXVlcnk6IGJ1aWxkUXVlcnlGcm9tU2VsZWN0aW9uU2V0KGRvY3VtZW50KSxcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIHJldHVyblBhcnRpYWxEYXRhOiB0cnVlLFxuICAgICAgb3B0aW1pc3RpYzogZmFsc2UsXG4gICAgfSkucmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXNvbHZlRG9jdW1lbnQ8VERhdGE+KFxuICAgIGRvY3VtZW50OiBEb2N1bWVudE5vZGUsXG4gICAgcm9vdFZhbHVlOiBURGF0YSxcbiAgICBjb250ZXh0OiBhbnkgPSB7fSxcbiAgICB2YXJpYWJsZXM6IFZhcmlhYmxlTWFwID0ge30sXG4gICAgZnJhZ21lbnRNYXRjaGVyOiBGcmFnbWVudE1hdGNoZXIgPSAoKSA9PiB0cnVlLFxuICAgIG9ubHlSdW5Gb3JjZWRSZXNvbHZlcnM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKSB7XG4gICAgY29uc3QgbWFpbkRlZmluaXRpb24gPSBnZXRNYWluRGVmaW5pdGlvbihkb2N1bWVudCk7XG4gICAgY29uc3QgZnJhZ21lbnRzID0gZ2V0RnJhZ21lbnREZWZpbml0aW9ucyhkb2N1bWVudCk7XG4gICAgY29uc3QgZnJhZ21lbnRNYXAgPSBjcmVhdGVGcmFnbWVudE1hcChmcmFnbWVudHMpO1xuXG4gICAgY29uc3QgZGVmaW5pdGlvbk9wZXJhdGlvbiA9IChtYWluRGVmaW5pdGlvbiBhcyBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSlcbiAgICAgIC5vcGVyYXRpb247XG5cbiAgICBjb25zdCBkZWZhdWx0T3BlcmF0aW9uVHlwZSA9IGRlZmluaXRpb25PcGVyYXRpb25cbiAgICAgID8gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKGRlZmluaXRpb25PcGVyYXRpb24pXG4gICAgICA6ICdRdWVyeSc7XG5cbiAgICBjb25zdCB7IGNhY2hlLCBjbGllbnQgfSA9IHRoaXM7XG4gICAgY29uc3QgZXhlY0NvbnRleHQ6IEV4ZWNDb250ZXh0ID0ge1xuICAgICAgZnJhZ21lbnRNYXAsXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIGNhY2hlLFxuICAgICAgICBjbGllbnQsXG4gICAgICB9LFxuICAgICAgdmFyaWFibGVzLFxuICAgICAgZnJhZ21lbnRNYXRjaGVyLFxuICAgICAgZGVmYXVsdE9wZXJhdGlvblR5cGUsXG4gICAgICBleHBvcnRlZFZhcmlhYmxlczoge30sXG4gICAgICBvbmx5UnVuRm9yY2VkUmVzb2x2ZXJzLFxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlU2VsZWN0aW9uU2V0KFxuICAgICAgbWFpbkRlZmluaXRpb24uc2VsZWN0aW9uU2V0LFxuICAgICAgcm9vdFZhbHVlLFxuICAgICAgZXhlY0NvbnRleHQsXG4gICAgKS50aGVuKHJlc3VsdCA9PiAoe1xuICAgICAgcmVzdWx0LFxuICAgICAgZXhwb3J0ZWRWYXJpYWJsZXM6IGV4ZWNDb250ZXh0LmV4cG9ydGVkVmFyaWFibGVzLFxuICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZVNlbGVjdGlvblNldDxURGF0YT4oXG4gICAgc2VsZWN0aW9uU2V0OiBTZWxlY3Rpb25TZXROb2RlLFxuICAgIHJvb3RWYWx1ZTogVERhdGEsXG4gICAgZXhlY0NvbnRleHQ6IEV4ZWNDb250ZXh0LFxuICApIHtcbiAgICBjb25zdCB7IGZyYWdtZW50TWFwLCBjb250ZXh0LCB2YXJpYWJsZXMgfSA9IGV4ZWNDb250ZXh0O1xuICAgIGNvbnN0IHJlc3VsdHNUb01lcmdlOiBURGF0YVtdID0gW3Jvb3RWYWx1ZV07XG5cbiAgICBjb25zdCBleGVjdXRlID0gYXN5bmMgKHNlbGVjdGlvbjogU2VsZWN0aW9uTm9kZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgaWYgKCFzaG91bGRJbmNsdWRlKHNlbGVjdGlvbiwgdmFyaWFibGVzKSkge1xuICAgICAgICAvLyBTa2lwIHRoaXMgZW50aXJlbHkuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRmllbGQoc2VsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlRmllbGQoc2VsZWN0aW9uLCByb290VmFsdWUsIGV4ZWNDb250ZXh0KS50aGVuKFxuICAgICAgICAgIGZpZWxkUmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGRSZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNUb01lcmdlLnB1c2goe1xuICAgICAgICAgICAgICAgIFtyZXN1bHRLZXlOYW1lRnJvbUZpZWxkKHNlbGVjdGlvbildOiBmaWVsZFJlc3VsdCxcbiAgICAgICAgICAgICAgfSBhcyBURGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGZyYWdtZW50OiBJbmxpbmVGcmFnbWVudE5vZGUgfCBGcmFnbWVudERlZmluaXRpb25Ob2RlO1xuXG4gICAgICBpZiAoaXNJbmxpbmVGcmFnbWVudChzZWxlY3Rpb24pKSB7XG4gICAgICAgIGZyYWdtZW50ID0gc2VsZWN0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG5hbWVkIGZyYWdtZW50LlxuICAgICAgICBmcmFnbWVudCA9IGZyYWdtZW50TWFwW3NlbGVjdGlvbi5uYW1lLnZhbHVlXTtcbiAgICAgICAgaW52YXJpYW50KGZyYWdtZW50LCBgTm8gZnJhZ21lbnQgbmFtZWQgJHtzZWxlY3Rpb24ubmFtZS52YWx1ZX1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyYWdtZW50ICYmIGZyYWdtZW50LnR5cGVDb25kaXRpb24pIHtcbiAgICAgICAgY29uc3QgdHlwZUNvbmRpdGlvbiA9IGZyYWdtZW50LnR5cGVDb25kaXRpb24ubmFtZS52YWx1ZTtcbiAgICAgICAgaWYgKGV4ZWNDb250ZXh0LmZyYWdtZW50TWF0Y2hlcihyb290VmFsdWUsIHR5cGVDb25kaXRpb24sIGNvbnRleHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVNlbGVjdGlvblNldChcbiAgICAgICAgICAgIGZyYWdtZW50LnNlbGVjdGlvblNldCxcbiAgICAgICAgICAgIHJvb3RWYWx1ZSxcbiAgICAgICAgICAgIGV4ZWNDb250ZXh0LFxuICAgICAgICAgICkudGhlbihmcmFnbWVudFJlc3VsdCA9PiB7XG4gICAgICAgICAgICByZXN1bHRzVG9NZXJnZS5wdXNoKGZyYWdtZW50UmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMubWFwKGV4ZWN1dGUpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1lcmdlRGVlcEFycmF5KHJlc3VsdHNUb01lcmdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZUZpZWxkKFxuICAgIGZpZWxkOiBGaWVsZE5vZGUsXG4gICAgcm9vdFZhbHVlOiBhbnksXG4gICAgZXhlY0NvbnRleHQ6IEV4ZWNDb250ZXh0LFxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHsgdmFyaWFibGVzIH0gPSBleGVjQ29udGV4dDtcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZC5uYW1lLnZhbHVlO1xuICAgIGNvbnN0IGFsaWFzZWRGaWVsZE5hbWUgPSByZXN1bHRLZXlOYW1lRnJvbUZpZWxkKGZpZWxkKTtcbiAgICBjb25zdCBhbGlhc1VzZWQgPSBmaWVsZE5hbWUgIT09IGFsaWFzZWRGaWVsZE5hbWU7XG4gICAgY29uc3QgZGVmYXVsdFJlc3VsdCA9IHJvb3RWYWx1ZVthbGlhc2VkRmllbGROYW1lXSB8fCByb290VmFsdWVbZmllbGROYW1lXTtcbiAgICBsZXQgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShkZWZhdWx0UmVzdWx0KTtcblxuICAgIC8vIFVzdWFsbHkgYWxsIGxvY2FsIHJlc29sdmVycyBhcmUgcnVuIHdoZW4gcGFzc2luZyB0aHJvdWdoIGhlcmUsIGJ1dFxuICAgIC8vIGlmIHdlJ3ZlIHNwZWNpZmljYWxseSBpZGVudGlmaWVkIHRoYXQgd2Ugb25seSB3YW50IHRvIHJ1biBmb3JjZWRcbiAgICAvLyByZXNvbHZlcnMgKHRoYXQgaXMsIHJlc29sdmVycyBmb3IgZmllbGRzIG1hcmtlZCB3aXRoXG4gICAgLy8gYEBjbGllbnQoYWx3YXlzOiB0cnVlKWApLCB0aGVuIHdlJ2xsIHNraXAgcnVubmluZyBub24tZm9yY2VkIHJlc29sdmVycy5cbiAgICBpZiAoXG4gICAgICAhZXhlY0NvbnRleHQub25seVJ1bkZvcmNlZFJlc29sdmVycyB8fFxuICAgICAgdGhpcy5zaG91bGRGb3JjZVJlc29sdmVycyhmaWVsZClcbiAgICApIHtcbiAgICAgIGNvbnN0IHJlc29sdmVyVHlwZSA9XG4gICAgICAgIHJvb3RWYWx1ZS5fX3R5cGVuYW1lIHx8IGV4ZWNDb250ZXh0LmRlZmF1bHRPcGVyYXRpb25UeXBlO1xuICAgICAgY29uc3QgcmVzb2x2ZXJNYXAgPSB0aGlzLnJlc29sdmVycyAmJiB0aGlzLnJlc29sdmVyc1tyZXNvbHZlclR5cGVdO1xuICAgICAgaWYgKHJlc29sdmVyTWFwKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmUgPSByZXNvbHZlck1hcFthbGlhc1VzZWQgPyBmaWVsZE5hbWUgOiBhbGlhc2VkRmllbGROYW1lXTtcbiAgICAgICAgaWYgKHJlc29sdmUpIHtcbiAgICAgICAgICByZXN1bHRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHJlc29sdmUoXG4gICAgICAgICAgICByb290VmFsdWUsXG4gICAgICAgICAgICBhcmd1bWVudHNPYmplY3RGcm9tRmllbGQoZmllbGQsIHZhcmlhYmxlcyksXG4gICAgICAgICAgICBleGVjQ29udGV4dC5jb250ZXh0LFxuICAgICAgICAgICAgeyBmaWVsZCwgZnJhZ21lbnRNYXA6IGV4ZWNDb250ZXh0LmZyYWdtZW50TWFwIH0sXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0UHJvbWlzZS50aGVuKChyZXN1bHQgPSBkZWZhdWx0UmVzdWx0KSA9PiB7XG4gICAgICAvLyBJZiBhbiBAZXhwb3J0IGRpcmVjdGl2ZSBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgZmllbGQsIHN0b3JlXG4gICAgICAvLyB0aGUgYGFzYCBleHBvcnQgdmFyaWFibGUgbmFtZSBhbmQgY3VycmVudCByZXN1bHQgZm9yIGxhdGVyIHVzZS5cbiAgICAgIGlmIChmaWVsZC5kaXJlY3RpdmVzKSB7XG4gICAgICAgIGZpZWxkLmRpcmVjdGl2ZXMuZm9yRWFjaChkaXJlY3RpdmUgPT4ge1xuICAgICAgICAgIGlmIChkaXJlY3RpdmUubmFtZS52YWx1ZSA9PT0gJ2V4cG9ydCcgJiYgZGlyZWN0aXZlLmFyZ3VtZW50cykge1xuICAgICAgICAgICAgZGlyZWN0aXZlLmFyZ3VtZW50cy5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICAgICAgICAgIGlmIChhcmcubmFtZS52YWx1ZSA9PT0gJ2FzJyAmJiBhcmcudmFsdWUua2luZCA9PT0gJ1N0cmluZ1ZhbHVlJykge1xuICAgICAgICAgICAgICAgIGV4ZWNDb250ZXh0LmV4cG9ydGVkVmFyaWFibGVzW2FyZy52YWx1ZS52YWx1ZV0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBhbGwgc2NhbGFyIHR5cGVzIGhlcmUuXG4gICAgICBpZiAoIWZpZWxkLnNlbGVjdGlvblNldCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICAvLyBGcm9tIGhlcmUgZG93biwgdGhlIGZpZWxkIGhhcyBhIHNlbGVjdGlvbiBzZXQsIHdoaWNoIG1lYW5zIGl0J3MgdHJ5aW5nXG4gICAgICAvLyB0byBxdWVyeSBhIEdyYXBoUUxPYmplY3RUeXBlLlxuICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIC8vIEJhc2ljYWxseSBhbnkgZmllbGQgaW4gYSBHcmFwaFFMIHJlc3BvbnNlIGNhbiBiZSBudWxsLCBvciBtaXNzaW5nXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVN1YlNlbGVjdGVkQXJyYXkoZmllbGQsIHJlc3VsdCwgZXhlY0NvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm5lZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGFuZCB0aGUgcXVlcnkgaGFzIGEgc3ViLXNlbGVjdGlvbi4gUmVjdXJzZS5cbiAgICAgIGlmIChmaWVsZC5zZWxlY3Rpb25TZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVNlbGVjdGlvblNldChcbiAgICAgICAgICBmaWVsZC5zZWxlY3Rpb25TZXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIGV4ZWNDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlU3ViU2VsZWN0ZWRBcnJheShcbiAgICBmaWVsZDogRmllbGROb2RlLFxuICAgIHJlc3VsdDogYW55W10sXG4gICAgZXhlY0NvbnRleHQ6IEV4ZWNDb250ZXh0LFxuICApOiBhbnkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHJlc3VsdC5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGlzIGEgbmVzdGVkIGFycmF5LCByZWN1cnNlLlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVTdWJTZWxlY3RlZEFycmF5KGZpZWxkLCBpdGVtLCBleGVjQ29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGlzIGFuIG9iamVjdCwgcnVuIHRoZSBzZWxlY3Rpb24gc2V0IG9uIGl0LlxuICAgICAgICBpZiAoZmllbGQuc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVNlbGVjdGlvblNldChmaWVsZC5zZWxlY3Rpb25TZXQsIGl0ZW0sIGV4ZWNDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHI6IHN0cmluZykge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIsIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5cbi8vIFJldHVybnMgYSBub3JtYWwgT2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIGFueSBudW1iZXIgb2Ygc3Vic2NyaWJlcnMsXG4vLyB3aGlsZSBlbnN1cmluZyB0aGUgb3JpZ2luYWwgT2JzZXJ2YWJsZSBnZXRzIHN1YnNjcmliZWQgdG8gYXQgbW9zdCBvbmNlLlxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGxleDxUPihpbm5lcjogT2JzZXJ2YWJsZTxUPik6IE9ic2VydmFibGU8VD4ge1xuICBjb25zdCBvYnNlcnZlcnMgPSBuZXcgU2V0PE9ic2VydmVyPFQ+PigpO1xuICBsZXQgc3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KG9ic2VydmVyID0+IHtcbiAgICBvYnNlcnZlcnMuYWRkKG9ic2VydmVyKTtcbiAgICBzdWIgPSBzdWIgfHwgaW5uZXIuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQodmFsdWUpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzID0+IG9icy5uZXh0ICYmIG9icy5uZXh0KHZhbHVlKSk7XG4gICAgICB9LFxuICAgICAgZXJyb3IoZXJyb3IpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzID0+IG9icy5lcnJvciAmJiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzID0+IG9icy5jb21wbGV0ZSAmJiBvYnMuY29tcGxldGUoKSk7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAob2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcikgJiYgIW9ic2VydmVycy5zaXplICYmIHN1Yikge1xuICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgc3ViID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuLy8gTGlrZSBPYnNlcnZhYmxlLnByb3RvdHlwZS5tYXAsIGV4Y2VwdCB0aGF0IHRoZSBtYXBwaW5nIGZ1bmN0aW9uIGNhblxuLy8gb3B0aW9uYWxseSByZXR1cm4gYSBQcm9taXNlIChvciBiZSBhc3luYykuXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNNYXA8ViwgUj4oXG4gIG9ic2VydmFibGU6IE9ic2VydmFibGU8Vj4sXG4gIG1hcEZuOiAodmFsdWU6IFYpID0+IFIgfCBQcm9taXNlPFI+LFxuKTogT2JzZXJ2YWJsZTxSPiB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxSPihvYnNlcnZlciA9PiB7XG4gICAgY29uc3QgeyBuZXh0LCBlcnJvciwgY29tcGxldGUgfSA9IG9ic2VydmVyO1xuICAgIGxldCBhY3RpdmVOZXh0Q291bnQgPSAwO1xuICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGhhbmRsZXI6IE9ic2VydmVyPFY+ID0ge1xuICAgICAgbmV4dCh2YWx1ZSkge1xuICAgICAgICArK2FjdGl2ZU5leHRDb3VudDtcbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShtYXBGbih2YWx1ZSkpO1xuICAgICAgICB9KS50aGVuKFxuICAgICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAtLWFjdGl2ZU5leHRDb3VudDtcbiAgICAgICAgICAgIG5leHQgJiYgbmV4dC5jYWxsKG9ic2VydmVyLCByZXN1bHQpO1xuICAgICAgICAgICAgY29tcGxldGVkICYmIGhhbmRsZXIuY29tcGxldGUhKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIC0tYWN0aXZlTmV4dENvdW50O1xuICAgICAgICAgICAgZXJyb3IgJiYgZXJyb3IuY2FsbChvYnNlcnZlciwgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcihlKSB7XG4gICAgICAgIGVycm9yICYmIGVycm9yLmNhbGwob2JzZXJ2ZXIsIGUpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWFjdGl2ZU5leHRDb3VudCkge1xuICAgICAgICAgIGNvbXBsZXRlICYmIGNvbXBsZXRlLmNhbGwob2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBzdWIgPSBvYnNlcnZhYmxlLnN1YnNjcmliZShoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4gc3ViLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgZXhlY3V0ZSwgQXBvbGxvTGluaywgRmV0Y2hSZXN1bHQgfSBmcm9tICdhcG9sbG8tbGluayc7XG5pbXBvcnQgeyBEb2N1bWVudE5vZGUgfSBmcm9tICdncmFwaHFsJztcbmltcG9ydCB7IENhY2hlIH0gZnJvbSAnYXBvbGxvLWNhY2hlJztcbmltcG9ydCB7XG4gIGdldERlZmF1bHRWYWx1ZXMsXG4gIGdldE9wZXJhdGlvbkRlZmluaXRpb24sXG4gIGdldE9wZXJhdGlvbk5hbWUsXG4gIGhhc0RpcmVjdGl2ZXMsXG4gIGdyYXBoUUxSZXN1bHRIYXNFcnJvcixcbiAgaGFzQ2xpZW50RXhwb3J0cyxcbiAgcmVtb3ZlQ29ubmVjdGlvbkRpcmVjdGl2ZUZyb21Eb2N1bWVudCxcbiAgY2FuVXNlV2Vha01hcCxcbn0gZnJvbSAnYXBvbGxvLXV0aWxpdGllcyc7XG5cbmltcG9ydCB7IGludmFyaWFudCwgSW52YXJpYW50RXJyb3IgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuXG5pbXBvcnQgeyBpc0Fwb2xsb0Vycm9yLCBBcG9sbG9FcnJvciB9IGZyb20gJy4uL2Vycm9ycy9BcG9sbG9FcnJvcic7XG5pbXBvcnQgeyBPYnNlcnZlciwgU3Vic2NyaXB0aW9uLCBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFF1ZXJ5V2l0aFVwZGF0ZXIsIERhdGFTdG9yZSB9IGZyb20gJy4uL2RhdGEvc3RvcmUnO1xuaW1wb3J0IHsgTXV0YXRpb25TdG9yZSB9IGZyb20gJy4uL2RhdGEvbXV0YXRpb25zJztcbmltcG9ydCB7IFF1ZXJ5U3RvcmUsIFF1ZXJ5U3RvcmVWYWx1ZSB9IGZyb20gJy4uL2RhdGEvcXVlcmllcyc7XG5cbmltcG9ydCB7XG4gIFF1ZXJ5T3B0aW9ucyxcbiAgV2F0Y2hRdWVyeU9wdGlvbnMsXG4gIFN1YnNjcmlwdGlvbk9wdGlvbnMsXG4gIE11dGF0aW9uT3B0aW9ucyxcbiAgRXJyb3JQb2xpY3ksXG59IGZyb20gJy4vd2F0Y2hRdWVyeU9wdGlvbnMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVF1ZXJ5IH0gZnJvbSAnLi9PYnNlcnZhYmxlUXVlcnknO1xuaW1wb3J0IHsgTmV0d29ya1N0YXR1cywgaXNOZXR3b3JrUmVxdWVzdEluRmxpZ2h0IH0gZnJvbSAnLi9uZXR3b3JrU3RhdHVzJztcbmltcG9ydCB7XG4gIFF1ZXJ5TGlzdGVuZXIsXG4gIEFwb2xsb1F1ZXJ5UmVzdWx0LFxuICBGZXRjaFR5cGUsXG4gIE9wZXJhdGlvblZhcmlhYmxlcyxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBMb2NhbFN0YXRlIH0gZnJvbSAnLi9Mb2NhbFN0YXRlJztcbmltcG9ydCB7IGFzeW5jTWFwLCBtdWx0aXBsZXggfSBmcm9tICcuLi91dGlsL29ic2VydmFibGVzJztcbmltcG9ydCB7IGlzTm9uRW1wdHlBcnJheSB9IGZyb20gJy4uL3V0aWwvYXJyYXlzJztcblxuY29uc3QgeyBoYXNPd25Qcm9wZXJ0eSB9ID0gT2JqZWN0LnByb3RvdHlwZTtcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeUluZm8ge1xuICBsaXN0ZW5lcnM6IFNldDxRdWVyeUxpc3RlbmVyPjtcbiAgaW52YWxpZGF0ZWQ6IGJvb2xlYW47XG4gIG5ld0RhdGE6IENhY2hlLkRpZmZSZXN1bHQ8YW55PiB8IG51bGw7XG4gIGRvY3VtZW50OiBEb2N1bWVudE5vZGUgfCBudWxsO1xuICBsYXN0UmVxdWVzdElkOiBudW1iZXI7XG4gIC8vIEEgbWFwIGdvaW5nIGZyb20gcXVlcnlJZCB0byBhbiBvYnNlcnZlciBmb3IgYSBxdWVyeSBpc3N1ZWQgYnkgd2F0Y2hRdWVyeS4gV2UgdXNlXG4gIC8vIHRoZXNlIHRvIGtlZXAgdHJhY2sgb2YgcXVlcmllcyB0aGF0IGFyZSBpbmZsaWdodCBhbmQgZXJyb3Igb24gdGhlIG9ic2VydmVycyBhc3NvY2lhdGVkXG4gIC8vIHdpdGggdGhlbSBpbiBjYXNlIG9mIHNvbWUgZGVzdGFiYWxpemluZyBhY3Rpb24gKGUuZy4gcmVzZXQgb2YgdGhlIEFwb2xsbyBzdG9yZSkuXG4gIG9ic2VydmFibGVRdWVyeTogT2JzZXJ2YWJsZVF1ZXJ5PGFueT4gfCBudWxsO1xuICBzdWJzY3JpcHRpb25zOiBTZXQ8U3Vic2NyaXB0aW9uPjtcbiAgY2FuY2VsPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5TWFuYWdlcjxUU3RvcmU+IHtcbiAgcHVibGljIGxpbms6IEFwb2xsb0xpbms7XG4gIHB1YmxpYyBtdXRhdGlvblN0b3JlOiBNdXRhdGlvblN0b3JlID0gbmV3IE11dGF0aW9uU3RvcmUoKTtcbiAgcHVibGljIHF1ZXJ5U3RvcmU6IFF1ZXJ5U3RvcmUgPSBuZXcgUXVlcnlTdG9yZSgpO1xuICBwdWJsaWMgZGF0YVN0b3JlOiBEYXRhU3RvcmU8VFN0b3JlPjtcbiAgcHVibGljIHJlYWRvbmx5IGFzc3VtZUltbXV0YWJsZVJlc3VsdHM6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBxdWVyeURlZHVwbGljYXRpb246IGJvb2xlYW47XG4gIHByaXZhdGUgY2xpZW50QXdhcmVuZXNzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIHByaXZhdGUgbG9jYWxTdGF0ZTogTG9jYWxTdGF0ZTxUU3RvcmU+O1xuXG4gIHByaXZhdGUgb25Ccm9hZGNhc3Q6ICgpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBzc3JNb2RlOiBib29sZWFuO1xuXG4gIC8vIGxldCdzIG5vdCBzdGFydCBhdCB6ZXJvIHRvIGF2b2lkIHBhaW4gd2l0aCBiYWQgY2hlY2tzXG4gIHByaXZhdGUgaWRDb3VudGVyID0gMTtcblxuICAvLyBYWFggbWVyZ2Ugd2l0aCBPYnNlcnZhYmxlUXVlcnkgYnV0IHRoYXQgbmVlZHMgdG8gYmUgZXhwYW5kZWQgdG8gc3VwcG9ydCBtdXRhdGlvbnMgYW5kXG4gIC8vIHN1YnNjcmlwdGlvbnMgYXMgd2VsbFxuICBwcml2YXRlIHF1ZXJpZXM6IE1hcDxzdHJpbmcsIFF1ZXJ5SW5mbz4gPSBuZXcgTWFwKCk7XG5cbiAgLy8gQSBtYXAgb2YgUHJvbWlzZSByZWplY3QgZnVuY3Rpb25zIGZvciBmZXRjaFF1ZXJ5IHByb21pc2VzIHRoYXQgaGF2ZSBub3RcbiAgLy8geWV0IGJlZW4gcmVzb2x2ZWQsIHVzZWQgdG8ga2VlcCB0cmFjayBvZiBpbi1mbGlnaHQgcXVlcmllcyBzbyB0aGF0IHdlIGNhblxuICAvLyByZWplY3QgdGhlbSBpbiBjYXNlIGEgZGVzdGFiaWxpemluZyBldmVudCBvY2N1cnMgKGUuZy4gQXBvbGxvIHN0b3JlIHJlc2V0KS5cbiAgLy8gVGhlIGtleSBpcyBpbiB0aGUgZm9ybWF0IG9mIGBxdWVyeToke3F1ZXJ5SWR9YCBvciBgZmV0Y2hSZXF1ZXN0OiR7cXVlcnlJZH1gLFxuICAvLyBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24gd2FzIGNyZWF0ZWQgZnJvbS5cbiAgcHJpdmF0ZSBmZXRjaFF1ZXJ5UmVqZWN0Rm5zID0gbmV3IE1hcDxzdHJpbmcsIEZ1bmN0aW9uPigpO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBsaW5rLFxuICAgIHF1ZXJ5RGVkdXBsaWNhdGlvbiA9IGZhbHNlLFxuICAgIHN0b3JlLFxuICAgIG9uQnJvYWRjYXN0ID0gKCkgPT4gdW5kZWZpbmVkLFxuICAgIHNzck1vZGUgPSBmYWxzZSxcbiAgICBjbGllbnRBd2FyZW5lc3MgPSB7fSxcbiAgICBsb2NhbFN0YXRlLFxuICAgIGFzc3VtZUltbXV0YWJsZVJlc3VsdHMsXG4gIH06IHtcbiAgICBsaW5rOiBBcG9sbG9MaW5rO1xuICAgIHF1ZXJ5RGVkdXBsaWNhdGlvbj86IGJvb2xlYW47XG4gICAgc3RvcmU6IERhdGFTdG9yZTxUU3RvcmU+O1xuICAgIG9uQnJvYWRjYXN0PzogKCkgPT4gdm9pZDtcbiAgICBzc3JNb2RlPzogYm9vbGVhbjtcbiAgICBjbGllbnRBd2FyZW5lc3M/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgIGxvY2FsU3RhdGU/OiBMb2NhbFN0YXRlPFRTdG9yZT47XG4gICAgYXNzdW1lSW1tdXRhYmxlUmVzdWx0cz86IGJvb2xlYW47XG4gIH0pIHtcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMucXVlcnlEZWR1cGxpY2F0aW9uID0gcXVlcnlEZWR1cGxpY2F0aW9uO1xuICAgIHRoaXMuZGF0YVN0b3JlID0gc3RvcmU7XG4gICAgdGhpcy5vbkJyb2FkY2FzdCA9IG9uQnJvYWRjYXN0O1xuICAgIHRoaXMuY2xpZW50QXdhcmVuZXNzID0gY2xpZW50QXdhcmVuZXNzO1xuICAgIHRoaXMubG9jYWxTdGF0ZSA9IGxvY2FsU3RhdGUgfHwgbmV3IExvY2FsU3RhdGUoeyBjYWNoZTogc3RvcmUuZ2V0Q2FjaGUoKSB9KTtcbiAgICB0aGlzLnNzck1vZGUgPSBzc3JNb2RlO1xuICAgIHRoaXMuYXNzdW1lSW1tdXRhYmxlUmVzdWx0cyA9ICEhYXNzdW1lSW1tdXRhYmxlUmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIHRlcm1pbmF0ZSBhbnkgYWN0aXZlIHF1ZXJ5IHByb2Nlc3NlcywgbWFraW5nIGl0IHNhZmVcbiAgICogdG8gZGlzcG9zZSBvZiB0aGlzIFF1ZXJ5TWFuYWdlciBpbnN0YW5jZS5cbiAgICovXG4gIHB1YmxpYyBzdG9wKCkge1xuICAgIHRoaXMucXVlcmllcy5mb3JFYWNoKChfaW5mbywgcXVlcnlJZCkgPT4ge1xuICAgICAgdGhpcy5zdG9wUXVlcnlOb0Jyb2FkY2FzdChxdWVyeUlkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZmV0Y2hRdWVyeVJlamVjdEZucy5mb3JFYWNoKHJlamVjdCA9PiB7XG4gICAgICByZWplY3QoXG4gICAgICAgIG5ldyBJbnZhcmlhbnRFcnJvcignUXVlcnlNYW5hZ2VyIHN0b3BwZWQgd2hpbGUgcXVlcnkgd2FzIGluIGZsaWdodCcpLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBtdXRhdGU8VD4oe1xuICAgIG11dGF0aW9uLFxuICAgIHZhcmlhYmxlcyxcbiAgICBvcHRpbWlzdGljUmVzcG9uc2UsXG4gICAgdXBkYXRlUXVlcmllczogdXBkYXRlUXVlcmllc0J5TmFtZSxcbiAgICByZWZldGNoUXVlcmllcyA9IFtdLFxuICAgIGF3YWl0UmVmZXRjaFF1ZXJpZXMgPSBmYWxzZSxcbiAgICB1cGRhdGU6IHVwZGF0ZVdpdGhQcm94eUZuLFxuICAgIGVycm9yUG9saWN5ID0gJ25vbmUnLFxuICAgIGZldGNoUG9saWN5LFxuICAgIGNvbnRleHQgPSB7fSxcbiAgfTogTXV0YXRpb25PcHRpb25zKTogUHJvbWlzZTxGZXRjaFJlc3VsdDxUPj4ge1xuICAgIGludmFyaWFudChcbiAgICAgIG11dGF0aW9uLFxuICAgICAgJ211dGF0aW9uIG9wdGlvbiBpcyByZXF1aXJlZC4gWW91IG11c3Qgc3BlY2lmeSB5b3VyIEdyYXBoUUwgZG9jdW1lbnQgaW4gdGhlIG11dGF0aW9uIG9wdGlvbi4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhZmV0Y2hQb2xpY3kgfHwgZmV0Y2hQb2xpY3kgPT09ICduby1jYWNoZScsXG4gICAgICBcIk11dGF0aW9ucyBvbmx5IHN1cHBvcnQgYSAnbm8tY2FjaGUnIGZldGNoUG9saWN5LiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBkaXNhYmxlIHRoZSBjYWNoZSwgcmVtb3ZlIHlvdXIgZmV0Y2hQb2xpY3kgc2V0dGluZyB0byBwcm9jZWVkIHdpdGggdGhlIGRlZmF1bHQgbXV0YXRpb24gYmVoYXZpb3IuXCJcbiAgICApO1xuXG4gICAgY29uc3QgbXV0YXRpb25JZCA9IHRoaXMuZ2VuZXJhdGVRdWVyeUlkKCk7XG4gICAgbXV0YXRpb24gPSB0aGlzLnRyYW5zZm9ybShtdXRhdGlvbikuZG9jdW1lbnQ7XG5cbiAgICB0aGlzLnNldFF1ZXJ5KG11dGF0aW9uSWQsICgpID0+ICh7IGRvY3VtZW50OiBtdXRhdGlvbiB9KSk7XG5cbiAgICB2YXJpYWJsZXMgPSB0aGlzLmdldFZhcmlhYmxlcyhtdXRhdGlvbiwgdmFyaWFibGVzKTtcblxuICAgIGlmICh0aGlzLnRyYW5zZm9ybShtdXRhdGlvbikuaGFzQ2xpZW50RXhwb3J0cykge1xuICAgICAgdmFyaWFibGVzID0gYXdhaXQgdGhpcy5sb2NhbFN0YXRlLmFkZEV4cG9ydGVkVmFyaWFibGVzKG11dGF0aW9uLCB2YXJpYWJsZXMsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIG1hcCBvZiB1cGRhdGUgcXVlcmllcyBieSBpZCB0byB0aGUgcXVlcnkgaW5zdGVhZCBvZiBieSBuYW1lLlxuICAgIGNvbnN0IGdlbmVyYXRlVXBkYXRlUXVlcmllc0luZm86ICgpID0+IHtcbiAgICAgIFtxdWVyeUlkOiBzdHJpbmddOiBRdWVyeVdpdGhVcGRhdGVyO1xuICAgIH0gPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXQ6IHsgW3F1ZXJ5SWQ6IHN0cmluZ106IFF1ZXJ5V2l0aFVwZGF0ZXIgfSA9IHt9O1xuXG4gICAgICBpZiAodXBkYXRlUXVlcmllc0J5TmFtZSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMuZm9yRWFjaCgoeyBvYnNlcnZhYmxlUXVlcnkgfSwgcXVlcnlJZCkgPT4ge1xuICAgICAgICAgIGlmIChvYnNlcnZhYmxlUXVlcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcXVlcnlOYW1lIH0gPSBvYnNlcnZhYmxlUXVlcnk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHF1ZXJ5TmFtZSAmJlxuICAgICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKHVwZGF0ZVF1ZXJpZXNCeU5hbWUsIHF1ZXJ5TmFtZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXRbcXVlcnlJZF0gPSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlcjogdXBkYXRlUXVlcmllc0J5TmFtZVtxdWVyeU5hbWVdLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5U3RvcmUuZ2V0KHF1ZXJ5SWQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIHRoaXMubXV0YXRpb25TdG9yZS5pbml0TXV0YXRpb24oXG4gICAgICBtdXRhdGlvbklkLFxuICAgICAgbXV0YXRpb24sXG4gICAgICB2YXJpYWJsZXMsXG4gICAgKTtcblxuICAgIHRoaXMuZGF0YVN0b3JlLm1hcmtNdXRhdGlvbkluaXQoe1xuICAgICAgbXV0YXRpb25JZCxcbiAgICAgIGRvY3VtZW50OiBtdXRhdGlvbixcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIHVwZGF0ZVF1ZXJpZXM6IGdlbmVyYXRlVXBkYXRlUXVlcmllc0luZm8oKSxcbiAgICAgIHVwZGF0ZTogdXBkYXRlV2l0aFByb3h5Rm4sXG4gICAgICBvcHRpbWlzdGljUmVzcG9uc2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLmJyb2FkY2FzdFF1ZXJpZXMoKTtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBzdG9yZVJlc3VsdDogRmV0Y2hSZXN1bHQ8VD4gfCBudWxsO1xuICAgICAgbGV0IGVycm9yOiBBcG9sbG9FcnJvcjtcblxuICAgICAgc2VsZi5nZXRPYnNlcnZhYmxlRnJvbUxpbmsoXG4gICAgICAgIG11dGF0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICBvcHRpbWlzdGljUmVzcG9uc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgZmFsc2UsXG4gICAgICApLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQocmVzdWx0OiBGZXRjaFJlc3VsdDxUPikge1xuICAgICAgICAgIGlmIChncmFwaFFMUmVzdWx0SGFzRXJyb3IocmVzdWx0KSAmJiBlcnJvclBvbGljeSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBBcG9sbG9FcnJvcih7XG4gICAgICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IHJlc3VsdC5lcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLm11dGF0aW9uU3RvcmUubWFya011dGF0aW9uUmVzdWx0KG11dGF0aW9uSWQpO1xuXG4gICAgICAgICAgaWYgKGZldGNoUG9saWN5ICE9PSAnbm8tY2FjaGUnKSB7XG4gICAgICAgICAgICBzZWxmLmRhdGFTdG9yZS5tYXJrTXV0YXRpb25SZXN1bHQoe1xuICAgICAgICAgICAgICBtdXRhdGlvbklkLFxuICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgIGRvY3VtZW50OiBtdXRhdGlvbixcbiAgICAgICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICAgICAgICB1cGRhdGVRdWVyaWVzOiBnZW5lcmF0ZVVwZGF0ZVF1ZXJpZXNJbmZvKCksXG4gICAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlV2l0aFByb3h5Rm4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdG9yZVJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcihlcnI6IEVycm9yKSB7XG4gICAgICAgICAgc2VsZi5tdXRhdGlvblN0b3JlLm1hcmtNdXRhdGlvbkVycm9yKG11dGF0aW9uSWQsIGVycik7XG4gICAgICAgICAgc2VsZi5kYXRhU3RvcmUubWFya011dGF0aW9uQ29tcGxldGUoe1xuICAgICAgICAgICAgbXV0YXRpb25JZCxcbiAgICAgICAgICAgIG9wdGltaXN0aWNSZXNwb25zZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWxmLmJyb2FkY2FzdFF1ZXJpZXMoKTtcbiAgICAgICAgICBzZWxmLnNldFF1ZXJ5KG11dGF0aW9uSWQsICgpID0+ICh7IGRvY3VtZW50OiBudWxsIH0pKTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICBuZXcgQXBvbGxvRXJyb3Ioe1xuICAgICAgICAgICAgICBuZXR3b3JrRXJyb3I6IGVycixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBzZWxmLm11dGF0aW9uU3RvcmUubWFya011dGF0aW9uRXJyb3IobXV0YXRpb25JZCwgZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuZGF0YVN0b3JlLm1hcmtNdXRhdGlvbkNvbXBsZXRlKHtcbiAgICAgICAgICAgIG11dGF0aW9uSWQsXG4gICAgICAgICAgICBvcHRpbWlzdGljUmVzcG9uc2UsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZWxmLmJyb2FkY2FzdFF1ZXJpZXMoKTtcblxuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhbGxvdyBmb3IgY29uZGl0aW9uYWwgcmVmZXRjaGVzXG4gICAgICAgICAgLy8gWFhYIGRvIHdlIHdhbnQgdG8gbWFrZSB0aGlzIHRoZSBvbmx5IEFQSSBvbmUgZGF5P1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVmZXRjaFF1ZXJpZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlZmV0Y2hRdWVyaWVzID0gcmVmZXRjaFF1ZXJpZXMoc3RvcmVSZXN1bHQhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZWZldGNoUXVlcnlQcm9taXNlczogUHJvbWlzZTxcbiAgICAgICAgICAgIEFwb2xsb1F1ZXJ5UmVzdWx0PGFueT5bXSB8IEFwb2xsb1F1ZXJ5UmVzdWx0PHt9PlxuICAgICAgICAgID5bXSA9IFtdO1xuXG4gICAgICAgICAgaWYgKGlzTm9uRW1wdHlBcnJheShyZWZldGNoUXVlcmllcykpIHtcbiAgICAgICAgICAgIHJlZmV0Y2hRdWVyaWVzLmZvckVhY2gocmVmZXRjaFF1ZXJ5ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWZldGNoUXVlcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5xdWVyaWVzLmZvckVhY2goKHsgb2JzZXJ2YWJsZVF1ZXJ5IH0pID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZVF1ZXJ5ICYmXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGVRdWVyeS5xdWVyeU5hbWUgPT09IHJlZmV0Y2hRdWVyeVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmV0Y2hRdWVyeVByb21pc2VzLnB1c2gob2JzZXJ2YWJsZVF1ZXJ5LnJlZmV0Y2goKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlcnlPcHRpb25zOiBRdWVyeU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBxdWVyeTogcmVmZXRjaFF1ZXJ5LnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiByZWZldGNoUXVlcnkudmFyaWFibGVzLFxuICAgICAgICAgICAgICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAocmVmZXRjaFF1ZXJ5LmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5jb250ZXh0ID0gcmVmZXRjaFF1ZXJ5LmNvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVmZXRjaFF1ZXJ5UHJvbWlzZXMucHVzaChzZWxmLnF1ZXJ5KHF1ZXJ5T3B0aW9ucykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIGF3YWl0UmVmZXRjaFF1ZXJpZXMgPyByZWZldGNoUXVlcnlQcm9taXNlcyA6IFtdLFxuICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLnNldFF1ZXJ5KG11dGF0aW9uSWQsICgpID0+ICh7IGRvY3VtZW50OiBudWxsIH0pKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBlcnJvclBvbGljeSA9PT0gJ2lnbm9yZScgJiZcbiAgICAgICAgICAgICAgc3RvcmVSZXN1bHQgJiZcbiAgICAgICAgICAgICAgZ3JhcGhRTFJlc3VsdEhhc0Vycm9yKHN0b3JlUmVzdWx0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzdG9yZVJlc3VsdC5lcnJvcnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoc3RvcmVSZXN1bHQhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGZldGNoUXVlcnk8VD4oXG4gICAgcXVlcnlJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIGZldGNoVHlwZT86IEZldGNoVHlwZSxcbiAgICAvLyBUaGlzIGFsbG93cyB1cyB0byB0cmFjayBpZiB0aGlzIGlzIGEgcXVlcnkgc3Bhd25lZCBieSBhIGBmZXRjaE1vcmVgXG4gICAgLy8gY2FsbCBmb3IgYW5vdGhlciBxdWVyeS4gV2UgbmVlZCB0aGlzIGRhdGEgdG8gY29tcHV0ZSB0aGUgYGZldGNoTW9yZWBcbiAgICAvLyBuZXR3b3JrIHN0YXR1cyBmb3IgdGhlIHF1ZXJ5IHRoaXMgaXMgZmV0Y2hpbmcgZm9yLlxuICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8RmV0Y2hSZXN1bHQ8VD4+IHtcbiAgICBjb25zdCB7XG4gICAgICBtZXRhZGF0YSA9IG51bGwsXG4gICAgICBmZXRjaFBvbGljeSA9ICdjYWNoZS1maXJzdCcsIC8vIGNhY2hlLWZpcnN0IGlzIHRoZSBkZWZhdWx0IGZldGNoIHBvbGljeS5cbiAgICAgIGNvbnRleHQgPSB7fSxcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy50cmFuc2Zvcm0ob3B0aW9ucy5xdWVyeSkuZG9jdW1lbnQ7XG5cbiAgICBsZXQgdmFyaWFibGVzID0gdGhpcy5nZXRWYXJpYWJsZXMocXVlcnksIG9wdGlvbnMudmFyaWFibGVzKTtcblxuICAgIGlmICh0aGlzLnRyYW5zZm9ybShxdWVyeSkuaGFzQ2xpZW50RXhwb3J0cykge1xuICAgICAgdmFyaWFibGVzID0gYXdhaXQgdGhpcy5sb2NhbFN0YXRlLmFkZEV4cG9ydGVkVmFyaWFibGVzKHF1ZXJ5LCB2YXJpYWJsZXMsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIHZhcmlhYmxlcyB9O1xuXG4gICAgbGV0IHN0b3JlUmVzdWx0OiBhbnk7XG4gICAgY29uc3QgaXNOZXR3b3JrT25seSA9XG4gICAgICBmZXRjaFBvbGljeSA9PT0gJ25ldHdvcmstb25seScgfHwgZmV0Y2hQb2xpY3kgPT09ICduby1jYWNoZSc7XG4gICAgbGV0IG5lZWRUb0ZldGNoID0gaXNOZXR3b3JrT25seTtcblxuICAgIC8vIFVubGVzcyB3ZSBhcmUgY29tcGxldGVseSBza2lwcGluZyB0aGUgY2FjaGUsIHdlIHdhbnQgdG8gZGlmZiB0aGUgcXVlcnlcbiAgICAvLyBhZ2FpbnN0IHRoZSBjYWNoZSBiZWZvcmUgd2UgZmV0Y2ggaXQgZnJvbSB0aGUgbmV0d29yayBpbnRlcmZhY2UuXG4gICAgaWYgKCFpc05ldHdvcmtPbmx5KSB7XG4gICAgICBjb25zdCB7IGNvbXBsZXRlLCByZXN1bHQgfSA9IHRoaXMuZGF0YVN0b3JlLmdldENhY2hlKCkuZGlmZih7XG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgIHJldHVyblBhcnRpYWxEYXRhOiB0cnVlLFxuICAgICAgICBvcHRpbWlzdGljOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB3ZSdyZSBpbiBoZXJlLCBvbmx5IGZldGNoIGlmIHdlIGhhdmUgbWlzc2luZyBmaWVsZHNcbiAgICAgIG5lZWRUb0ZldGNoID0gIWNvbXBsZXRlIHx8IGZldGNoUG9saWN5ID09PSAnY2FjaGUtYW5kLW5ldHdvcmsnO1xuICAgICAgc3RvcmVSZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxuXG4gICAgbGV0IHNob3VsZEZldGNoID1cbiAgICAgIG5lZWRUb0ZldGNoICYmIGZldGNoUG9saWN5ICE9PSAnY2FjaGUtb25seScgJiYgZmV0Y2hQb2xpY3kgIT09ICdzdGFuZGJ5JztcblxuICAgIC8vIHdlIG5lZWQgdG8gY2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgYW4gb3BlcmF0aW9uIHRoYXQgdXNlcyB0aGUgQGxpdmUgZGlyZWN0aXZlXG4gICAgaWYgKGhhc0RpcmVjdGl2ZXMoWydsaXZlJ10sIHF1ZXJ5KSkgc2hvdWxkRmV0Y2ggPSB0cnVlO1xuXG4gICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy5pZENvdW50ZXIrKztcblxuICAgIC8vIHNldCB1cCBhIHdhdGNoZXIgdG8gbGlzdGVuIHRvIGNhY2hlIHVwZGF0ZXNcbiAgICBjb25zdCBjYW5jZWwgPSBmZXRjaFBvbGljeSAhPT0gJ25vLWNhY2hlJ1xuICAgICAgPyB0aGlzLnVwZGF0ZVF1ZXJ5V2F0Y2gocXVlcnlJZCwgcXVlcnksIG9wdGlvbnMpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEluaXRpYWxpemUgcXVlcnkgaW4gc3RvcmUgd2l0aCB1bmlxdWUgcmVxdWVzdElkXG4gICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoKSA9PiAoe1xuICAgICAgZG9jdW1lbnQ6IHF1ZXJ5LFxuICAgICAgbGFzdFJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgaW52YWxpZGF0ZWQ6IHRydWUsXG4gICAgICBjYW5jZWwsXG4gICAgfSkpO1xuXG4gICAgdGhpcy5pbnZhbGlkYXRlKGZldGNoTW9yZUZvclF1ZXJ5SWQpO1xuXG4gICAgdGhpcy5xdWVyeVN0b3JlLmluaXRRdWVyeSh7XG4gICAgICBxdWVyeUlkLFxuICAgICAgZG9jdW1lbnQ6IHF1ZXJ5LFxuICAgICAgc3RvcmVQcmV2aW91c1ZhcmlhYmxlczogc2hvdWxkRmV0Y2gsXG4gICAgICB2YXJpYWJsZXMsXG4gICAgICBpc1BvbGw6IGZldGNoVHlwZSA9PT0gRmV0Y2hUeXBlLnBvbGwsXG4gICAgICBpc1JlZmV0Y2g6IGZldGNoVHlwZSA9PT0gRmV0Y2hUeXBlLnJlZmV0Y2gsXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQsXG4gICAgfSk7XG5cbiAgICB0aGlzLmJyb2FkY2FzdFF1ZXJpZXMoKTtcblxuICAgIGlmIChzaG91bGRGZXRjaCkge1xuICAgICAgY29uc3QgbmV0d29ya1Jlc3VsdCA9IHRoaXMuZmV0Y2hSZXF1ZXN0PFQ+KHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICBxdWVyeUlkLFxuICAgICAgICBkb2N1bWVudDogcXVlcnksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQsXG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRoZSBiZW5lZml0IG9mIGByZWZldGNoYCBwcm9taXNlcywgd2hpY2ggY3VycmVudGx5IGRvbid0IGdldCB0aGVpciBlcnJvcnNcbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc3RvcmUgbGlrZSB3YXRjaFF1ZXJ5IG9ic2VydmVycyBkb1xuICAgICAgICBpZiAoaXNBcG9sbG9FcnJvcihlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmVxdWVzdElkID49IHRoaXMuZ2V0UXVlcnkocXVlcnlJZCkubGFzdFJlcXVlc3RJZCkge1xuICAgICAgICAgICAgdGhpcy5xdWVyeVN0b3JlLm1hcmtRdWVyeUVycm9yKHF1ZXJ5SWQsIGVycm9yLCBmZXRjaE1vcmVGb3JRdWVyeUlkKTtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZShxdWVyeUlkKTtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZShmZXRjaE1vcmVGb3JRdWVyeUlkKTtcbiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0UXVlcmllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgQXBvbGxvRXJyb3IoeyBuZXR3b3JrRXJyb3I6IGVycm9yIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gd2UgZG9uJ3QgcmV0dXJuIHRoZSBwcm9taXNlIGZvciBjYWNoZS1hbmQtbmV0d29yayBzaW5jZSBpdCBpcyBhbHJlYWR5XG4gICAgICAvLyByZXR1cm5lZCBiZWxvdyBmcm9tIHRoZSBjYWNoZVxuICAgICAgaWYgKGZldGNoUG9saWN5ICE9PSAnY2FjaGUtYW5kLW5ldHdvcmsnKSB7XG4gICAgICAgIHJldHVybiBuZXR3b3JrUmVzdWx0O1xuICAgICAgfVxuXG4gICAgICAvLyBob3dldmVyIHdlIG5lZWQgdG8gY2F0Y2ggdGhlIGVycm9yIHNvIGl0IGlzbid0IHVuaGFuZGxlZCBpbiBjYXNlIG9mXG4gICAgICAvLyBuZXR3b3JrIGVycm9yXG4gICAgICBuZXR3b3JrUmVzdWx0LmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyBwYXJ0IG9mIHRoZSBxdWVyeSB3ZSBuZWVkIHRvIGZldGNoIGZyb20gdGhlIHNlcnZlciAob3IsXG4gICAgLy8gZmV0Y2hQb2xpY3kgaXMgY2FjaGUtb25seSksIHdlIGp1c3Qgd3JpdGUgdGhlIHN0b3JlIHJlc3VsdCBhcyB0aGUgZmluYWwgcmVzdWx0LlxuICAgIHRoaXMucXVlcnlTdG9yZS5tYXJrUXVlcnlSZXN1bHRDbGllbnQocXVlcnlJZCwgIXNob3VsZEZldGNoKTtcbiAgICB0aGlzLmludmFsaWRhdGUocXVlcnlJZCk7XG4gICAgdGhpcy5pbnZhbGlkYXRlKGZldGNoTW9yZUZvclF1ZXJ5SWQpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKHF1ZXJ5KS5oYXNGb3JjZWRSZXNvbHZlcnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RhdGUucnVuUmVzb2x2ZXJzKHtcbiAgICAgICAgZG9jdW1lbnQ6IHF1ZXJ5LFxuICAgICAgICByZW1vdGVSZXN1bHQ6IHsgZGF0YTogc3RvcmVSZXN1bHQgfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBvbmx5UnVuRm9yY2VkUmVzb2x2ZXJzOiB0cnVlLFxuICAgICAgfSkudGhlbigocmVzdWx0OiBGZXRjaFJlc3VsdDxUPikgPT4ge1xuICAgICAgICB0aGlzLm1hcmtRdWVyeVJlc3VsdChcbiAgICAgICAgICBxdWVyeUlkLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuYnJvYWRjYXN0UXVlcmllcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5icm9hZGNhc3RRdWVyaWVzKCk7XG5cbiAgICAvLyBJZiB3ZSBoYXZlIG5vIHF1ZXJ5IHRvIHNlbmQgdG8gdGhlIHNlcnZlciwgd2Ugc2hvdWxkIHJldHVybiB0aGUgcmVzdWx0XG4gICAgLy8gZm91bmQgd2l0aGluIHRoZSBzdG9yZS5cbiAgICByZXR1cm4geyBkYXRhOiBzdG9yZVJlc3VsdCB9O1xuICB9XG5cbiAgcHJpdmF0ZSBtYXJrUXVlcnlSZXN1bHQ8VERhdGE+KFxuICAgIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgICByZXN1bHQ6IEZldGNoUmVzdWx0PFREYXRhPixcbiAgICB7XG4gICAgICBmZXRjaFBvbGljeSxcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIGVycm9yUG9saWN5LFxuICAgIH06IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQ/OiBzdHJpbmcsXG4gICkge1xuICAgIGlmIChmZXRjaFBvbGljeSA9PT0gJ25vLWNhY2hlJykge1xuICAgICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoKSA9PiAoe1xuICAgICAgICBuZXdEYXRhOiB7IHJlc3VsdDogcmVzdWx0LmRhdGEsIGNvbXBsZXRlOiB0cnVlIH0sXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YVN0b3JlLm1hcmtRdWVyeVJlc3VsdChcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICB0aGlzLmdldFF1ZXJ5KHF1ZXJ5SWQpLmRvY3VtZW50ISxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBmZXRjaE1vcmVGb3JRdWVyeUlkLFxuICAgICAgICBlcnJvclBvbGljeSA9PT0gJ2lnbm9yZScgfHwgZXJyb3JQb2xpY3kgPT09ICdhbGwnLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcXVlcnkgbGlzdGVuZXIgdGhhdCB3aWxsIHVwZGF0ZSB0aGUgZ2l2ZW4gb2JzZXJ2ZXIgYmFzZWQgb24gdGhlXG4gIC8vIHJlc3VsdHMgKG9yIGxhY2sgdGhlcmVvZikgZm9yIGEgcGFydGljdWxhciBxdWVyeS5cbiAgcHVibGljIHF1ZXJ5TGlzdGVuZXJGb3JPYnNlcnZlcjxUPihcbiAgICBxdWVyeUlkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogV2F0Y2hRdWVyeU9wdGlvbnMsXG4gICAgb2JzZXJ2ZXI6IE9ic2VydmVyPEFwb2xsb1F1ZXJ5UmVzdWx0PFQ+PixcbiAgKTogUXVlcnlMaXN0ZW5lciB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZDogJ25leHQnIHwgJ2Vycm9yJywgYXJndW1lbnQ6IGFueSkge1xuICAgICAgaWYgKG9ic2VydmVyW21ldGhvZF0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvYnNlcnZlclttZXRob2RdIShhcmd1bWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpbnZhcmlhbnQuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAnZXJyb3InKSB7XG4gICAgICAgIGludmFyaWFudC5lcnJvcihhcmd1bWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIHF1ZXJ5U3RvcmVWYWx1ZTogUXVlcnlTdG9yZVZhbHVlLFxuICAgICAgbmV3RGF0YT86IENhY2hlLkRpZmZSZXN1bHQ8VD4sXG4gICAgKSA9PiB7XG4gICAgICAvLyB3ZSdyZSBnb2luZyB0byB0YWtlIGEgbG9vayBhdCB0aGUgZGF0YSwgc28gdGhlIHF1ZXJ5IGlzIG5vIGxvbmdlciBpbnZhbGlkYXRlZFxuICAgICAgdGhpcy5pbnZhbGlkYXRlKHF1ZXJ5SWQsIGZhbHNlKTtcblxuICAgICAgLy8gVGhlIHF1ZXJ5IHN0b3JlIHZhbHVlIGNhbiBiZSB1bmRlZmluZWQgaW4gdGhlIGV2ZW50IG9mIGEgc3RvcmVcbiAgICAgIC8vIHJlc2V0LlxuICAgICAgaWYgKCFxdWVyeVN0b3JlVmFsdWUpIHJldHVybjtcblxuICAgICAgY29uc3QgeyBvYnNlcnZhYmxlUXVlcnksIGRvY3VtZW50IH0gPSB0aGlzLmdldFF1ZXJ5KHF1ZXJ5SWQpO1xuXG4gICAgICBjb25zdCBmZXRjaFBvbGljeSA9IG9ic2VydmFibGVRdWVyeVxuICAgICAgICA/IG9ic2VydmFibGVRdWVyeS5vcHRpb25zLmZldGNoUG9saWN5XG4gICAgICAgIDogb3B0aW9ucy5mZXRjaFBvbGljeTtcblxuICAgICAgLy8gZG9uJ3Qgd2F0Y2ggdGhlIHN0b3JlIGZvciBxdWVyaWVzIG9uIHN0YW5kYnlcbiAgICAgIGlmIChmZXRjaFBvbGljeSA9PT0gJ3N0YW5kYnknKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGxvYWRpbmcgPSBpc05ldHdvcmtSZXF1ZXN0SW5GbGlnaHQocXVlcnlTdG9yZVZhbHVlLm5ldHdvcmtTdGF0dXMpO1xuICAgICAgY29uc3QgbGFzdFJlc3VsdCA9IG9ic2VydmFibGVRdWVyeSAmJiBvYnNlcnZhYmxlUXVlcnkuZ2V0TGFzdFJlc3VsdCgpO1xuXG4gICAgICBjb25zdCBuZXR3b3JrU3RhdHVzQ2hhbmdlZCA9ICEhKFxuICAgICAgICBsYXN0UmVzdWx0ICYmXG4gICAgICAgIGxhc3RSZXN1bHQubmV0d29ya1N0YXR1cyAhPT0gcXVlcnlTdG9yZVZhbHVlLm5ldHdvcmtTdGF0dXNcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHNob3VsZE5vdGlmeUlmTG9hZGluZyA9XG4gICAgICAgIG9wdGlvbnMucmV0dXJuUGFydGlhbERhdGEgfHxcbiAgICAgICAgKCFuZXdEYXRhICYmIHF1ZXJ5U3RvcmVWYWx1ZS5wcmV2aW91c1ZhcmlhYmxlcykgfHxcbiAgICAgICAgKG5ldHdvcmtTdGF0dXNDaGFuZ2VkICYmIG9wdGlvbnMubm90aWZ5T25OZXR3b3JrU3RhdHVzQ2hhbmdlKSB8fFxuICAgICAgICBmZXRjaFBvbGljeSA9PT0gJ2NhY2hlLW9ubHknIHx8XG4gICAgICAgIGZldGNoUG9saWN5ID09PSAnY2FjaGUtYW5kLW5ldHdvcmsnO1xuXG4gICAgICBpZiAobG9hZGluZyAmJiAhc2hvdWxkTm90aWZ5SWZMb2FkaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGFzR3JhcGhRTEVycm9ycyA9IGlzTm9uRW1wdHlBcnJheShxdWVyeVN0b3JlVmFsdWUuZ3JhcGhRTEVycm9ycyk7XG5cbiAgICAgIGNvbnN0IGVycm9yUG9saWN5OiBFcnJvclBvbGljeSA9IG9ic2VydmFibGVRdWVyeVxuICAgICAgICAmJiBvYnNlcnZhYmxlUXVlcnkub3B0aW9ucy5lcnJvclBvbGljeVxuICAgICAgICB8fCBvcHRpb25zLmVycm9yUG9saWN5XG4gICAgICAgIHx8ICdub25lJztcblxuICAgICAgLy8gSWYgd2UgaGF2ZSBlaXRoZXIgYSBHcmFwaFFMIGVycm9yIG9yIGEgbmV0d29yayBlcnJvciwgd2UgY3JlYXRlXG4gICAgICAvLyBhbiBlcnJvciBhbmQgdGVsbCB0aGUgb2JzZXJ2ZXIgYWJvdXQgaXQuXG4gICAgICBpZiAoZXJyb3JQb2xpY3kgPT09ICdub25lJyAmJiBoYXNHcmFwaFFMRXJyb3JzIHx8IHF1ZXJ5U3RvcmVWYWx1ZS5uZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZSgnZXJyb3InLCBuZXcgQXBvbGxvRXJyb3Ioe1xuICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IHF1ZXJ5U3RvcmVWYWx1ZS5ncmFwaFFMRXJyb3JzLFxuICAgICAgICAgIG5ldHdvcmtFcnJvcjogcXVlcnlTdG9yZVZhbHVlLm5ldHdvcmtFcnJvcixcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICBsZXQgaXNNaXNzaW5nOiBib29sZWFuO1xuXG4gICAgICAgIGlmIChuZXdEYXRhKSB7XG4gICAgICAgICAgLy8gQXMgbG9uZyBhcyB3ZSdyZSB1c2luZyB0aGUgY2FjaGUsIGNsZWFyIG91dCB0aGUgbGF0ZXN0XG4gICAgICAgICAgLy8gYG5ld0RhdGFgLCBzaW5jZSBpdCB3aWxsIG5vdyBiZWNvbWUgdGhlIGN1cnJlbnQgZGF0YS4gV2UgbmVlZFxuICAgICAgICAgIC8vIHRvIGtlZXAgdGhlIGBuZXdEYXRhYCBzdG9yZWQgd2l0aCB0aGUgcXVlcnkgd2hlbiB1c2luZ1xuICAgICAgICAgIC8vIGBuby1jYWNoZWAgc2luY2UgYGdldEN1cnJlbnRRdWVyeVJlc3VsdGAgYXR0ZW1wcyB0byBwdWxsIGZyb21cbiAgICAgICAgICAvLyBgbmV3RGF0YWAgZmlyc3QsIGZvbGxvd2luZyBieSB0cnlpbmcgdGhlIGNhY2hlICh3aGljaCB3b24ndFxuICAgICAgICAgIC8vIGZpbmQgYSBoaXQgZm9yIGBuby1jYWNoZWApLlxuICAgICAgICAgIGlmIChmZXRjaFBvbGljeSAhPT0gJ25vLWNhY2hlJyAmJiBmZXRjaFBvbGljeSAhPT0gJ25ldHdvcmstb25seScpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UXVlcnkocXVlcnlJZCwgKCkgPT4gKHsgbmV3RGF0YTogbnVsbCB9KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YSA9IG5ld0RhdGEucmVzdWx0O1xuICAgICAgICAgIGlzTWlzc2luZyA9ICFuZXdEYXRhLmNvbXBsZXRlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGxhc3RFcnJvciA9IG9ic2VydmFibGVRdWVyeSAmJiBvYnNlcnZhYmxlUXVlcnkuZ2V0TGFzdEVycm9yKCk7XG4gICAgICAgICAgY29uc3QgZXJyb3JTdGF0dXNDaGFuZ2VkID1cbiAgICAgICAgICAgIGVycm9yUG9saWN5ICE9PSAnbm9uZScgJiZcbiAgICAgICAgICAgIChsYXN0RXJyb3IgJiYgbGFzdEVycm9yLmdyYXBoUUxFcnJvcnMpICE9PVxuICAgICAgICAgICAgICBxdWVyeVN0b3JlVmFsdWUuZ3JhcGhRTEVycm9ycztcblxuICAgICAgICAgIGlmIChsYXN0UmVzdWx0ICYmIGxhc3RSZXN1bHQuZGF0YSAmJiAhZXJyb3JTdGF0dXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBkYXRhID0gbGFzdFJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgaXNNaXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZSZXN1bHQgPSB0aGlzLmRhdGFTdG9yZS5nZXRDYWNoZSgpLmRpZmYoe1xuICAgICAgICAgICAgICBxdWVyeTogZG9jdW1lbnQgYXMgRG9jdW1lbnROb2RlLFxuICAgICAgICAgICAgICB2YXJpYWJsZXM6XG4gICAgICAgICAgICAgICAgcXVlcnlTdG9yZVZhbHVlLnByZXZpb3VzVmFyaWFibGVzIHx8XG4gICAgICAgICAgICAgICAgcXVlcnlTdG9yZVZhbHVlLnZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgcmV0dXJuUGFydGlhbERhdGE6IHRydWUsXG4gICAgICAgICAgICAgIG9wdGltaXN0aWM6IHRydWUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGF0YSA9IGRpZmZSZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgaXNNaXNzaW5nID0gIWRpZmZSZXN1bHQuY29tcGxldGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgc29tZSBkYXRhIG1pc3NpbmcgYW5kIHRoZSB1c2VyIGhhcyB0b2xkIHVzIHRoYXQgdGhleVxuICAgICAgICAvLyBkbyBub3QgdG9sZXJhdGUgcGFydGlhbCBkYXRhIHRoZW4gd2Ugd2FudCB0byByZXR1cm4gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlc3VsdCBhbmQgbWFyayBpdCBhcyBzdGFsZS5cbiAgICAgICAgY29uc3Qgc3RhbGUgPSBpc01pc3NpbmcgJiYgIShcbiAgICAgICAgICBvcHRpb25zLnJldHVyblBhcnRpYWxEYXRhIHx8XG4gICAgICAgICAgZmV0Y2hQb2xpY3kgPT09ICdjYWNoZS1vbmx5J1xuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdEZyb21TdG9yZTogQXBvbGxvUXVlcnlSZXN1bHQ8VD4gPSB7XG4gICAgICAgICAgZGF0YTogc3RhbGUgPyBsYXN0UmVzdWx0ICYmIGxhc3RSZXN1bHQuZGF0YSA6IGRhdGEsXG4gICAgICAgICAgbG9hZGluZyxcbiAgICAgICAgICBuZXR3b3JrU3RhdHVzOiBxdWVyeVN0b3JlVmFsdWUubmV0d29ya1N0YXR1cyxcbiAgICAgICAgICBzdGFsZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBpZiB0aGUgcXVlcnkgd2FudHMgdXBkYXRlcyBvbiBlcnJvcnMgd2UgbmVlZCB0byBhZGQgaXQgdG8gdGhlIHJlc3VsdFxuICAgICAgICBpZiAoZXJyb3JQb2xpY3kgPT09ICdhbGwnICYmIGhhc0dyYXBoUUxFcnJvcnMpIHtcbiAgICAgICAgICByZXN1bHRGcm9tU3RvcmUuZXJyb3JzID0gcXVlcnlTdG9yZVZhbHVlLmdyYXBoUUxFcnJvcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpbnZva2UoJ25leHQnLCByZXN1bHRGcm9tU3RvcmUpO1xuXG4gICAgICB9IGNhdGNoIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgaW52b2tlKCdlcnJvcicsIG5ldyBBcG9sbG9FcnJvcih7IG5ldHdvcmtFcnJvciB9KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgKGNhblVzZVdlYWtNYXAgPyBXZWFrTWFwIDogTWFwKTxcbiAgICBEb2N1bWVudE5vZGUsXG4gICAgUmVhZG9ubHk8e1xuICAgICAgZG9jdW1lbnQ6IFJlYWRvbmx5PERvY3VtZW50Tm9kZT47XG4gICAgICBoYXNDbGllbnRFeHBvcnRzOiBib29sZWFuO1xuICAgICAgaGFzRm9yY2VkUmVzb2x2ZXJzOiBib29sZWFuO1xuICAgICAgY2xpZW50UXVlcnk6IFJlYWRvbmx5PERvY3VtZW50Tm9kZT4gfCBudWxsO1xuICAgICAgc2VydmVyUXVlcnk6IFJlYWRvbmx5PERvY3VtZW50Tm9kZT4gfCBudWxsO1xuICAgICAgZGVmYXVsdFZhcnM6IFJlYWRvbmx5PE9wZXJhdGlvblZhcmlhYmxlcz47XG4gICAgfT5cbiAgPigpO1xuXG4gIHB1YmxpYyB0cmFuc2Zvcm0oZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSkge1xuICAgIGNvbnN0IHsgdHJhbnNmb3JtQ2FjaGUgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXRyYW5zZm9ybUNhY2hlLmhhcyhkb2N1bWVudCkpIHtcbiAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5kYXRhU3RvcmUuZ2V0Q2FjaGUoKTtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gY2FjaGUudHJhbnNmb3JtRG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgY29uc3QgZm9yTGluayA9IHJlbW92ZUNvbm5lY3Rpb25EaXJlY3RpdmVGcm9tRG9jdW1lbnQoXG4gICAgICAgIGNhY2hlLnRyYW5zZm9ybUZvckxpbmsodHJhbnNmb3JtZWQpKTtcblxuICAgICAgY29uc3QgY2xpZW50UXVlcnkgPSB0aGlzLmxvY2FsU3RhdGUuY2xpZW50UXVlcnkodHJhbnNmb3JtZWQpO1xuICAgICAgY29uc3Qgc2VydmVyUXVlcnkgPSB0aGlzLmxvY2FsU3RhdGUuc2VydmVyUXVlcnkoZm9yTGluayk7XG5cbiAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgIGRvY3VtZW50OiB0cmFuc2Zvcm1lZCxcbiAgICAgICAgLy8gVE9ETyBUaGVzZSB0d28gY2FsbHMgKGhhc0NsaWVudEV4cG9ydHMgYW5kIHNob3VsZEZvcmNlUmVzb2x2ZXJzKVxuICAgICAgICAvLyBjb3VsZCBwcm9iYWJseSBiZSBtZXJnZWQgaW50byBhIHNpbmdsZSB0cmF2ZXJzYWwuXG4gICAgICAgIGhhc0NsaWVudEV4cG9ydHM6IGhhc0NsaWVudEV4cG9ydHModHJhbnNmb3JtZWQpLFxuICAgICAgICBoYXNGb3JjZWRSZXNvbHZlcnM6IHRoaXMubG9jYWxTdGF0ZS5zaG91bGRGb3JjZVJlc29sdmVycyh0cmFuc2Zvcm1lZCksXG4gICAgICAgIGNsaWVudFF1ZXJ5LFxuICAgICAgICBzZXJ2ZXJRdWVyeSxcbiAgICAgICAgZGVmYXVsdFZhcnM6IGdldERlZmF1bHRWYWx1ZXMoXG4gICAgICAgICAgZ2V0T3BlcmF0aW9uRGVmaW5pdGlvbih0cmFuc2Zvcm1lZClcbiAgICAgICAgKSBhcyBPcGVyYXRpb25WYXJpYWJsZXMsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBhZGQgPSAoZG9jOiBEb2N1bWVudE5vZGUgfCBudWxsKSA9PiB7XG4gICAgICAgIGlmIChkb2MgJiYgIXRyYW5zZm9ybUNhY2hlLmhhcyhkb2MpKSB7XG4gICAgICAgICAgdHJhbnNmb3JtQ2FjaGUuc2V0KGRvYywgY2FjaGVFbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEFkZCBjYWNoZUVudHJ5IHRvIHRoZSB0cmFuc2Zvcm1DYWNoZSB1c2luZyBzZXZlcmFsIGRpZmZlcmVudCBrZXlzLFxuICAgICAgLy8gc2luY2UgYW55IG9uZSBvZiB0aGVzZSBkb2N1bWVudHMgY291bGQgZW5kIHVwIGdldHRpbmcgcGFzc2VkIHRvIHRoZVxuICAgICAgLy8gdHJhbnNmb3JtIG1ldGhvZCBhZ2FpbiBpbiB0aGUgZnV0dXJlLlxuICAgICAgYWRkKGRvY3VtZW50KTtcbiAgICAgIGFkZCh0cmFuc2Zvcm1lZCk7XG4gICAgICBhZGQoY2xpZW50UXVlcnkpO1xuICAgICAgYWRkKHNlcnZlclF1ZXJ5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNmb3JtQ2FjaGUuZ2V0KGRvY3VtZW50KSE7XG4gIH1cblxuICBwcml2YXRlIGdldFZhcmlhYmxlcyhcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuICAgIHZhcmlhYmxlcz86IE9wZXJhdGlvblZhcmlhYmxlcyxcbiAgKTogT3BlcmF0aW9uVmFyaWFibGVzIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy50cmFuc2Zvcm0oZG9jdW1lbnQpLmRlZmF1bHRWYXJzLFxuICAgICAgLi4udmFyaWFibGVzLFxuICAgIH07XG4gIH1cblxuICAvLyBUaGUgc2hvdWxkU3Vic2NyaWJlIG9wdGlvbiBpcyBhIHRlbXBvcmFyeSBmaXggdGhhdCB0ZWxscyB1cyB3aGV0aGVyIHdhdGNoUXVlcnkgd2FzIGNhbGxlZFxuICAvLyBkaXJlY3RseSAoaS5lLiB0aHJvdWdoIEFwb2xsb0NsaWVudCkgb3IgdGhyb3VnaCB0aGUgcXVlcnkgbWV0aG9kIHdpdGhpbiBRdWVyeU1hbmFnZXIuXG4gIC8vIEN1cnJlbnRseSwgdGhlIHF1ZXJ5IG1ldGhvZCB1c2VzIHdhdGNoUXVlcnkgaW4gb3JkZXIgdG8gaGFuZGxlIG5vbi1uZXR3b3JrIGVycm9ycyBjb3JyZWN0bHlcbiAgLy8gYnV0IHdlIGRvbid0IHdhbnQgdG8ga2VlcCB0cmFjayBvYnNlcnZhYmxlcyBpc3N1ZWQgZm9yIHRoZSBxdWVyeSBtZXRob2Qgc2luY2UgdGhvc2UgYXJlbid0XG4gIC8vIHN1cHBvc2VkIHRvIGJlIHJlZmV0Y2hlZCBpbiB0aGUgZXZlbnQgb2YgYSBzdG9yZSByZXNldC4gT25jZSB3ZSB1bmlmeSBlcnJvciBoYW5kbGluZyBmb3JcbiAgLy8gbmV0d29yayBlcnJvcnMgYW5kIG5vbi1uZXR3b3JrIGVycm9ycywgdGhlIHNob3VsZFN1YnNjcmliZSBvcHRpb24gd2lsbCBnbyBhd2F5LlxuXG4gIHB1YmxpYyB3YXRjaFF1ZXJ5PFQsIFRWYXJpYWJsZXMgPSBPcGVyYXRpb25WYXJpYWJsZXM+KFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIHNob3VsZFN1YnNjcmliZSA9IHRydWUsXG4gICk6IE9ic2VydmFibGVRdWVyeTxULCBUVmFyaWFibGVzPiB7XG4gICAgaW52YXJpYW50KFxuICAgICAgb3B0aW9ucy5mZXRjaFBvbGljeSAhPT0gJ3N0YW5kYnknLFxuICAgICAgJ2NsaWVudC53YXRjaFF1ZXJ5IGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBmZXRjaFBvbGljeSBzZXQgdG8gXCJzdGFuZGJ5XCInLFxuICAgICk7XG5cbiAgICAvLyBhc3NpZ24gdmFyaWFibGUgZGVmYXVsdCB2YWx1ZXMgaWYgc3VwcGxpZWRcbiAgICBvcHRpb25zLnZhcmlhYmxlcyA9IHRoaXMuZ2V0VmFyaWFibGVzKG9wdGlvbnMucXVlcnksIG9wdGlvbnMudmFyaWFibGVzKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ub3RpZnlPbk5ldHdvcmtTdGF0dXNDaGFuZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLm5vdGlmeU9uTmV0d29ya1N0YXR1c0NoYW5nZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCB0cmFuc2Zvcm1lZE9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfSBhcyBXYXRjaFF1ZXJ5T3B0aW9uczxUVmFyaWFibGVzPjtcblxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVF1ZXJ5PFQsIFRWYXJpYWJsZXM+KHtcbiAgICAgIHF1ZXJ5TWFuYWdlcjogdGhpcyxcbiAgICAgIG9wdGlvbnM6IHRyYW5zZm9ybWVkT3B0aW9ucyxcbiAgICAgIHNob3VsZFN1YnNjcmliZTogc2hvdWxkU3Vic2NyaWJlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHF1ZXJ5PFQ+KG9wdGlvbnM6IFF1ZXJ5T3B0aW9ucyk6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8VD4+IHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBvcHRpb25zLnF1ZXJ5LFxuICAgICAgJ3F1ZXJ5IG9wdGlvbiBpcyByZXF1aXJlZC4gWW91IG11c3Qgc3BlY2lmeSB5b3VyIEdyYXBoUUwgZG9jdW1lbnQgJyArXG4gICAgICAgICdpbiB0aGUgcXVlcnkgb3B0aW9uLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIG9wdGlvbnMucXVlcnkua2luZCA9PT0gJ0RvY3VtZW50JyxcbiAgICAgICdZb3UgbXVzdCB3cmFwIHRoZSBxdWVyeSBzdHJpbmcgaW4gYSBcImdxbFwiIHRhZy4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhKG9wdGlvbnMgYXMgYW55KS5yZXR1cm5QYXJ0aWFsRGF0YSxcbiAgICAgICdyZXR1cm5QYXJ0aWFsRGF0YSBvcHRpb24gb25seSBzdXBwb3J0ZWQgb24gd2F0Y2hRdWVyeS4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhKG9wdGlvbnMgYXMgYW55KS5wb2xsSW50ZXJ2YWwsXG4gICAgICAncG9sbEludGVydmFsIG9wdGlvbiBvbmx5IHN1cHBvcnRlZCBvbiB3YXRjaFF1ZXJ5LicsXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxBcG9sbG9RdWVyeVJlc3VsdDxUPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgd2F0Y2hlZFF1ZXJ5ID0gdGhpcy53YXRjaFF1ZXJ5PFQ+KG9wdGlvbnMsIGZhbHNlKTtcbiAgICAgIHRoaXMuZmV0Y2hRdWVyeVJlamVjdEZucy5zZXQoYHF1ZXJ5OiR7d2F0Y2hlZFF1ZXJ5LnF1ZXJ5SWR9YCwgcmVqZWN0KTtcbiAgICAgIHdhdGNoZWRRdWVyeVxuICAgICAgICAucmVzdWx0KClcbiAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAvLyBTaW5jZSBuZWl0aGVyIHJlc29sdmUgbm9yIHJlamVjdCB0aHJvdyBvciByZXR1cm4gYSB2YWx1ZSwgdGhpcyAudGhlblxuICAgICAgICAvLyBoYW5kbGVyIGlzIGd1YXJhbnRlZWQgdG8gZXhlY3V0ZS4gTm90ZSB0aGF0IGl0IGRvZXNuJ3QgcmVhbGx5IG1hdHRlclxuICAgICAgICAvLyB3aGVuIHdlIHJlbW92ZSB0aGUgcmVqZWN0IGZ1bmN0aW9uIGZyb20gdGhpcy5mZXRjaFF1ZXJ5UmVqZWN0Rm5zLFxuICAgICAgICAvLyBzaW5jZSByZXNvbHZlIGFuZCByZWplY3QgYXJlIG11dHVhbGx5IGlkZW1wb3RlbnQuIEluIGZhY3QsIGl0IHdvdWxkXG4gICAgICAgIC8vIG5vdCBiZSBpbmNvcnJlY3QgdG8gbGV0IHJlamVjdCBmdW5jdGlvbnMgYWNjdW11bGF0ZSBvdmVyIHRpbWU7IGl0J3NcbiAgICAgICAgLy8ganVzdCBhIHdhc3RlIG9mIG1lbW9yeS5cbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICB0aGlzLmZldGNoUXVlcnlSZWplY3RGbnMuZGVsZXRlKGBxdWVyeToke3dhdGNoZWRRdWVyeS5xdWVyeUlkfWApLFxuICAgICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdlbmVyYXRlUXVlcnlJZCgpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuaWRDb3VudGVyKyspO1xuICB9XG5cbiAgcHVibGljIHN0b3BRdWVyeUluU3RvcmUocXVlcnlJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5zdG9wUXVlcnlJblN0b3JlTm9Ccm9hZGNhc3QocXVlcnlJZCk7XG4gICAgdGhpcy5icm9hZGNhc3RRdWVyaWVzKCk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BRdWVyeUluU3RvcmVOb0Jyb2FkY2FzdChxdWVyeUlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0b3BQb2xsaW5nUXVlcnkocXVlcnlJZCk7XG4gICAgdGhpcy5xdWVyeVN0b3JlLnN0b3BRdWVyeShxdWVyeUlkKTtcbiAgICB0aGlzLmludmFsaWRhdGUocXVlcnlJZCk7XG4gIH1cblxuICBwdWJsaWMgYWRkUXVlcnlMaXN0ZW5lcihxdWVyeUlkOiBzdHJpbmcsIGxpc3RlbmVyOiBRdWVyeUxpc3RlbmVyKSB7XG4gICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoeyBsaXN0ZW5lcnMgfSkgPT4ge1xuICAgICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4geyBpbnZhbGlkYXRlZDogZmFsc2UgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVRdWVyeVdhdGNoKFxuICAgIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCB7IGNhbmNlbCB9ID0gdGhpcy5nZXRRdWVyeShxdWVyeUlkKTtcbiAgICBpZiAoY2FuY2VsKSBjYW5jZWwoKTtcbiAgICBjb25zdCBwcmV2aW91c1Jlc3VsdCA9ICgpID0+IHtcbiAgICAgIGxldCBwcmV2aW91c1Jlc3VsdCA9IG51bGw7XG4gICAgICBjb25zdCB7IG9ic2VydmFibGVRdWVyeSB9ID0gdGhpcy5nZXRRdWVyeShxdWVyeUlkKTtcbiAgICAgIGlmIChvYnNlcnZhYmxlUXVlcnkpIHtcbiAgICAgICAgY29uc3QgbGFzdFJlc3VsdCA9IG9ic2VydmFibGVRdWVyeS5nZXRMYXN0UmVzdWx0KCk7XG4gICAgICAgIGlmIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXNSZXN1bHQgPSBsYXN0UmVzdWx0LmRhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuZGF0YVN0b3JlLmdldENhY2hlKCkud2F0Y2goe1xuICAgICAgcXVlcnk6IGRvY3VtZW50IGFzIERvY3VtZW50Tm9kZSxcbiAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICBvcHRpbWlzdGljOiB0cnVlLFxuICAgICAgcHJldmlvdXNSZXN1bHQsXG4gICAgICBjYWxsYmFjazogbmV3RGF0YSA9PiB7XG4gICAgICAgIHRoaXMuc2V0UXVlcnkocXVlcnlJZCwgKCkgPT4gKHsgaW52YWxpZGF0ZWQ6IHRydWUsIG5ld0RhdGEgfSkpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZHMgYW4gT2JzZXJ2YWJsZVF1ZXJ5IHRvIHRoaXMub2JzZXJ2YWJsZVF1ZXJpZXMgYW5kIHRvIHRoaXMub2JzZXJ2YWJsZVF1ZXJpZXNCeU5hbWUuXG4gIHB1YmxpYyBhZGRPYnNlcnZhYmxlUXVlcnk8VD4oXG4gICAgcXVlcnlJZDogc3RyaW5nLFxuICAgIG9ic2VydmFibGVRdWVyeTogT2JzZXJ2YWJsZVF1ZXJ5PFQ+LFxuICApIHtcbiAgICB0aGlzLnNldFF1ZXJ5KHF1ZXJ5SWQsICgpID0+ICh7IG9ic2VydmFibGVRdWVyeSB9KSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlT2JzZXJ2YWJsZVF1ZXJ5KHF1ZXJ5SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHsgY2FuY2VsIH0gPSB0aGlzLmdldFF1ZXJ5KHF1ZXJ5SWQpO1xuICAgIHRoaXMuc2V0UXVlcnkocXVlcnlJZCwgKCkgPT4gKHsgb2JzZXJ2YWJsZVF1ZXJ5OiBudWxsIH0pKTtcbiAgICBpZiAoY2FuY2VsKSBjYW5jZWwoKTtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhclN0b3JlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEJlZm9yZSB3ZSBoYXZlIHNlbnQgdGhlIHJlc2V0IGFjdGlvbiB0byB0aGUgc3RvcmUsXG4gICAgLy8gd2UgY2FuIG5vIGxvbmdlciByZWx5IG9uIHRoZSByZXN1bHRzIHJldHVybmVkIGJ5IGluLWZsaWdodFxuICAgIC8vIHJlcXVlc3RzIHNpbmNlIHRoZXNlIG1heSBkZXBlbmQgb24gdmFsdWVzIHRoYXQgcHJldmlvdXNseSBleGlzdGVkXG4gICAgLy8gaW4gdGhlIGRhdGEgcG9ydGlvbiBvZiB0aGUgc3RvcmUuIFNvLCB3ZSBjYW5jZWwgdGhlIHByb21pc2VzIGFuZCBvYnNlcnZlcnNcbiAgICAvLyB0aGF0IHdlIGhhdmUgaXNzdWVkIHNvIGZhciBhbmQgbm90IHlldCByZXNvbHZlZCAoaW4gdGhlIGNhc2Ugb2ZcbiAgICAvLyBxdWVyaWVzKS5cbiAgICB0aGlzLmZldGNoUXVlcnlSZWplY3RGbnMuZm9yRWFjaChyZWplY3QgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgJ1N0b3JlIHJlc2V0IHdoaWxlIHF1ZXJ5IHdhcyBpbiBmbGlnaHQgKG5vdCBjb21wbGV0ZWQgaW4gbGluayBjaGFpbiknLFxuICAgICAgKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNldElkczogc3RyaW5nW10gPSBbXTtcbiAgICB0aGlzLnF1ZXJpZXMuZm9yRWFjaCgoeyBvYnNlcnZhYmxlUXVlcnkgfSwgcXVlcnlJZCkgPT4ge1xuICAgICAgaWYgKG9ic2VydmFibGVRdWVyeSkgcmVzZXRJZHMucHVzaChxdWVyeUlkKTtcbiAgICB9KTtcblxuICAgIHRoaXMucXVlcnlTdG9yZS5yZXNldChyZXNldElkcyk7XG4gICAgdGhpcy5tdXRhdGlvblN0b3JlLnJlc2V0KCk7XG5cbiAgICAvLyBiZWdpbiByZW1vdmluZyBkYXRhIGZyb20gdGhlIHN0b3JlXG4gICAgcmV0dXJuIHRoaXMuZGF0YVN0b3JlLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXRTdG9yZSgpOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PGFueT5bXT4ge1xuICAgIC8vIFNpbWlsYXJseSwgd2UgaGF2ZSB0byBoYXZlIHRvIHJlZmV0Y2ggZWFjaCBvZiB0aGUgcXVlcmllcyBjdXJyZW50bHkgYmVpbmdcbiAgICAvLyBvYnNlcnZlZC4gV2UgcmVmZXRjaCBpbnN0ZWFkIG9mIGVycm9yJ2luZyBvbiB0aGVzZSBzaW5jZSB0aGUgYXNzdW1wdGlvbiBpcyB0aGF0XG4gICAgLy8gcmVzZXR0aW5nIHRoZSBzdG9yZSBkb2Vzbid0IGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3IgdGhlIHF1ZXJpZXMgY3VycmVudGx5IGJlaW5nXG4gICAgLy8gd2F0Y2hlZC4gSWYgdGhlcmUgaXMgYW4gZXhpc3RpbmcgcXVlcnkgaW4gZmxpZ2h0IHdoZW4gdGhlIHN0b3JlIGlzIHJlc2V0LFxuICAgIC8vIHRoZSBwcm9taXNlIGZvciBpdCB3aWxsIGJlIHJlamVjdGVkIGFuZCBpdHMgcmVzdWx0cyB3aWxsIG5vdCBiZSB3cml0dGVuIHRvIHRoZVxuICAgIC8vIHN0b3JlLlxuICAgIHJldHVybiB0aGlzLmNsZWFyU3RvcmUoKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnJlRmV0Y2hPYnNlcnZhYmxlUXVlcmllcygpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHJlRmV0Y2hPYnNlcnZhYmxlUXVlcmllcyhcbiAgICBpbmNsdWRlU3RhbmRieTogYm9vbGVhbiA9IGZhbHNlLFxuICApOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PGFueT5bXT4ge1xuICAgIGNvbnN0IG9ic2VydmFibGVRdWVyeVByb21pc2VzOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PGFueT4+W10gPSBbXTtcblxuICAgIHRoaXMucXVlcmllcy5mb3JFYWNoKCh7IG9ic2VydmFibGVRdWVyeSB9LCBxdWVyeUlkKSA9PiB7XG4gICAgICBpZiAob2JzZXJ2YWJsZVF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGZldGNoUG9saWN5ID0gb2JzZXJ2YWJsZVF1ZXJ5Lm9wdGlvbnMuZmV0Y2hQb2xpY3k7XG5cbiAgICAgICAgb2JzZXJ2YWJsZVF1ZXJ5LnJlc2V0TGFzdFJlc3VsdHMoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZldGNoUG9saWN5ICE9PSAnY2FjaGUtb25seScgJiZcbiAgICAgICAgICAoaW5jbHVkZVN0YW5kYnkgfHwgZmV0Y2hQb2xpY3kgIT09ICdzdGFuZGJ5JylcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2JzZXJ2YWJsZVF1ZXJ5UHJvbWlzZXMucHVzaChvYnNlcnZhYmxlUXVlcnkucmVmZXRjaCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0UXVlcnkocXVlcnlJZCwgKCkgPT4gKHsgbmV3RGF0YTogbnVsbCB9KSk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZShxdWVyeUlkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYnJvYWRjYXN0UXVlcmllcygpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG9ic2VydmFibGVRdWVyeVByb21pc2VzKTtcbiAgfVxuXG4gIHB1YmxpYyBvYnNlcnZlUXVlcnk8VD4oXG4gICAgcXVlcnlJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIG9ic2VydmVyOiBPYnNlcnZlcjxBcG9sbG9RdWVyeVJlc3VsdDxUPj4sXG4gICkge1xuICAgIHRoaXMuYWRkUXVlcnlMaXN0ZW5lcihcbiAgICAgIHF1ZXJ5SWQsXG4gICAgICB0aGlzLnF1ZXJ5TGlzdGVuZXJGb3JPYnNlcnZlcihxdWVyeUlkLCBvcHRpb25zLCBvYnNlcnZlciksXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFF1ZXJ5PFQ+KHF1ZXJ5SWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHVibGljIHN0YXJ0UXVlcnk8VD4oXG4gICAgcXVlcnlJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIGxpc3RlbmVyOiBRdWVyeUxpc3RlbmVyLFxuICApIHtcbiAgICBpbnZhcmlhbnQud2FybihcIlRoZSBRdWVyeU1hbmFnZXIuc3RhcnRRdWVyeSBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZFwiKTtcblxuICAgIHRoaXMuYWRkUXVlcnlMaXN0ZW5lcihxdWVyeUlkLCBsaXN0ZW5lcik7XG5cbiAgICB0aGlzLmZldGNoUXVlcnk8VD4ocXVlcnlJZCwgb3B0aW9ucylcbiAgICAgIC8vIGBmZXRjaFF1ZXJ5YCByZXR1cm5zIGEgUHJvbWlzZS4gSW4gY2FzZSBvZiBhIGZhaWx1cmUgaXQgc2hvdWxkIGJlIGNhdWNodCBvciBlbHNlIHRoZVxuICAgICAgLy8gY29uc29sZSB3aWxsIHNob3cgYW4gYFVuY2F1Z2h0IChpbiBwcm9taXNlKWAgbWVzc2FnZS4gSWdub3JlIHRoZSBlcnJvciBmb3Igbm93LlxuICAgICAgLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4gcXVlcnlJZDtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydEdyYXBoUUxTdWJzY3JpcHRpb248VCA9IGFueT4oe1xuICAgIHF1ZXJ5LFxuICAgIGZldGNoUG9saWN5LFxuICAgIHZhcmlhYmxlcyxcbiAgfTogU3Vic2NyaXB0aW9uT3B0aW9ucyk6IE9ic2VydmFibGU8RmV0Y2hSZXN1bHQ8VD4+IHtcbiAgICBxdWVyeSA9IHRoaXMudHJhbnNmb3JtKHF1ZXJ5KS5kb2N1bWVudDtcbiAgICB2YXJpYWJsZXMgPSB0aGlzLmdldFZhcmlhYmxlcyhxdWVyeSwgdmFyaWFibGVzKTtcblxuICAgIGNvbnN0IG1ha2VPYnNlcnZhYmxlID0gKHZhcmlhYmxlczogT3BlcmF0aW9uVmFyaWFibGVzKSA9PlxuICAgICAgdGhpcy5nZXRPYnNlcnZhYmxlRnJvbUxpbms8VD4oXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICB7fSxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBmYWxzZSxcbiAgICAgICkubWFwKHJlc3VsdCA9PiB7XG4gICAgICAgIGlmICghZmV0Y2hQb2xpY3kgfHwgZmV0Y2hQb2xpY3kgIT09ICduby1jYWNoZScpIHtcbiAgICAgICAgICB0aGlzLmRhdGFTdG9yZS5tYXJrU3Vic2NyaXB0aW9uUmVzdWx0KFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmJyb2FkY2FzdFF1ZXJpZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncmFwaFFMUmVzdWx0SGFzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICAgIHRocm93IG5ldyBBcG9sbG9FcnJvcih7XG4gICAgICAgICAgICBncmFwaFFMRXJyb3JzOiByZXN1bHQuZXJyb3JzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKHF1ZXJ5KS5oYXNDbGllbnRFeHBvcnRzKSB7XG4gICAgICBjb25zdCBvYnNlcnZhYmxlUHJvbWlzZSA9IHRoaXMubG9jYWxTdGF0ZS5hZGRFeHBvcnRlZFZhcmlhYmxlcyhcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICkudGhlbihtYWtlT2JzZXJ2YWJsZSk7XG5cbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxGZXRjaFJlc3VsdDxUPj4ob2JzZXJ2ZXIgPT4ge1xuICAgICAgICBsZXQgc3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcbiAgICAgICAgb2JzZXJ2YWJsZVByb21pc2UudGhlbihcbiAgICAgICAgICBvYnNlcnZhYmxlID0+IHN1YiA9IG9ic2VydmFibGUuc3Vic2NyaWJlKG9ic2VydmVyKSxcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHN1YiAmJiBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYWtlT2JzZXJ2YWJsZSh2YXJpYWJsZXMpO1xuICB9XG5cbiAgcHVibGljIHN0b3BRdWVyeShxdWVyeUlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0b3BRdWVyeU5vQnJvYWRjYXN0KHF1ZXJ5SWQpO1xuICAgIHRoaXMuYnJvYWRjYXN0UXVlcmllcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdG9wUXVlcnlOb0Jyb2FkY2FzdChxdWVyeUlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0b3BRdWVyeUluU3RvcmVOb0Jyb2FkY2FzdChxdWVyeUlkKTtcbiAgICB0aGlzLnJlbW92ZVF1ZXJ5KHF1ZXJ5SWQpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZVF1ZXJ5KHF1ZXJ5SWQ6IHN0cmluZykge1xuICAgIC8vIHRlYXJkb3duIGFsbCBsaW5rc1xuICAgIC8vIEJvdGggYFF1ZXJ5TWFuYWdlci5mZXRjaFJlcXVlc3RgIGFuZCBgUXVlcnlNYW5hZ2VyLnF1ZXJ5YCBjcmVhdGUgc2VwYXJhdGUgcHJvbWlzZXNcbiAgICAvLyB0aGF0IGVhY2ggYWRkIHRoZWlyIHJlamVjdCBmdW5jdGlvbnMgdG8gZmV0Y2hRdWVyeVJlamVjdEZucy5cbiAgICAvLyBBIHF1ZXJ5IGNyZWF0ZWQgd2l0aCBgUXVlcnlNYW5hZ2VyLnF1ZXJ5KClgIGNvdWxkIHRyaWdnZXIgYSBgUXVlcnlNYW5hZ2VyLmZldGNoUmVxdWVzdGAuXG4gICAgLy8gVGhlIHNhbWUgcXVlcnlJZCBjb3VsZCBoYXZlIHR3byByZWplY3Rpb24gZm5zIGZvciB0d28gcHJvbWlzZXNcbiAgICB0aGlzLmZldGNoUXVlcnlSZWplY3RGbnMuZGVsZXRlKGBxdWVyeToke3F1ZXJ5SWR9YCk7XG4gICAgdGhpcy5mZXRjaFF1ZXJ5UmVqZWN0Rm5zLmRlbGV0ZShgZmV0Y2hSZXF1ZXN0OiR7cXVlcnlJZH1gKTtcbiAgICB0aGlzLmdldFF1ZXJ5KHF1ZXJ5SWQpLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCh4ID0+IHgudW5zdWJzY3JpYmUoKSk7XG4gICAgdGhpcy5xdWVyaWVzLmRlbGV0ZShxdWVyeUlkKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDdXJyZW50UXVlcnlSZXN1bHQ8VD4oXG4gICAgb2JzZXJ2YWJsZVF1ZXJ5OiBPYnNlcnZhYmxlUXVlcnk8VD4sXG4gICAgb3B0aW1pc3RpYzogYm9vbGVhbiA9IHRydWUsXG4gICk6IHtcbiAgICBkYXRhOiBUIHwgdW5kZWZpbmVkO1xuICAgIHBhcnRpYWw6IGJvb2xlYW47XG4gIH0ge1xuICAgIGNvbnN0IHsgdmFyaWFibGVzLCBxdWVyeSwgZmV0Y2hQb2xpY3ksIHJldHVyblBhcnRpYWxEYXRhIH0gPSBvYnNlcnZhYmxlUXVlcnkub3B0aW9ucztcbiAgICBjb25zdCBsYXN0UmVzdWx0ID0gb2JzZXJ2YWJsZVF1ZXJ5LmdldExhc3RSZXN1bHQoKTtcbiAgICBjb25zdCB7IG5ld0RhdGEgfSA9IHRoaXMuZ2V0UXVlcnkob2JzZXJ2YWJsZVF1ZXJ5LnF1ZXJ5SWQpO1xuXG4gICAgaWYgKG5ld0RhdGEgJiYgbmV3RGF0YS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIHsgZGF0YTogbmV3RGF0YS5yZXN1bHQsIHBhcnRpYWw6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGZldGNoUG9saWN5ID09PSAnbm8tY2FjaGUnIHx8IGZldGNoUG9saWN5ID09PSAnbmV0d29yay1vbmx5Jykge1xuICAgICAgcmV0dXJuIHsgZGF0YTogdW5kZWZpbmVkLCBwYXJ0aWFsOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgcmVzdWx0LCBjb21wbGV0ZSB9ID0gdGhpcy5kYXRhU3RvcmUuZ2V0Q2FjaGUoKS5kaWZmPFQ+KHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgdmFyaWFibGVzLFxuICAgICAgcHJldmlvdXNSZXN1bHQ6IGxhc3RSZXN1bHQgPyBsYXN0UmVzdWx0LmRhdGEgOiB1bmRlZmluZWQsXG4gICAgICByZXR1cm5QYXJ0aWFsRGF0YTogdHJ1ZSxcbiAgICAgIG9wdGltaXN0aWMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogKGNvbXBsZXRlIHx8IHJldHVyblBhcnRpYWxEYXRhKSA/IHJlc3VsdCA6IHZvaWQgMCxcbiAgICAgIHBhcnRpYWw6ICFjb21wbGV0ZSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGdldFF1ZXJ5V2l0aFByZXZpb3VzUmVzdWx0PFREYXRhLCBUVmFyaWFibGVzID0gT3BlcmF0aW9uVmFyaWFibGVzPihcbiAgICBxdWVyeUlkT3JPYnNlcnZhYmxlOiBzdHJpbmcgfCBPYnNlcnZhYmxlUXVlcnk8VERhdGEsIFRWYXJpYWJsZXM+LFxuICApOiB7XG4gICAgcHJldmlvdXNSZXN1bHQ6IGFueTtcbiAgICB2YXJpYWJsZXM6IFRWYXJpYWJsZXMgfCB1bmRlZmluZWQ7XG4gICAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZTtcbiAgfSB7XG4gICAgbGV0IG9ic2VydmFibGVRdWVyeTogT2JzZXJ2YWJsZVF1ZXJ5PFREYXRhLCBhbnk+O1xuICAgIGlmICh0eXBlb2YgcXVlcnlJZE9yT2JzZXJ2YWJsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHsgb2JzZXJ2YWJsZVF1ZXJ5OiBmb3VuZE9ic2VydmVhYmxlUXVlcnkgfSA9IHRoaXMuZ2V0UXVlcnkoXG4gICAgICAgIHF1ZXJ5SWRPck9ic2VydmFibGUsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmb3VuZE9ic2VydmVhYmxlUXVlcnksXG4gICAgICAgIGBPYnNlcnZhYmxlUXVlcnkgd2l0aCB0aGlzIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7cXVlcnlJZE9yT2JzZXJ2YWJsZX1gXG4gICAgICApO1xuICAgICAgb2JzZXJ2YWJsZVF1ZXJ5ID0gZm91bmRPYnNlcnZlYWJsZVF1ZXJ5ITtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2YWJsZVF1ZXJ5ID0gcXVlcnlJZE9yT2JzZXJ2YWJsZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHZhcmlhYmxlcywgcXVlcnkgfSA9IG9ic2VydmFibGVRdWVyeS5vcHRpb25zO1xuICAgIHJldHVybiB7XG4gICAgICBwcmV2aW91c1Jlc3VsdDogdGhpcy5nZXRDdXJyZW50UXVlcnlSZXN1bHQob2JzZXJ2YWJsZVF1ZXJ5LCBmYWxzZSkuZGF0YSxcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIGRvY3VtZW50OiBxdWVyeSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGJyb2FkY2FzdFF1ZXJpZXMoKSB7XG4gICAgdGhpcy5vbkJyb2FkY2FzdCgpO1xuICAgIHRoaXMucXVlcmllcy5mb3JFYWNoKChpbmZvLCBpZCkgPT4ge1xuICAgICAgaWYgKGluZm8uaW52YWxpZGF0ZWQpIHtcbiAgICAgICAgaW5mby5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgLy8gaXQncyBwb3NzaWJsZSBmb3IgdGhlIGxpc3RlbmVyIHRvIGJlIHVuZGVmaW5lZCBpZiB0aGUgcXVlcnkgaXMgYmVpbmcgc3RvcHBlZFxuICAgICAgICAgIC8vIFNlZSBoZXJlIGZvciBtb3JlIGRldGFpbDogaHR0cHM6Ly9naXRodWIuY29tL2Fwb2xsb3N0YWNrL2Fwb2xsby1jbGllbnQvaXNzdWVzLzIzMVxuICAgICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5xdWVyeVN0b3JlLmdldChpZCksIGluZm8ubmV3RGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2NhbFN0YXRlKCk6IExvY2FsU3RhdGU8VFN0b3JlPiB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxTdGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgaW5GbGlnaHRMaW5rT2JzZXJ2YWJsZXMgPSBuZXcgTWFwPFxuICAgIERvY3VtZW50Tm9kZSxcbiAgICBNYXA8c3RyaW5nLCBPYnNlcnZhYmxlPEZldGNoUmVzdWx0Pj5cbiAgPigpO1xuXG4gIHByaXZhdGUgZ2V0T2JzZXJ2YWJsZUZyb21MaW5rPFQgPSBhbnk+KFxuICAgIHF1ZXJ5OiBEb2N1bWVudE5vZGUsXG4gICAgY29udGV4dDogYW55LFxuICAgIHZhcmlhYmxlcz86IE9wZXJhdGlvblZhcmlhYmxlcyxcbiAgICBkZWR1cGxpY2F0aW9uOiBib29sZWFuID0gdGhpcy5xdWVyeURlZHVwbGljYXRpb24sXG4gICk6IE9ic2VydmFibGU8RmV0Y2hSZXN1bHQ8VD4+IHtcbiAgICBsZXQgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxGZXRjaFJlc3VsdDxUPj47XG5cbiAgICBjb25zdCB7IHNlcnZlclF1ZXJ5IH0gPSB0aGlzLnRyYW5zZm9ybShxdWVyeSk7XG4gICAgaWYgKHNlcnZlclF1ZXJ5KSB7XG4gICAgICBjb25zdCB7IGluRmxpZ2h0TGlua09ic2VydmFibGVzLCBsaW5rIH0gPSB0aGlzO1xuXG4gICAgICBjb25zdCBvcGVyYXRpb24gPSB7XG4gICAgICAgIHF1ZXJ5OiBzZXJ2ZXJRdWVyeSxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBvcGVyYXRpb25OYW1lOiBnZXRPcGVyYXRpb25OYW1lKHNlcnZlclF1ZXJ5KSB8fCB2b2lkIDAsXG4gICAgICAgIGNvbnRleHQ6IHRoaXMucHJlcGFyZUNvbnRleHQoe1xuICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgZm9yY2VGZXRjaDogIWRlZHVwbGljYXRpb25cbiAgICAgICAgfSksXG4gICAgICB9O1xuXG4gICAgICBjb250ZXh0ID0gb3BlcmF0aW9uLmNvbnRleHQ7XG5cbiAgICAgIGlmIChkZWR1cGxpY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJ5VmFyaWFibGVzID0gaW5GbGlnaHRMaW5rT2JzZXJ2YWJsZXMuZ2V0KHNlcnZlclF1ZXJ5KSB8fCBuZXcgTWFwKCk7XG4gICAgICAgIGluRmxpZ2h0TGlua09ic2VydmFibGVzLnNldChzZXJ2ZXJRdWVyeSwgYnlWYXJpYWJsZXMpO1xuXG4gICAgICAgIGNvbnN0IHZhckpzb24gPSBKU09OLnN0cmluZ2lmeSh2YXJpYWJsZXMpO1xuICAgICAgICBvYnNlcnZhYmxlID0gYnlWYXJpYWJsZXMuZ2V0KHZhckpzb24pO1xuXG4gICAgICAgIGlmICghb2JzZXJ2YWJsZSkge1xuICAgICAgICAgIGJ5VmFyaWFibGVzLnNldChcbiAgICAgICAgICAgIHZhckpzb24sXG4gICAgICAgICAgICBvYnNlcnZhYmxlID0gbXVsdGlwbGV4KFxuICAgICAgICAgICAgICBleGVjdXRlKGxpbmssIG9wZXJhdGlvbikgYXMgT2JzZXJ2YWJsZTxGZXRjaFJlc3VsdDxUPj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICAgIGJ5VmFyaWFibGVzLmRlbGV0ZSh2YXJKc29uKTtcbiAgICAgICAgICAgIGlmICghYnlWYXJpYWJsZXMuc2l6ZSkgaW5GbGlnaHRMaW5rT2JzZXJ2YWJsZXMuZGVsZXRlKHNlcnZlclF1ZXJ5KTtcbiAgICAgICAgICAgIGNsZWFudXBTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgY2xlYW51cFN1YiA9IG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6IGNsZWFudXAsXG4gICAgICAgICAgICBlcnJvcjogY2xlYW51cCxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjbGVhbnVwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9ic2VydmFibGUgPSBtdWx0aXBsZXgoZXhlY3V0ZShsaW5rLCBvcGVyYXRpb24pIGFzIE9ic2VydmFibGU8RmV0Y2hSZXN1bHQ8VD4+KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2YWJsZSA9IE9ic2VydmFibGUub2YoeyBkYXRhOiB7fSB9IGFzIEZldGNoUmVzdWx0PFQ+KTtcbiAgICAgIGNvbnRleHQgPSB0aGlzLnByZXBhcmVDb250ZXh0KGNvbnRleHQpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY2xpZW50UXVlcnkgfSA9IHRoaXMudHJhbnNmb3JtKHF1ZXJ5KTtcbiAgICBpZiAoY2xpZW50UXVlcnkpIHtcbiAgICAgIG9ic2VydmFibGUgPSBhc3luY01hcChvYnNlcnZhYmxlLCByZXN1bHQgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFN0YXRlLnJ1blJlc29sdmVycyh7XG4gICAgICAgICAgZG9jdW1lbnQ6IGNsaWVudFF1ZXJ5LFxuICAgICAgICAgIHJlbW90ZVJlc3VsdDogcmVzdWx0LFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICB9XG5cbiAgLy8gVGFrZXMgYSByZXF1ZXN0IGlkLCBxdWVyeSBpZCwgYSBxdWVyeSBkb2N1bWVudCBhbmQgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBxdWVyeVxuICAvLyBhbmQgc2VuZCBpdCB0byB0aGUgbmV0d29yayBpbnRlcmZhY2UuIFJldHVybnNcbiAgLy8gYSBwcm9taXNlIGZvciB0aGUgcmVzdWx0IGFzc29jaWF0ZWQgd2l0aCB0aGF0IHJlcXVlc3QuXG4gIHByaXZhdGUgZmV0Y2hSZXF1ZXN0PFQ+KHtcbiAgICByZXF1ZXN0SWQsXG4gICAgcXVlcnlJZCxcbiAgICBkb2N1bWVudCxcbiAgICBvcHRpb25zLFxuICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQsXG4gIH06IHtcbiAgICByZXF1ZXN0SWQ6IG51bWJlcjtcbiAgICBxdWVyeUlkOiBzdHJpbmc7XG4gICAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZTtcbiAgICBvcHRpb25zOiBXYXRjaFF1ZXJ5T3B0aW9ucztcbiAgICBmZXRjaE1vcmVGb3JRdWVyeUlkPzogc3RyaW5nO1xuICB9KTogUHJvbWlzZTxGZXRjaFJlc3VsdDxUPj4ge1xuICAgIGNvbnN0IHsgdmFyaWFibGVzLCBlcnJvclBvbGljeSA9ICdub25lJywgZmV0Y2hQb2xpY3kgfSA9IG9wdGlvbnM7XG4gICAgbGV0IHJlc3VsdEZyb21TdG9yZTogYW55O1xuICAgIGxldCBlcnJvcnNGcm9tU3RvcmU6IGFueTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxBcG9sbG9RdWVyeVJlc3VsdDxUPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuZ2V0T2JzZXJ2YWJsZUZyb21MaW5rKFxuICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgb3B0aW9ucy5jb250ZXh0LFxuICAgICAgICB2YXJpYWJsZXMsXG4gICAgICApO1xuXG4gICAgICBjb25zdCBmcXJmSWQgPSBgZmV0Y2hSZXF1ZXN0OiR7cXVlcnlJZH1gO1xuICAgICAgdGhpcy5mZXRjaFF1ZXJ5UmVqZWN0Rm5zLnNldChmcXJmSWQsIHJlamVjdCk7XG5cbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmV0Y2hRdWVyeVJlamVjdEZucy5kZWxldGUoZnFyZklkKTtcbiAgICAgICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoeyBzdWJzY3JpcHRpb25zIH0pID0+IHtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLmRlbGV0ZShzdWJzY3JpcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG9ic2VydmFibGUubWFwKChyZXN1bHQ6IEZldGNoUmVzdWx0PFQ+KSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0SWQgPj0gdGhpcy5nZXRRdWVyeShxdWVyeUlkKS5sYXN0UmVxdWVzdElkKSB7XG4gICAgICAgICAgdGhpcy5tYXJrUXVlcnlSZXN1bHQoXG4gICAgICAgICAgICBxdWVyeUlkLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRoaXMucXVlcnlTdG9yZS5tYXJrUXVlcnlSZXN1bHQoXG4gICAgICAgICAgICBxdWVyeUlkLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgZmV0Y2hNb3JlRm9yUXVlcnlJZCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKHF1ZXJ5SWQpO1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZShmZXRjaE1vcmVGb3JRdWVyeUlkKTtcblxuICAgICAgICAgIHRoaXMuYnJvYWRjYXN0UXVlcmllcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yUG9saWN5ID09PSAnbm9uZScgJiYgaXNOb25FbXB0eUFycmF5KHJlc3VsdC5lcnJvcnMpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgQXBvbGxvRXJyb3Ioe1xuICAgICAgICAgICAgZ3JhcGhRTEVycm9yczogcmVzdWx0LmVycm9ycyxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3JQb2xpY3kgPT09ICdhbGwnKSB7XG4gICAgICAgICAgZXJyb3JzRnJvbVN0b3JlID0gcmVzdWx0LmVycm9ycztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmZXRjaE1vcmVGb3JRdWVyeUlkIHx8IGZldGNoUG9saWN5ID09PSAnbm8tY2FjaGUnKSB7XG4gICAgICAgICAgLy8gV2UgZG9uJ3Qgd3JpdGUgZmV0Y2hNb3JlIHJlc3VsdHMgdG8gdGhlIHN0b3JlIGJlY2F1c2UgdGhpcyB3b3VsZCBvdmVyd3JpdGVcbiAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgcmVzdWx0IGluIGNhc2UgYW4gQGNvbm5lY3Rpb24gZGlyZWN0aXZlIGlzIHVzZWQuXG4gICAgICAgICAgcmVzdWx0RnJvbVN0b3JlID0gcmVzdWx0LmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZW5zdXJlIHJlc3VsdCBpcyBjb21iaW5lZCB3aXRoIGRhdGEgYWxyZWFkeSBpbiBzdG9yZVxuICAgICAgICAgIGNvbnN0IHsgcmVzdWx0LCBjb21wbGV0ZSB9ID0gdGhpcy5kYXRhU3RvcmUuZ2V0Q2FjaGUoKS5kaWZmPFQ+KHtcbiAgICAgICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgICAgIHF1ZXJ5OiBkb2N1bWVudCxcbiAgICAgICAgICAgIG9wdGltaXN0aWM6IGZhbHNlLFxuICAgICAgICAgICAgcmV0dXJuUGFydGlhbERhdGE6IHRydWUsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoY29tcGxldGUgfHwgb3B0aW9ucy5yZXR1cm5QYXJ0aWFsRGF0YSkge1xuICAgICAgICAgICAgcmVzdWx0RnJvbVN0b3JlID0gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkuc3Vic2NyaWJlKHtcbiAgICAgICAgZXJyb3IoZXJyb3I6IEFwb2xsb0Vycm9yKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgZGF0YTogcmVzdWx0RnJvbVN0b3JlLFxuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnNGcm9tU3RvcmUsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIG5ldHdvcmtTdGF0dXM6IE5ldHdvcmtTdGF0dXMucmVhZHksXG4gICAgICAgICAgICBzdGFsZTogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoeyBzdWJzY3JpcHRpb25zIH0pID0+IHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRRdWVyeShxdWVyeUlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5xdWVyaWVzLmdldChxdWVyeUlkKSB8fCB7XG4gICAgICAgIGxpc3RlbmVyczogbmV3IFNldDxRdWVyeUxpc3RlbmVyPigpLFxuICAgICAgICBpbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgICAgIGRvY3VtZW50OiBudWxsLFxuICAgICAgICBuZXdEYXRhOiBudWxsLFxuICAgICAgICBsYXN0UmVxdWVzdElkOiAxLFxuICAgICAgICBvYnNlcnZhYmxlUXVlcnk6IG51bGwsXG4gICAgICAgIHN1YnNjcmlwdGlvbnM6IG5ldyBTZXQ8U3Vic2NyaXB0aW9uPigpLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFF1ZXJ5PFQgZXh0ZW5kcyBrZXlvZiBRdWVyeUluZm8+KFxuICAgIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgICB1cGRhdGVyOiAocHJldjogUXVlcnlJbmZvKSA9PiBQaWNrPFF1ZXJ5SW5mbywgVD4gfCB2b2lkLFxuICApIHtcbiAgICBjb25zdCBwcmV2ID0gdGhpcy5nZXRRdWVyeShxdWVyeUlkKTtcbiAgICBjb25zdCBuZXdJbmZvID0geyAuLi5wcmV2LCAuLi51cGRhdGVyKHByZXYpIH07XG4gICAgdGhpcy5xdWVyaWVzLnNldChxdWVyeUlkLCBuZXdJbmZvKTtcbiAgfVxuXG4gIHByaXZhdGUgaW52YWxpZGF0ZShcbiAgICBxdWVyeUlkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgaW52YWxpZGF0ZWQgPSB0cnVlLFxuICApIHtcbiAgICBpZiAocXVlcnlJZCkge1xuICAgICAgdGhpcy5zZXRRdWVyeShxdWVyeUlkLCAoKSA9PiAoeyBpbnZhbGlkYXRlZCB9KSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwcmVwYXJlQ29udGV4dChjb250ZXh0ID0ge30pIHtcbiAgICBjb25zdCBuZXdDb250ZXh0ID0gdGhpcy5sb2NhbFN0YXRlLnByZXBhcmVDb250ZXh0KGNvbnRleHQpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5uZXdDb250ZXh0LFxuICAgICAgY2xpZW50QXdhcmVuZXNzOiB0aGlzLmNsaWVudEF3YXJlbmVzcyxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGNoZWNrSW5GbGlnaHQocXVlcnlJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5U3RvcmUuZ2V0KHF1ZXJ5SWQpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHF1ZXJ5ICYmXG4gICAgICBxdWVyeS5uZXR3b3JrU3RhdHVzICE9PSBOZXR3b3JrU3RhdHVzLnJlYWR5ICYmXG4gICAgICBxdWVyeS5uZXR3b3JrU3RhdHVzICE9PSBOZXR3b3JrU3RhdHVzLmVycm9yXG4gICAgKTtcbiAgfVxuXG4gIC8vIE1hcCBmcm9tIGNsaWVudCBJRCB0byB7IGludGVydmFsLCBvcHRpb25zIH0uXG4gIHByaXZhdGUgcG9sbGluZ0luZm9CeVF1ZXJ5SWQgPSBuZXcgTWFwPHN0cmluZywge1xuICAgIGludGVydmFsOiBudW1iZXI7XG4gICAgdGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgb3B0aW9uczogV2F0Y2hRdWVyeU9wdGlvbnM7XG4gIH0+KCk7XG5cbiAgcHVibGljIHN0YXJ0UG9sbGluZ1F1ZXJ5KFxuICAgIG9wdGlvbnM6IFdhdGNoUXVlcnlPcHRpb25zLFxuICAgIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgICBsaXN0ZW5lcj86IFF1ZXJ5TGlzdGVuZXIsXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBwb2xsSW50ZXJ2YWwgfSA9IG9wdGlvbnM7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwb2xsSW50ZXJ2YWwsXG4gICAgICAnQXR0ZW1wdGVkIHRvIHN0YXJ0IGEgcG9sbGluZyBxdWVyeSB3aXRob3V0IGEgcG9sbGluZyBpbnRlcnZhbC4nLFxuICAgICk7XG5cbiAgICAvLyBEbyBub3QgcG9sbCBpbiBTU1IgbW9kZVxuICAgIGlmICghdGhpcy5zc3JNb2RlKSB7XG4gICAgICBsZXQgaW5mbyA9IHRoaXMucG9sbGluZ0luZm9CeVF1ZXJ5SWQuZ2V0KHF1ZXJ5SWQpITtcbiAgICAgIGlmICghaW5mbykge1xuICAgICAgICB0aGlzLnBvbGxpbmdJbmZvQnlRdWVyeUlkLnNldChxdWVyeUlkLCAoaW5mbyA9IHt9IGFzIGFueSkpO1xuICAgICAgfVxuXG4gICAgICBpbmZvLmludGVydmFsID0gcG9sbEludGVydmFsITtcbiAgICAgIGluZm8ub3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbWF5YmVGZXRjaCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMucG9sbGluZ0luZm9CeVF1ZXJ5SWQuZ2V0KHF1ZXJ5SWQpO1xuICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgIGlmICh0aGlzLmNoZWNrSW5GbGlnaHQocXVlcnlJZCkpIHtcbiAgICAgICAgICAgIHBvbGwoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mZXRjaFF1ZXJ5KHF1ZXJ5SWQsIGluZm8ub3B0aW9ucywgRmV0Y2hUeXBlLnBvbGwpLnRoZW4oXG4gICAgICAgICAgICAgIHBvbGwsXG4gICAgICAgICAgICAgIHBvbGwsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcG9sbCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMucG9sbGluZ0luZm9CeVF1ZXJ5SWQuZ2V0KHF1ZXJ5SWQpO1xuICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChpbmZvLnRpbWVvdXQpO1xuICAgICAgICAgIGluZm8udGltZW91dCA9IHNldFRpbWVvdXQobWF5YmVGZXRjaCwgaW5mby5pbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmFkZFF1ZXJ5TGlzdGVuZXIocXVlcnlJZCwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICBwb2xsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5SWQ7XG4gIH1cblxuICBwdWJsaWMgc3RvcFBvbGxpbmdRdWVyeShxdWVyeUlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBvbGxpbmdJbmZvQnlRdWVyeUlkLmRlbGV0ZShxdWVyeUlkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRXhlY3V0aW9uUmVzdWx0LCBEb2N1bWVudE5vZGUgfSBmcm9tICdncmFwaHFsJztcbmltcG9ydCB7IEFwb2xsb0NhY2hlLCBDYWNoZSwgRGF0YVByb3h5IH0gZnJvbSAnYXBvbGxvLWNhY2hlJztcblxuaW1wb3J0IHsgUXVlcnlTdG9yZVZhbHVlIH0gZnJvbSAnLi4vZGF0YS9xdWVyaWVzJztcbmltcG9ydCB7XG4gIGdldE9wZXJhdGlvbk5hbWUsXG4gIHRyeUZ1bmN0aW9uT3JMb2dFcnJvcixcbiAgZ3JhcGhRTFJlc3VsdEhhc0Vycm9yLFxufSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcbmltcG9ydCB7IE11dGF0aW9uUXVlcnlSZWR1Y2VyIH0gZnJvbSAnLi4vY29yZS90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5V2l0aFVwZGF0ZXIgPSB7XG4gIHVwZGF0ZXI6IE11dGF0aW9uUXVlcnlSZWR1Y2VyPE9iamVjdD47XG4gIHF1ZXJ5OiBRdWVyeVN0b3JlVmFsdWU7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFXcml0ZSB7XG4gIHJvb3RJZDogc3RyaW5nO1xuICByZXN1bHQ6IGFueTtcbiAgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZTtcbiAgb3BlcmF0aW9uTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgdmFyaWFibGVzOiBPYmplY3Q7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhU3RvcmU8VFNlcmlhbGl6ZWQ+IHtcbiAgcHJpdmF0ZSBjYWNoZTogQXBvbGxvQ2FjaGU8VFNlcmlhbGl6ZWQ+O1xuXG4gIGNvbnN0cnVjdG9yKGluaXRpYWxDYWNoZTogQXBvbGxvQ2FjaGU8VFNlcmlhbGl6ZWQ+KSB7XG4gICAgdGhpcy5jYWNoZSA9IGluaXRpYWxDYWNoZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYWNoZSgpOiBBcG9sbG9DYWNoZTxUU2VyaWFsaXplZD4ge1xuICAgIHJldHVybiB0aGlzLmNhY2hlO1xuICB9XG5cbiAgcHVibGljIG1hcmtRdWVyeVJlc3VsdChcbiAgICByZXN1bHQ6IEV4ZWN1dGlvblJlc3VsdCxcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuICAgIHZhcmlhYmxlczogYW55LFxuICAgIGZldGNoTW9yZUZvclF1ZXJ5SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBpZ25vcmVFcnJvcnM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKSB7XG4gICAgbGV0IHdyaXRlV2l0aEVycm9ycyA9ICFncmFwaFFMUmVzdWx0SGFzRXJyb3IocmVzdWx0KTtcbiAgICBpZiAoaWdub3JlRXJyb3JzICYmIGdyYXBoUUxSZXN1bHRIYXNFcnJvcihyZXN1bHQpICYmIHJlc3VsdC5kYXRhKSB7XG4gICAgICB3cml0ZVdpdGhFcnJvcnMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWZldGNoTW9yZUZvclF1ZXJ5SWQgJiYgd3JpdGVXaXRoRXJyb3JzKSB7XG4gICAgICB0aGlzLmNhY2hlLndyaXRlKHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHQuZGF0YSxcbiAgICAgICAgZGF0YUlkOiAnUk9PVF9RVUVSWScsXG4gICAgICAgIHF1ZXJ5OiBkb2N1bWVudCxcbiAgICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZXMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbWFya1N1YnNjcmlwdGlvblJlc3VsdChcbiAgICByZXN1bHQ6IEV4ZWN1dGlvblJlc3VsdCxcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlLFxuICAgIHZhcmlhYmxlczogYW55LFxuICApIHtcbiAgICAvLyB0aGUgc3Vic2NyaXB0aW9uIGludGVyZmFjZSBzaG91bGQgaGFuZGxlIG5vdCBzZW5kaW5nIHVzIHJlc3VsdHMgd2Ugbm8gbG9uZ2VyIHN1YnNjcmliZSB0by5cbiAgICAvLyBYWFggSSBkb24ndCB0aGluayB3ZSBldmVyIHNlbmQgaW4gYW4gb2JqZWN0IHdpdGggZXJyb3JzLCBidXQgd2UgbWlnaHQgaW4gdGhlIGZ1dHVyZS4uLlxuICAgIGlmICghZ3JhcGhRTFJlc3VsdEhhc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgIHRoaXMuY2FjaGUud3JpdGUoe1xuICAgICAgICByZXN1bHQ6IHJlc3VsdC5kYXRhLFxuICAgICAgICBkYXRhSWQ6ICdST09UX1NVQlNDUklQVElPTicsXG4gICAgICAgIHF1ZXJ5OiBkb2N1bWVudCxcbiAgICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZXMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbWFya011dGF0aW9uSW5pdChtdXRhdGlvbjoge1xuICAgIG11dGF0aW9uSWQ6IHN0cmluZztcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlO1xuICAgIHZhcmlhYmxlczogYW55O1xuICAgIHVwZGF0ZVF1ZXJpZXM6IHsgW3F1ZXJ5SWQ6IHN0cmluZ106IFF1ZXJ5V2l0aFVwZGF0ZXIgfTtcbiAgICB1cGRhdGU6ICgocHJveHk6IERhdGFQcm94eSwgbXV0YXRpb25SZXN1bHQ6IE9iamVjdCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gICAgb3B0aW1pc3RpY1Jlc3BvbnNlOiBPYmplY3QgfCBGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIGlmIChtdXRhdGlvbi5vcHRpbWlzdGljUmVzcG9uc2UpIHtcbiAgICAgIGxldCBvcHRpbWlzdGljOiBPYmplY3Q7XG4gICAgICBpZiAodHlwZW9mIG11dGF0aW9uLm9wdGltaXN0aWNSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpbWlzdGljID0gbXV0YXRpb24ub3B0aW1pc3RpY1Jlc3BvbnNlKG11dGF0aW9uLnZhcmlhYmxlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpbWlzdGljID0gbXV0YXRpb24ub3B0aW1pc3RpY1Jlc3BvbnNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhY2hlLnJlY29yZE9wdGltaXN0aWNUcmFuc2FjdGlvbihjID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHRoaXMuY2FjaGU7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBjO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5tYXJrTXV0YXRpb25SZXN1bHQoe1xuICAgICAgICAgICAgbXV0YXRpb25JZDogbXV0YXRpb24ubXV0YXRpb25JZCxcbiAgICAgICAgICAgIHJlc3VsdDogeyBkYXRhOiBvcHRpbWlzdGljIH0sXG4gICAgICAgICAgICBkb2N1bWVudDogbXV0YXRpb24uZG9jdW1lbnQsXG4gICAgICAgICAgICB2YXJpYWJsZXM6IG11dGF0aW9uLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXJpZXM6IG11dGF0aW9uLnVwZGF0ZVF1ZXJpZXMsXG4gICAgICAgICAgICB1cGRhdGU6IG11dGF0aW9uLnVwZGF0ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLmNhY2hlID0gb3JpZztcbiAgICAgICAgfVxuICAgICAgfSwgbXV0YXRpb24ubXV0YXRpb25JZCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG1hcmtNdXRhdGlvblJlc3VsdChtdXRhdGlvbjoge1xuICAgIG11dGF0aW9uSWQ6IHN0cmluZztcbiAgICByZXN1bHQ6IEV4ZWN1dGlvblJlc3VsdDtcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlO1xuICAgIHZhcmlhYmxlczogYW55O1xuICAgIHVwZGF0ZVF1ZXJpZXM6IHsgW3F1ZXJ5SWQ6IHN0cmluZ106IFF1ZXJ5V2l0aFVwZGF0ZXIgfTtcbiAgICB1cGRhdGU6ICgocHJveHk6IERhdGFQcm94eSwgbXV0YXRpb25SZXN1bHQ6IE9iamVjdCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIH0pIHtcbiAgICAvLyBJbmNvcnBvcmF0ZSB0aGUgcmVzdWx0IGZyb20gdGhpcyBtdXRhdGlvbiBpbnRvIHRoZSBzdG9yZVxuICAgIGlmICghZ3JhcGhRTFJlc3VsdEhhc0Vycm9yKG11dGF0aW9uLnJlc3VsdCkpIHtcbiAgICAgIGNvbnN0IGNhY2hlV3JpdGVzOiBDYWNoZS5Xcml0ZU9wdGlvbnNbXSA9IFt7XG4gICAgICAgIHJlc3VsdDogbXV0YXRpb24ucmVzdWx0LmRhdGEsXG4gICAgICAgIGRhdGFJZDogJ1JPT1RfTVVUQVRJT04nLFxuICAgICAgICBxdWVyeTogbXV0YXRpb24uZG9jdW1lbnQsXG4gICAgICAgIHZhcmlhYmxlczogbXV0YXRpb24udmFyaWFibGVzLFxuICAgICAgfV07XG5cbiAgICAgIGNvbnN0IHsgdXBkYXRlUXVlcmllcyB9ID0gbXV0YXRpb247XG4gICAgICBpZiAodXBkYXRlUXVlcmllcykge1xuICAgICAgICBPYmplY3Qua2V5cyh1cGRhdGVRdWVyaWVzKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICBjb25zdCB7IHF1ZXJ5LCB1cGRhdGVyIH0gPSB1cGRhdGVRdWVyaWVzW2lkXTtcblxuICAgICAgICAgIC8vIFJlYWQgdGhlIGN1cnJlbnQgcXVlcnkgcmVzdWx0IGZyb20gdGhlIHN0b3JlLlxuICAgICAgICAgIGNvbnN0IHsgcmVzdWx0OiBjdXJyZW50UXVlcnlSZXN1bHQsIGNvbXBsZXRlIH0gPSB0aGlzLmNhY2hlLmRpZmYoe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LmRvY3VtZW50LFxuICAgICAgICAgICAgdmFyaWFibGVzOiBxdWVyeS52YXJpYWJsZXMsXG4gICAgICAgICAgICByZXR1cm5QYXJ0aWFsRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgIG9wdGltaXN0aWM6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAvLyBSdW4gb3VyIHJlZHVjZXIgdXNpbmcgdGhlIGN1cnJlbnQgcXVlcnkgcmVzdWx0IGFuZCB0aGUgbXV0YXRpb24gcmVzdWx0LlxuICAgICAgICAgICAgY29uc3QgbmV4dFF1ZXJ5UmVzdWx0ID0gdHJ5RnVuY3Rpb25PckxvZ0Vycm9yKCgpID0+XG4gICAgICAgICAgICAgIHVwZGF0ZXIoY3VycmVudFF1ZXJ5UmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgbXV0YXRpb25SZXN1bHQ6IG11dGF0aW9uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBxdWVyeU5hbWU6IGdldE9wZXJhdGlvbk5hbWUocXVlcnkuZG9jdW1lbnQpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBxdWVyeVZhcmlhYmxlczogcXVlcnkudmFyaWFibGVzLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFdyaXRlIHRoZSBtb2RpZmllZCByZXN1bHQgYmFjayBpbnRvIHRoZSBzdG9yZSBpZiB3ZSBnb3QgYSBuZXcgcmVzdWx0LlxuICAgICAgICAgICAgaWYgKG5leHRRdWVyeVJlc3VsdCkge1xuICAgICAgICAgICAgICBjYWNoZVdyaXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICByZXN1bHQ6IG5leHRRdWVyeVJlc3VsdCxcbiAgICAgICAgICAgICAgICBkYXRhSWQ6ICdST09UX1FVRVJZJyxcbiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkuZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBxdWVyeS52YXJpYWJsZXMsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGUucGVyZm9ybVRyYW5zYWN0aW9uKGMgPT4ge1xuICAgICAgICBjYWNoZVdyaXRlcy5mb3JFYWNoKHdyaXRlID0+IGMud3JpdGUod3JpdGUpKTtcblxuICAgICAgICAvLyBJZiB0aGUgbXV0YXRpb24gaGFzIHNvbWUgd3JpdGVzIGFzc29jaWF0ZWQgd2l0aCBpdCB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gYXBwbHkgdGhvc2Ugd3JpdGVzIHRvIHRoZSBzdG9yZSBieSBydW5uaW5nIHRoaXMgcmVkdWNlciBhZ2FpbiB3aXRoIGFcbiAgICAgICAgLy8gd3JpdGUgYWN0aW9uLlxuICAgICAgICBjb25zdCB7IHVwZGF0ZSB9ID0gbXV0YXRpb247XG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICB0cnlGdW5jdGlvbk9yTG9nRXJyb3IoKCkgPT4gdXBkYXRlKGMsIG11dGF0aW9uLnJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbWFya011dGF0aW9uQ29tcGxldGUoe1xuICAgIG11dGF0aW9uSWQsXG4gICAgb3B0aW1pc3RpY1Jlc3BvbnNlLFxuICB9OiB7XG4gICAgbXV0YXRpb25JZDogc3RyaW5nO1xuICAgIG9wdGltaXN0aWNSZXNwb25zZT86IGFueTtcbiAgfSkge1xuICAgIGlmIChvcHRpbWlzdGljUmVzcG9uc2UpIHtcbiAgICAgIHRoaXMuY2FjaGUucmVtb3ZlT3B0aW1pc3RpYyhtdXRhdGlvbklkKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbWFya1VwZGF0ZVF1ZXJ5UmVzdWx0KFxuICAgIGRvY3VtZW50OiBEb2N1bWVudE5vZGUsXG4gICAgdmFyaWFibGVzOiBhbnksXG4gICAgbmV3UmVzdWx0OiBhbnksXG4gICkge1xuICAgIHRoaXMuY2FjaGUud3JpdGUoe1xuICAgICAgcmVzdWx0OiBuZXdSZXN1bHQsXG4gICAgICBkYXRhSWQ6ICdST09UX1FVRVJZJyxcbiAgICAgIHZhcmlhYmxlcyxcbiAgICAgIHF1ZXJ5OiBkb2N1bWVudCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5yZXNldCgpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBBcG9sbG9MaW5rLFxuICBGZXRjaFJlc3VsdCxcbiAgR3JhcGhRTFJlcXVlc3QsXG4gIGV4ZWN1dGUsXG59IGZyb20gJ2Fwb2xsby1saW5rJztcbmltcG9ydCB7IEV4ZWN1dGlvblJlc3VsdCwgRG9jdW1lbnROb2RlIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBBcG9sbG9DYWNoZSwgRGF0YVByb3h5IH0gZnJvbSAnYXBvbGxvLWNhY2hlJztcblxuaW1wb3J0IHsgaW52YXJpYW50LCBJbnZhcmlhbnRFcnJvciB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmltcG9ydCB7IFF1ZXJ5TWFuYWdlciB9IGZyb20gJy4vY29yZS9RdWVyeU1hbmFnZXInO1xuaW1wb3J0IHtcbiAgQXBvbGxvUXVlcnlSZXN1bHQsXG4gIE9wZXJhdGlvblZhcmlhYmxlcyxcbiAgUmVzb2x2ZXJzLFxufSBmcm9tICcuL2NvcmUvdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVF1ZXJ5IH0gZnJvbSAnLi9jb3JlL09ic2VydmFibGVRdWVyeSc7XG5pbXBvcnQgeyBMb2NhbFN0YXRlLCBGcmFnbWVudE1hdGNoZXIgfSBmcm9tICcuL2NvcmUvTG9jYWxTdGF0ZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi91dGlsL09ic2VydmFibGUnO1xuXG5pbXBvcnQge1xuICBRdWVyeU9wdGlvbnMsXG4gIFdhdGNoUXVlcnlPcHRpb25zLFxuICBTdWJzY3JpcHRpb25PcHRpb25zLFxuICBNdXRhdGlvbk9wdGlvbnMsXG4gIFdhdGNoUXVlcnlGZXRjaFBvbGljeSxcbn0gZnJvbSAnLi9jb3JlL3dhdGNoUXVlcnlPcHRpb25zJztcblxuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi9kYXRhL3N0b3JlJztcblxuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdE9wdGlvbnMge1xuICB3YXRjaFF1ZXJ5PzogUGFydGlhbDxXYXRjaFF1ZXJ5T3B0aW9ucz47XG4gIHF1ZXJ5PzogUGFydGlhbDxRdWVyeU9wdGlvbnM+O1xuICBtdXRhdGU/OiBQYXJ0aWFsPE11dGF0aW9uT3B0aW9ucz47XG59XG5cbmxldCBoYXNTdWdnZXN0ZWREZXZ0b29scyA9IGZhbHNlO1xuXG5leHBvcnQgdHlwZSBBcG9sbG9DbGllbnRPcHRpb25zPFRDYWNoZVNoYXBlPiA9IHtcbiAgbGluaz86IEFwb2xsb0xpbms7XG4gIGNhY2hlOiBBcG9sbG9DYWNoZTxUQ2FjaGVTaGFwZT47XG4gIHNzckZvcmNlRmV0Y2hEZWxheT86IG51bWJlcjtcbiAgc3NyTW9kZT86IGJvb2xlYW47XG4gIGNvbm5lY3RUb0RldlRvb2xzPzogYm9vbGVhbjtcbiAgcXVlcnlEZWR1cGxpY2F0aW9uPzogYm9vbGVhbjtcbiAgZGVmYXVsdE9wdGlvbnM/OiBEZWZhdWx0T3B0aW9ucztcbiAgYXNzdW1lSW1tdXRhYmxlUmVzdWx0cz86IGJvb2xlYW47XG4gIHJlc29sdmVycz86IFJlc29sdmVycyB8IFJlc29sdmVyc1tdO1xuICB0eXBlRGVmcz86IHN0cmluZyB8IHN0cmluZ1tdIHwgRG9jdW1lbnROb2RlIHwgRG9jdW1lbnROb2RlW107XG4gIGZyYWdtZW50TWF0Y2hlcj86IEZyYWdtZW50TWF0Y2hlcjtcbiAgbmFtZT86IHN0cmluZztcbiAgdmVyc2lvbj86IHN0cmluZztcbn07XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgcHJpbWFyeSBBcG9sbG8gQ2xpZW50IGNsYXNzLiBJdCBpcyB1c2VkIHRvIHNlbmQgR3JhcGhRTCBkb2N1bWVudHMgKGkuZS4gcXVlcmllc1xuICogYW5kIG11dGF0aW9ucykgdG8gYSBHcmFwaFFMIHNwZWMtY29tcGxpYW50IHNlcnZlciBvdmVyIGEge0BsaW5rIE5ldHdvcmtJbnRlcmZhY2V9IGluc3RhbmNlLFxuICogcmVjZWl2ZSByZXN1bHRzIGZyb20gdGhlIHNlcnZlciBhbmQgY2FjaGUgdGhlIHJlc3VsdHMgaW4gYSBzdG9yZS4gSXQgYWxzbyBkZWxpdmVycyB1cGRhdGVzXG4gKiB0byBHcmFwaFFMIHF1ZXJpZXMgdGhyb3VnaCB7QGxpbmsgT2JzZXJ2YWJsZX0gaW5zdGFuY2VzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcG9sbG9DbGllbnQ8VENhY2hlU2hhcGU+IGltcGxlbWVudHMgRGF0YVByb3h5IHtcbiAgcHVibGljIGxpbms6IEFwb2xsb0xpbms7XG4gIHB1YmxpYyBzdG9yZTogRGF0YVN0b3JlPFRDYWNoZVNoYXBlPjtcbiAgcHVibGljIGNhY2hlOiBBcG9sbG9DYWNoZTxUQ2FjaGVTaGFwZT47XG4gIHB1YmxpYyByZWFkb25seSBxdWVyeU1hbmFnZXI6IFF1ZXJ5TWFuYWdlcjxUQ2FjaGVTaGFwZT47XG4gIHB1YmxpYyBkaXNhYmxlTmV0d29ya0ZldGNoZXM6IGJvb2xlYW47XG4gIHB1YmxpYyB2ZXJzaW9uOiBzdHJpbmc7XG4gIHB1YmxpYyBxdWVyeURlZHVwbGljYXRpb246IGJvb2xlYW47XG4gIHB1YmxpYyBkZWZhdWx0T3B0aW9uczogRGVmYXVsdE9wdGlvbnMgPSB7fTtcbiAgcHVibGljIHJlYWRvbmx5IHR5cGVEZWZzOiBBcG9sbG9DbGllbnRPcHRpb25zPFRDYWNoZVNoYXBlPlsndHlwZURlZnMnXTtcblxuICBwcml2YXRlIGRldlRvb2xzSG9va0NiOiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSByZXNldFN0b3JlQ2FsbGJhY2tzOiBBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+ID0gW107XG4gIHByaXZhdGUgY2xlYXJTdG9yZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+PiA9IFtdO1xuICBwcml2YXRlIGxvY2FsU3RhdGU6IExvY2FsU3RhdGU8VENhY2hlU2hhcGU+O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGFuIGluc3RhbmNlIG9mIHtAbGluayBBcG9sbG9DbGllbnR9LlxuICAgKlxuICAgKiBAcGFyYW0gbGluayBUaGUge0BsaW5rIEFwb2xsb0xpbmt9IG92ZXIgd2hpY2ggR3JhcGhRTCBkb2N1bWVudHMgd2lsbCBiZSByZXNvbHZlZCBpbnRvIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSBjYWNoZSBUaGUgaW5pdGlhbCBjYWNoZSB0byB1c2UgaW4gdGhlIGRhdGEgc3RvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBzc3JNb2RlIERldGVybWluZXMgd2hldGhlciB0aGlzIGlzIGJlaW5nIHJ1biBpbiBTZXJ2ZXIgU2lkZSBSZW5kZXJpbmcgKFNTUikgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHNzckZvcmNlRmV0Y2hEZWxheSBEZXRlcm1pbmVzIHRoZSB0aW1lIGludGVydmFsIGJlZm9yZSB3ZSBmb3JjZSBmZXRjaCBxdWVyaWVzIGZvciBhXG4gICAqIHNlcnZlciBzaWRlIHJlbmRlci5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5RGVkdXBsaWNhdGlvbiBJZiBzZXQgdG8gZmFsc2UsIGEgcXVlcnkgd2lsbCBzdGlsbCBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIgZXZlbiBpZiBhIHF1ZXJ5XG4gICAqIHdpdGggaWRlbnRpY2FsIHBhcmFtZXRlcnMgKHF1ZXJ5LCB2YXJpYWJsZXMsIG9wZXJhdGlvbk5hbWUpIGlzIGFscmVhZHkgaW4gZmxpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0gZGVmYXVsdE9wdGlvbnMgVXNlZCB0byBzZXQgYXBwbGljYXRpb24gd2lkZSBkZWZhdWx0cyBmb3IgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zIHN1cHBsaWVkIHRvIGB3YXRjaFF1ZXJ5YCwgYHF1ZXJ5YCwgb3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGBtdXRhdGVgLlxuICAgKlxuICAgKiBAcGFyYW0gYXNzdW1lSW1tdXRhYmxlUmVzdWx0cyBXaGVuIHRoaXMgb3B0aW9uIGlzIHRydWUsIHRoZSBjbGllbnQgd2lsbCBhc3N1bWUgcmVzdWx0c1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkIGZyb20gdGhlIGNhY2hlIGFyZSBuZXZlciBtdXRhdGVkIGJ5IGFwcGxpY2F0aW9uIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWNoIGVuYWJsZXMgc3Vic3RhbnRpYWwgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9ucy4gUGFzc2luZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgeyBmcmVlemVSZXN1bHRzOiB0cnVlIH1gIHRvIHRoZSBgSW5NZW1vcnlDYWNoZWAgY29uc3RydWN0b3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGhlbHAgZW5mb3JjZSB0aGlzIGltbXV0YWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgQSBjdXN0b20gbmFtZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgY2xpZW50LCB3aGVuXG4gICAqICAgICAgICAgICAgIHVzaW5nIEFwb2xsbyBjbGllbnQgYXdhcmVuZXNzIGZlYXR1cmVzLiBFLmcuIFwiaU9TXCIuXG4gICAqXG4gICAqIEBwYXJhbSB2ZXJzaW9uIEEgY3VzdG9tIHZlcnNpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSB0aGlzIGNsaWVudCxcbiAgICogICAgICAgICAgICAgICAgd2hlbiB1c2luZyBBcG9sbG8gY2xpZW50IGF3YXJlbmVzcyBmZWF0dXJlcy4gVGhpcyBpcyB0aGVcbiAgICogICAgICAgICAgICAgICAgdmVyc2lvbiBvZiB5b3VyIGNsaWVudCwgd2hpY2ggeW91IG1heSB3YW50IHRvIGluY3JlbWVudCBvblxuICAgKiAgICAgICAgICAgICAgICBuZXcgYnVpbGRzLiBUaGlzIGlzIE5PVCB0aGUgdmVyc2lvbiBvZiBBcG9sbG8gQ2xpZW50IHRoYXRcbiAgICogICAgICAgICAgICAgICAgeW91IGFyZSB1c2luZy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEFwb2xsb0NsaWVudE9wdGlvbnM8VENhY2hlU2hhcGU+KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2FjaGUsXG4gICAgICBzc3JNb2RlID0gZmFsc2UsXG4gICAgICBzc3JGb3JjZUZldGNoRGVsYXkgPSAwLFxuICAgICAgY29ubmVjdFRvRGV2VG9vbHMsXG4gICAgICBxdWVyeURlZHVwbGljYXRpb24gPSB0cnVlLFxuICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICBhc3N1bWVJbW11dGFibGVSZXN1bHRzID0gZmFsc2UsXG4gICAgICByZXNvbHZlcnMsXG4gICAgICB0eXBlRGVmcyxcbiAgICAgIGZyYWdtZW50TWF0Y2hlcixcbiAgICAgIG5hbWU6IGNsaWVudEF3YXJlbmVzc05hbWUsXG4gICAgICB2ZXJzaW9uOiBjbGllbnRBd2FyZW5lc3NWZXJzaW9uLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgbGV0IHsgbGluayB9ID0gb3B0aW9ucztcblxuICAgIC8vIElmIGEgbGluayBoYXNuJ3QgYmVlbiBkZWZpbmVkLCBidXQgbG9jYWwgc3RhdGUgcmVzb2x2ZXJzIGhhdmUgYmVlbiBzZXQsXG4gICAgLy8gc2V0dXAgYSBkZWZhdWx0IGVtcHR5IGxpbmsuXG4gICAgaWYgKCFsaW5rICYmIHJlc29sdmVycykge1xuICAgICAgbGluayA9IEFwb2xsb0xpbmsuZW1wdHkoKTtcbiAgICB9XG5cbiAgICBpZiAoIWxpbmsgfHwgIWNhY2hlKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoXG4gICAgICAgIFwiSW4gb3JkZXIgdG8gaW5pdGlhbGl6ZSBBcG9sbG8gQ2xpZW50LCB5b3UgbXVzdCBzcGVjaWZ5ICdsaW5rJyBhbmQgJ2NhY2hlJyBwcm9wZXJ0aWVzIGluIHRoZSBvcHRpb25zIG9iamVjdC5cXG5cIiArXG4gICAgICAgIFwiVGhlc2Ugb3B0aW9ucyBhcmUgcGFydCBvZiB0aGUgdXBncmFkZSByZXF1aXJlbWVudHMgd2hlbiBtaWdyYXRpbmcgZnJvbSBBcG9sbG8gQ2xpZW50IDEueCB0byBBcG9sbG8gQ2xpZW50IDIueC5cXG5cIiArXG4gICAgICAgIFwiRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSB2aXNpdDogaHR0cHM6Ly93d3cuYXBvbGxvZ3JhcGhxbC5jb20vZG9jcy90dXRvcmlhbC9jbGllbnQuaHRtbCNhcG9sbG8tY2xpZW50LXNldHVwXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFwb2xsby1jbGllbnQgc3VwcG9ydGVkIGRpcmVjdGl2ZXNcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcbiAgICB0aGlzLnN0b3JlID0gbmV3IERhdGFTdG9yZShjYWNoZSk7XG4gICAgdGhpcy5kaXNhYmxlTmV0d29ya0ZldGNoZXMgPSBzc3JNb2RlIHx8IHNzckZvcmNlRmV0Y2hEZWxheSA+IDA7XG4gICAgdGhpcy5xdWVyeURlZHVwbGljYXRpb24gPSBxdWVyeURlZHVwbGljYXRpb247XG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zIHx8IHt9O1xuICAgIHRoaXMudHlwZURlZnMgPSB0eXBlRGVmcztcblxuICAgIGlmIChzc3JGb3JjZUZldGNoRGVsYXkpIHtcbiAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+ICh0aGlzLmRpc2FibGVOZXR3b3JrRmV0Y2hlcyA9IGZhbHNlKSxcbiAgICAgICAgc3NyRm9yY2VGZXRjaERlbGF5LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLndhdGNoUXVlcnkgPSB0aGlzLndhdGNoUXVlcnkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5xdWVyeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubXV0YXRlID0gdGhpcy5tdXRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0U3RvcmUgPSB0aGlzLnJlc2V0U3RvcmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlRmV0Y2hPYnNlcnZhYmxlUXVlcmllcyA9IHRoaXMucmVGZXRjaE9ic2VydmFibGVRdWVyaWVzLmJpbmQodGhpcyk7XG5cbiAgICAvLyBBdHRhY2ggdGhlIGNsaWVudCBpbnN0YW5jZSB0byB3aW5kb3cgdG8gbGV0IHVzIGJlIGZvdW5kIGJ5IGNocm9tZSBkZXZ0b29scywgYnV0IG9ubHkgaW5cbiAgICAvLyBkZXZlbG9wbWVudCBtb2RlXG4gICAgY29uc3QgZGVmYXVsdENvbm5lY3RUb0RldlRvb2xzID1cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAhKHdpbmRvdyBhcyBhbnkpLl9fQVBPTExPX0NMSUVOVF9fO1xuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbm5lY3RUb0RldlRvb2xzID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGRlZmF1bHRDb25uZWN0VG9EZXZUb29sc1xuICAgICAgICA6IGNvbm5lY3RUb0RldlRvb2xzICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICAod2luZG93IGFzIGFueSkuX19BUE9MTE9fQ0xJRU5UX18gPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1Z2dlc3QgaW5zdGFsbGluZyB0aGUgZGV2dG9vbHMgZm9yIGRldmVsb3BlcnMgd2hvIGRvbid0IGhhdmUgdGhlbVxuICAgICAqL1xuICAgIGlmICghaGFzU3VnZ2VzdGVkRGV2dG9vbHMgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaGFzU3VnZ2VzdGVkRGV2dG9vbHMgPSB0cnVlO1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgICAgICAgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGZcbiAgICAgICkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiBkZXZ0b29scyBpcyBub3QgaW5zdGFsbGVkXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLl9fQVBPTExPX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIE9ubHkgZm9yIENocm9tZVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50ICYmXG4gICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXG4gICAgICAgICAgICAgICdEb3dubG9hZCB0aGUgQXBvbGxvIERldlRvb2xzICcgK1xuICAgICAgICAgICAgICAgICdmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogJyArXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL2Fwb2xsby1jbGllbnQtZGV2ZWxvcGVyLXQvamRra25ra2JlYmJhcGlsZ29lY2NjaWdsa2ZibWJuZm0nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG4gICAgdGhpcy5sb2NhbFN0YXRlID0gbmV3IExvY2FsU3RhdGUoe1xuICAgICAgY2FjaGUsXG4gICAgICBjbGllbnQ6IHRoaXMsXG4gICAgICByZXNvbHZlcnMsXG4gICAgICBmcmFnbWVudE1hdGNoZXIsXG4gICAgfSk7XG5cbiAgICB0aGlzLnF1ZXJ5TWFuYWdlciA9IG5ldyBRdWVyeU1hbmFnZXIoe1xuICAgICAgbGluazogdGhpcy5saW5rLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmUsXG4gICAgICBxdWVyeURlZHVwbGljYXRpb24sXG4gICAgICBzc3JNb2RlLFxuICAgICAgY2xpZW50QXdhcmVuZXNzOiB7XG4gICAgICAgIG5hbWU6IGNsaWVudEF3YXJlbmVzc05hbWUhLFxuICAgICAgICB2ZXJzaW9uOiBjbGllbnRBd2FyZW5lc3NWZXJzaW9uISxcbiAgICAgIH0sXG4gICAgICBsb2NhbFN0YXRlOiB0aGlzLmxvY2FsU3RhdGUsXG4gICAgICBhc3N1bWVJbW11dGFibGVSZXN1bHRzLFxuICAgICAgb25Ccm9hZGNhc3Q6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZGV2VG9vbHNIb29rQ2IpIHtcbiAgICAgICAgICB0aGlzLmRldlRvb2xzSG9va0NiKHtcbiAgICAgICAgICAgIGFjdGlvbjoge30sXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICBxdWVyaWVzOiB0aGlzLnF1ZXJ5TWFuYWdlci5xdWVyeVN0b3JlLmdldFN0b3JlKCksXG4gICAgICAgICAgICAgIG11dGF0aW9uczogdGhpcy5xdWVyeU1hbmFnZXIubXV0YXRpb25TdG9yZS5nZXRTdG9yZSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFXaXRoT3B0aW1pc3RpY1Jlc3VsdHM6IHRoaXMuY2FjaGUuZXh0cmFjdCh0cnVlKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIHRlcm1pbmF0ZSBhbnkgYWN0aXZlIGNsaWVudCBwcm9jZXNzZXMsIG1ha2luZyBpdCBzYWZlXG4gICAqIHRvIGRpc3Bvc2Ugb2YgdGhpcyBgQXBvbGxvQ2xpZW50YCBpbnN0YW5jZS5cbiAgICovXG4gIHB1YmxpYyBzdG9wKCkge1xuICAgIHRoaXMucXVlcnlNYW5hZ2VyLnN0b3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHdhdGNoZXMgdGhlIGNhY2hlIHN0b3JlIG9mIHRoZSBxdWVyeSBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnMgc3BlY2lmaWVkIGFuZFxuICAgKiByZXR1cm5zIGFuIHtAbGluayBPYnNlcnZhYmxlUXVlcnl9LiBXZSBjYW4gc3Vic2NyaWJlIHRvIHRoaXMge0BsaW5rIE9ic2VydmFibGVRdWVyeX0gYW5kXG4gICAqIHJlY2VpdmUgdXBkYXRlZCByZXN1bHRzIHRocm91Z2ggYSBHcmFwaFFMIG9ic2VydmVyIHdoZW4gdGhlIGNhY2hlIHN0b3JlIGNoYW5nZXMuXG4gICAqIDxwIC8+PHAgLz5cbiAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCBhbiBpbXBsZW1lbnRhdGlvbiBvZiBHcmFwaFFMIHN1YnNjcmlwdGlvbnMuIFJhdGhlcixcbiAgICogaXQgdXNlcyBBcG9sbG8ncyBzdG9yZSBpbiBvcmRlciB0byByZWFjdGl2ZWx5IGRlbGl2ZXIgdXBkYXRlcyB0byB5b3VyIHF1ZXJ5IHJlc3VsdHMuXG4gICAqIDxwIC8+PHAgLz5cbiAgICogRm9yIGV4YW1wbGUsIHN1cHBvc2UgeW91IGNhbGwgd2F0Y2hRdWVyeSBvbiBhIEdyYXBoUUwgcXVlcnkgdGhhdCBmZXRjaGVzIGEgcGVyc29uJ3NcbiAgICogZmlyc3QgYW5kIGxhc3QgbmFtZSBhbmQgdGhpcyBwZXJzb24gaGFzIGEgcGFydGljdWxhciBvYmplY3QgaWRlbnRpZmVyLCBwcm92aWRlZCBieVxuICAgKiBkYXRhSWRGcm9tT2JqZWN0LiBMYXRlciwgYSBkaWZmZXJlbnQgcXVlcnkgZmV0Y2hlcyB0aGF0IHNhbWUgcGVyc29uJ3NcbiAgICogZmlyc3QgYW5kIGxhc3QgbmFtZSBhbmQgdGhlIGZpcnN0IG5hbWUgaGFzIG5vdyBjaGFuZ2VkLiBUaGVuLCBhbnkgb2JzZXJ2ZXJzIGFzc29jaWF0ZWRcbiAgICogd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgZmlyc3QgcXVlcnkgd2lsbCBiZSB1cGRhdGVkIHdpdGggYSBuZXcgcmVzdWx0IG9iamVjdC5cbiAgICogPHAgLz48cCAvPlxuICAgKiBOb3RlIHRoYXQgaWYgdGhlIGNhY2hlIGRvZXMgbm90IGNoYW5nZSwgdGhlIHN1YnNjcmliZXIgd2lsbCAqbm90KiBiZSBub3RpZmllZC5cbiAgICogPHAgLz48cCAvPlxuICAgKiBTZWUgW2hlcmVdKGh0dHBzOi8vbWVkaXVtLmNvbS9hcG9sbG8tc3RhY2svdGhlLWNvbmNlcHRzLW9mLWdyYXBocWwtYmM2OGJkODE5YmUzIy4zbWIwY2JjbWMpIGZvclxuICAgKiBhIGRlc2NyaXB0aW9uIG9mIHN0b3JlIHJlYWN0aXZpdHkuXG4gICAqL1xuICBwdWJsaWMgd2F0Y2hRdWVyeTxUID0gYW55LCBUVmFyaWFibGVzID0gT3BlcmF0aW9uVmFyaWFibGVzPihcbiAgICBvcHRpb25zOiBXYXRjaFF1ZXJ5T3B0aW9uczxUVmFyaWFibGVzPixcbiAgKTogT2JzZXJ2YWJsZVF1ZXJ5PFQsIFRWYXJpYWJsZXM+IHtcbiAgICBpZiAodGhpcy5kZWZhdWx0T3B0aW9ucy53YXRjaFF1ZXJ5KSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICAuLi50aGlzLmRlZmF1bHRPcHRpb25zLndhdGNoUXVlcnksXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9IGFzIFdhdGNoUXVlcnlPcHRpb25zPFRWYXJpYWJsZXM+O1xuICAgIH1cblxuICAgIC8vIFhYWCBPdmVyd3JpdGluZyBvcHRpb25zIGlzIHByb2JhYmx5IG5vdCB0aGUgYmVzdCB3YXkgdG8gZG8gdGhpcyBsb25nIHRlcm0uLi5cbiAgICBpZiAoXG4gICAgICB0aGlzLmRpc2FibGVOZXR3b3JrRmV0Y2hlcyAmJlxuICAgICAgKG9wdGlvbnMuZmV0Y2hQb2xpY3kgPT09ICduZXR3b3JrLW9ubHknIHx8XG4gICAgICAgIG9wdGlvbnMuZmV0Y2hQb2xpY3kgPT09ICdjYWNoZS1hbmQtbmV0d29yaycpXG4gICAgKSB7XG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCBmZXRjaFBvbGljeTogJ2NhY2hlLWZpcnN0JyB9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnF1ZXJ5TWFuYWdlci53YXRjaFF1ZXJ5PFQsIFRWYXJpYWJsZXM+KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgcmVzb2x2ZXMgYSBzaW5nbGUgcXVlcnkgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zIHNwZWNpZmllZCBhbmRcbiAgICogcmV0dXJucyBhIHtAbGluayBQcm9taXNlfSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICogb3IgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IG9mIHR5cGUge0BsaW5rIFF1ZXJ5T3B0aW9uc30gdGhhdCBhbGxvd3MgdXMgdG9cbiAgICogZGVzY3JpYmUgaG93IHRoaXMgcXVlcnkgc2hvdWxkIGJlIHRyZWF0ZWQgZS5nLiB3aGV0aGVyIGl0IHNob3VsZCBoaXQgdGhlXG4gICAqIHNlcnZlciBhdCBhbGwgb3IganVzdCByZXNvbHZlIGZyb20gdGhlIGNhY2hlLCBldGMuXG4gICAqL1xuICBwdWJsaWMgcXVlcnk8VCA9IGFueSwgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlcz4oXG4gICAgb3B0aW9uczogUXVlcnlPcHRpb25zPFRWYXJpYWJsZXM+LFxuICApOiBQcm9taXNlPEFwb2xsb1F1ZXJ5UmVzdWx0PFQ+PiB7XG4gICAgaWYgKHRoaXMuZGVmYXVsdE9wdGlvbnMucXVlcnkpIHtcbiAgICAgIG9wdGlvbnMgPSB7IC4uLnRoaXMuZGVmYXVsdE9wdGlvbnMucXVlcnksIC4uLm9wdGlvbnMgfSBhcyBRdWVyeU9wdGlvbnM8XG4gICAgICAgIFRWYXJpYWJsZXNcbiAgICAgID47XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgKG9wdGlvbnMuZmV0Y2hQb2xpY3kgYXMgV2F0Y2hRdWVyeUZldGNoUG9saWN5KSAhPT0gJ2NhY2hlLWFuZC1uZXR3b3JrJyxcbiAgICAgICdUaGUgY2FjaGUtYW5kLW5ldHdvcmsgZmV0Y2hQb2xpY3kgZG9lcyBub3Qgd29yayB3aXRoIGNsaWVudC5xdWVyeSwgYmVjYXVzZSAnICtcbiAgICAgICdjbGllbnQucXVlcnkgY2FuIG9ubHkgcmV0dXJuIGEgc2luZ2xlIHJlc3VsdC4gUGxlYXNlIHVzZSBjbGllbnQud2F0Y2hRdWVyeSAnICtcbiAgICAgICd0byByZWNlaXZlIG11bHRpcGxlIHJlc3VsdHMgZnJvbSB0aGUgY2FjaGUgYW5kIHRoZSBuZXR3b3JrLCBvciBjb25zaWRlciAnICtcbiAgICAgICd1c2luZyBhIGRpZmZlcmVudCBmZXRjaFBvbGljeSwgc3VjaCBhcyBjYWNoZS1maXJzdCBvciBuZXR3b3JrLW9ubHkuJ1xuICAgICk7XG5cbiAgICBpZiAodGhpcy5kaXNhYmxlTmV0d29ya0ZldGNoZXMgJiYgb3B0aW9ucy5mZXRjaFBvbGljeSA9PT0gJ25ldHdvcmstb25seScpIHtcbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIGZldGNoUG9saWN5OiAnY2FjaGUtZmlyc3QnIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucXVlcnlNYW5hZ2VyLnF1ZXJ5PFQ+KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgcmVzb2x2ZXMgYSBzaW5nbGUgbXV0YXRpb24gYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zIHNwZWNpZmllZCBhbmQgcmV0dXJucyBhXG4gICAqIHtAbGluayBQcm9taXNlfSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0aW5nIGRhdGEgb3IgcmVqZWN0ZWQgd2l0aCBhblxuICAgKiBlcnJvci5cbiAgICpcbiAgICogSXQgdGFrZXMgb3B0aW9ucyBhcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXMgYW5kIHZhbHVlczpcbiAgICovXG4gIHB1YmxpYyBtdXRhdGU8VCA9IGFueSwgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlcz4oXG4gICAgb3B0aW9uczogTXV0YXRpb25PcHRpb25zPFQsIFRWYXJpYWJsZXM+LFxuICApOiBQcm9taXNlPEZldGNoUmVzdWx0PFQ+PiB7XG4gICAgaWYgKHRoaXMuZGVmYXVsdE9wdGlvbnMubXV0YXRlKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICAuLi50aGlzLmRlZmF1bHRPcHRpb25zLm11dGF0ZSxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH0gYXMgTXV0YXRpb25PcHRpb25zPFQsIFRWYXJpYWJsZXM+O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnF1ZXJ5TWFuYWdlci5tdXRhdGU8VD4ob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBzdWJzY3JpYmVzIHRvIGEgZ3JhcGhxbCBzdWJzY3JpcHRpb24gYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zIHNwZWNpZmllZCBhbmQgcmV0dXJucyBhblxuICAgKiB7QGxpbmsgT2JzZXJ2YWJsZX0gd2hpY2ggZWl0aGVyIGVtaXRzIHJlY2VpdmVkIGRhdGEgb3IgYW4gZXJyb3IuXG4gICAqL1xuICBwdWJsaWMgc3Vic2NyaWJlPFQgPSBhbnksIFRWYXJpYWJsZXMgPSBPcGVyYXRpb25WYXJpYWJsZXM+KFxuICAgIG9wdGlvbnM6IFN1YnNjcmlwdGlvbk9wdGlvbnM8VFZhcmlhYmxlcz4sXG4gICk6IE9ic2VydmFibGU8RmV0Y2hSZXN1bHQ8VD4+IHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeU1hbmFnZXIuc3RhcnRHcmFwaFFMU3Vic2NyaXB0aW9uPFQ+KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIHJlYWQgc29tZSBkYXRhIGZyb20gdGhlIHN0b3JlIGluIHRoZSBzaGFwZSBvZiB0aGUgcHJvdmlkZWRcbiAgICogR3JhcGhRTCBxdWVyeSB3aXRob3V0IG1ha2luZyBhIG5ldHdvcmsgcmVxdWVzdC4gVGhpcyBtZXRob2Qgd2lsbCBzdGFydCBhdFxuICAgKiB0aGUgcm9vdCBxdWVyeS4gVG8gc3RhcnQgYXQgYSBzcGVjaWZpYyBpZCByZXR1cm5lZCBieSBgZGF0YUlkRnJvbU9iamVjdGBcbiAgICogdXNlIGByZWFkRnJhZ21lbnRgLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW1pc3RpYyBTZXQgdG8gYHRydWVgIHRvIGFsbG93IGByZWFkUXVlcnlgIHRvIHJldHVyblxuICAgKiBvcHRpbWlzdGljIHJlc3VsdHMuIElzIGBmYWxzZWAgYnkgZGVmYXVsdC5cbiAgICovXG4gIHB1YmxpYyByZWFkUXVlcnk8VCA9IGFueSwgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlcz4oXG4gICAgb3B0aW9uczogRGF0YVByb3h5LlF1ZXJ5PFRWYXJpYWJsZXM+LFxuICAgIG9wdGltaXN0aWM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogVCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLnJlYWRRdWVyeTxULCBUVmFyaWFibGVzPihvcHRpb25zLCBvcHRpbWlzdGljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmllcyB0byByZWFkIHNvbWUgZGF0YSBmcm9tIHRoZSBzdG9yZSBpbiB0aGUgc2hhcGUgb2YgdGhlIHByb3ZpZGVkXG4gICAqIEdyYXBoUUwgZnJhZ21lbnQgd2l0aG91dCBtYWtpbmcgYSBuZXR3b3JrIHJlcXVlc3QuIFRoaXMgbWV0aG9kIHdpbGwgcmVhZCBhXG4gICAqIEdyYXBoUUwgZnJhZ21lbnQgZnJvbSBhbnkgYXJiaXRyYXJ5IGlkIHRoYXQgaXMgY3VycmVudGx5IGNhY2hlZCwgdW5saWtlXG4gICAqIGByZWFkUXVlcnlgIHdoaWNoIHdpbGwgb25seSByZWFkIGZyb20gdGhlIHJvb3QgcXVlcnkuXG4gICAqXG4gICAqIFlvdSBtdXN0IHBhc3MgaW4gYSBHcmFwaFFMIGRvY3VtZW50IHdpdGggYSBzaW5nbGUgZnJhZ21lbnQgb3IgYSBkb2N1bWVudFxuICAgKiB3aXRoIG11bHRpcGxlIGZyYWdtZW50cyB0aGF0IHJlcHJlc2VudCB3aGF0IHlvdSBhcmUgcmVhZGluZy4gSWYgeW91IHBhc3NcbiAgICogaW4gYSBkb2N1bWVudCB3aXRoIG11bHRpcGxlIGZyYWdtZW50cyB0aGVuIHlvdSBtdXN0IGFsc28gc3BlY2lmeSBhXG4gICAqIGBmcmFnbWVudE5hbWVgLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW1pc3RpYyBTZXQgdG8gYHRydWVgIHRvIGFsbG93IGByZWFkRnJhZ21lbnRgIHRvIHJldHVyblxuICAgKiBvcHRpbWlzdGljIHJlc3VsdHMuIElzIGBmYWxzZWAgYnkgZGVmYXVsdC5cbiAgICovXG4gIHB1YmxpYyByZWFkRnJhZ21lbnQ8VCA9IGFueSwgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlcz4oXG4gICAgb3B0aW9uczogRGF0YVByb3h5LkZyYWdtZW50PFRWYXJpYWJsZXM+LFxuICAgIG9wdGltaXN0aWM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogVCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLnJlYWRGcmFnbWVudDxULCBUVmFyaWFibGVzPihvcHRpb25zLCBvcHRpbWlzdGljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgc29tZSBkYXRhIGluIHRoZSBzaGFwZSBvZiB0aGUgcHJvdmlkZWQgR3JhcGhRTCBxdWVyeSBkaXJlY3RseSB0b1xuICAgKiB0aGUgc3RvcmUuIFRoaXMgbWV0aG9kIHdpbGwgc3RhcnQgYXQgdGhlIHJvb3QgcXVlcnkuIFRvIHN0YXJ0IGF0IGFcbiAgICogc3BlY2lmaWMgaWQgcmV0dXJuZWQgYnkgYGRhdGFJZEZyb21PYmplY3RgIHRoZW4gdXNlIGB3cml0ZUZyYWdtZW50YC5cbiAgICovXG4gIHB1YmxpYyB3cml0ZVF1ZXJ5PFREYXRhID0gYW55LCBUVmFyaWFibGVzID0gT3BlcmF0aW9uVmFyaWFibGVzPihcbiAgICBvcHRpb25zOiBEYXRhUHJveHkuV3JpdGVRdWVyeU9wdGlvbnM8VERhdGEsIFRWYXJpYWJsZXM+LFxuICApOiB2b2lkIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNhY2hlLndyaXRlUXVlcnk8VERhdGEsIFRWYXJpYWJsZXM+KG9wdGlvbnMpO1xuICAgIHRoaXMucXVlcnlNYW5hZ2VyLmJyb2FkY2FzdFF1ZXJpZXMoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyBzb21lIGRhdGEgaW4gdGhlIHNoYXBlIG9mIHRoZSBwcm92aWRlZCBHcmFwaFFMIGZyYWdtZW50IGRpcmVjdGx5IHRvXG4gICAqIHRoZSBzdG9yZS4gVGhpcyBtZXRob2Qgd2lsbCB3cml0ZSB0byBhIEdyYXBoUUwgZnJhZ21lbnQgZnJvbSBhbnkgYXJiaXRyYXJ5XG4gICAqIGlkIHRoYXQgaXMgY3VycmVudGx5IGNhY2hlZCwgdW5saWtlIGB3cml0ZVF1ZXJ5YCB3aGljaCB3aWxsIG9ubHkgd3JpdGVcbiAgICogZnJvbSB0aGUgcm9vdCBxdWVyeS5cbiAgICpcbiAgICogWW91IG11c3QgcGFzcyBpbiBhIEdyYXBoUUwgZG9jdW1lbnQgd2l0aCBhIHNpbmdsZSBmcmFnbWVudCBvciBhIGRvY3VtZW50XG4gICAqIHdpdGggbXVsdGlwbGUgZnJhZ21lbnRzIHRoYXQgcmVwcmVzZW50IHdoYXQgeW91IGFyZSB3cml0aW5nLiBJZiB5b3UgcGFzc1xuICAgKiBpbiBhIGRvY3VtZW50IHdpdGggbXVsdGlwbGUgZnJhZ21lbnRzIHRoZW4geW91IG11c3QgYWxzbyBzcGVjaWZ5IGFcbiAgICogYGZyYWdtZW50TmFtZWAuXG4gICAqL1xuICBwdWJsaWMgd3JpdGVGcmFnbWVudDxURGF0YSA9IGFueSwgVFZhcmlhYmxlcyA9IE9wZXJhdGlvblZhcmlhYmxlcz4oXG4gICAgb3B0aW9uczogRGF0YVByb3h5LldyaXRlRnJhZ21lbnRPcHRpb25zPFREYXRhLCBUVmFyaWFibGVzPixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jYWNoZS53cml0ZUZyYWdtZW50PFREYXRhLCBUVmFyaWFibGVzPihvcHRpb25zKTtcbiAgICB0aGlzLnF1ZXJ5TWFuYWdlci5icm9hZGNhc3RRdWVyaWVzKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWdhciBmb3Igd3JpdGVRdWVyeSAmIHdyaXRlRnJhZ21lbnRcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBjb25zdHJ1Y3QgYSBxdWVyeSBmcm9tIHRoZSBkYXRhIG9iamVjdCBwYXNzZWQgaW4uXG4gICAqIElmIG5vIGlkIGlzIHN1cHBsaWVkLCB3cml0ZURhdGEgd2lsbCB3cml0ZSB0aGUgZGF0YSB0byB0aGUgcm9vdC5cbiAgICogSWYgYW4gaWQgaXMgc3VwcGxpZWQsIHdyaXRlRGF0YSB3aWxsIHdyaXRlIGEgZnJhZ21lbnQgdG8gdGhlIG9iamVjdFxuICAgKiBzcGVjaWZpZWQgYnkgdGhlIGlkIGluIHRoZSBzdG9yZS5cbiAgICpcbiAgICogU2luY2UgeW91IGFyZW4ndCBwYXNzaW5nIGluIGEgcXVlcnkgdG8gY2hlY2sgdGhlIHNoYXBlIG9mIHRoZSBkYXRhLFxuICAgKiB5b3UgbXVzdCBwYXNzIGluIGFuIG9iamVjdCB0aGF0IGNvbmZvcm1zIHRvIHRoZSBzaGFwZSBvZiB2YWxpZCBHcmFwaFFMIGRhdGEuXG4gICAqL1xuICBwdWJsaWMgd3JpdGVEYXRhPFREYXRhID0gYW55PihcbiAgICBvcHRpb25zOiBEYXRhUHJveHkuV3JpdGVEYXRhT3B0aW9uczxURGF0YT4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2FjaGUud3JpdGVEYXRhPFREYXRhPihvcHRpb25zKTtcbiAgICB0aGlzLnF1ZXJ5TWFuYWdlci5icm9hZGNhc3RRdWVyaWVzKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBfX2FjdGlvbkhvb2tGb3JEZXZUb29scyhjYjogKCkgPT4gYW55KSB7XG4gICAgdGhpcy5kZXZUb29sc0hvb2tDYiA9IGNiO1xuICB9XG5cbiAgcHVibGljIF9fcmVxdWVzdFJhdyhwYXlsb2FkOiBHcmFwaFFMUmVxdWVzdCk6IE9ic2VydmFibGU8RXhlY3V0aW9uUmVzdWx0PiB7XG4gICAgcmV0dXJuIGV4ZWN1dGUodGhpcy5saW5rLCBwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGluaXRpYWxpemVzIHRoZSBxdWVyeSBtYW5hZ2VyIHRoYXQgdHJhY2tzIHF1ZXJpZXMgYW5kIHRoZSBjYWNoZVxuICAgKi9cbiAgcHVibGljIGluaXRRdWVyeU1hbmFnZXIoKTogUXVlcnlNYW5hZ2VyPFRDYWNoZVNoYXBlPiB7XG4gICAgaW52YXJpYW50Lndhcm4oXG4gICAgICAnQ2FsbGluZyB0aGUgaW5pdFF1ZXJ5TWFuYWdlciBtZXRob2QgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeSwgJyArXG4gICAgICAgICdhbmQgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gQXBvbGxvQ2xpZW50IGluIHZlcnNpb24gMy4wLicsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5xdWVyeU1hbmFnZXI7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHlvdXIgZW50aXJlIHN0b3JlIGJ5IGNsZWFyaW5nIG91dCB5b3VyIGNhY2hlIGFuZCB0aGVuIHJlLWV4ZWN1dGluZ1xuICAgKiBhbGwgb2YgeW91ciBhY3RpdmUgcXVlcmllcy4gVGhpcyBtYWtlcyBpdCBzbyB0aGF0IHlvdSBtYXkgZ3VhcmFudGVlIHRoYXRcbiAgICogdGhlcmUgaXMgbm8gZGF0YSBsZWZ0IGluIHlvdXIgc3RvcmUgZnJvbSBhIHRpbWUgYmVmb3JlIHlvdSBjYWxsZWQgdGhpc1xuICAgKiBtZXRob2QuXG4gICAqXG4gICAqIGByZXNldFN0b3JlKClgIGlzIHVzZWZ1bCB3aGVuIHlvdXIgdXNlciBqdXN0IGxvZ2dlZCBvdXQuIFlvdeKAmXZlIHJlbW92ZWQgdGhlXG4gICAqIHVzZXIgc2Vzc2lvbiwgYW5kIHlvdSBub3cgd2FudCB0byBtYWtlIHN1cmUgdGhhdCBhbnkgcmVmZXJlbmNlcyB0byBkYXRhIHlvdVxuICAgKiBtaWdodCBoYXZlIGZldGNoZWQgd2hpbGUgdGhlIHVzZXIgc2Vzc2lvbiB3YXMgYWN0aXZlIGlzIGdvbmUuXG4gICAqXG4gICAqIEl0IGlzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IGByZXNldFN0b3JlKClgICp3aWxsKiByZWZldGNoIGFueSBhY3RpdmVcbiAgICogcXVlcmllcy4gVGhpcyBtZWFucyB0aGF0IGFueSBjb21wb25lbnRzIHRoYXQgbWlnaHQgYmUgbW91bnRlZCB3aWxsIGV4ZWN1dGVcbiAgICogdGhlaXIgcXVlcmllcyBhZ2FpbiB1c2luZyB5b3VyIG5ldHdvcmsgaW50ZXJmYWNlLiBJZiB5b3UgZG8gbm90IHdhbnQgdG9cbiAgICogcmUtZXhlY3V0ZSBhbnkgcXVlcmllcyB0aGVuIHlvdSBzaG91bGQgbWFrZSBzdXJlIHRvIHN0b3Agd2F0Y2hpbmcgYW55XG4gICAqIGFjdGl2ZSBxdWVyaWVzLlxuICAgKi9cbiAgcHVibGljIHJlc2V0U3RvcmUoKTogUHJvbWlzZTxBcG9sbG9RdWVyeVJlc3VsdDxhbnk+W10gfCBudWxsPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLnF1ZXJ5TWFuYWdlci5jbGVhclN0b3JlKCkpXG4gICAgICAudGhlbigoKSA9PiBQcm9taXNlLmFsbCh0aGlzLnJlc2V0U3RvcmVDYWxsYmFja3MubWFwKGZuID0+IGZuKCkpKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMucmVGZXRjaE9ic2VydmFibGVRdWVyaWVzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgZGF0YSBmcm9tIHRoZSBzdG9yZS4gVW5saWtlIGByZXNldFN0b3JlYCwgYGNsZWFyU3RvcmVgIHdpbGxcbiAgICogbm90IHJlZmV0Y2ggYW55IGFjdGl2ZSBxdWVyaWVzLlxuICAgKi9cbiAgcHVibGljIGNsZWFyU3RvcmUoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5xdWVyeU1hbmFnZXIuY2xlYXJTdG9yZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5hbGwodGhpcy5jbGVhclN0b3JlQ2FsbGJhY2tzLm1hcChmbiA9PiBmbigpKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyBjYWxsYmFja3MgdG8gYmUgcmVnaXN0ZXJlZCB0aGF0IGFyZSBleGVjdXRlZCB3aGVuIHRoZSBzdG9yZSBpc1xuICAgKiByZXNldC4gYG9uUmVzZXRTdG9yZWAgcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkXG4gICAqIHRvIHJlbW92ZSByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAgICovXG4gIHB1YmxpYyBvblJlc2V0U3RvcmUoY2I6ICgpID0+IFByb21pc2U8YW55Pik6ICgpID0+IHZvaWQge1xuICAgIHRoaXMucmVzZXRTdG9yZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5yZXNldFN0b3JlQ2FsbGJhY2tzID0gdGhpcy5yZXNldFN0b3JlQ2FsbGJhY2tzLmZpbHRlcihjID0+IGMgIT09IGNiKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyBjYWxsYmFja3MgdG8gYmUgcmVnaXN0ZXJlZCB0aGF0IGFyZSBleGVjdXRlZCB3aGVuIHRoZSBzdG9yZSBpc1xuICAgKiBjbGVhcmVkLiBgb25DbGVhclN0b3JlYCByZXR1cm5zIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWRcbiAgICogdG8gcmVtb3ZlIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICAgKi9cbiAgcHVibGljIG9uQ2xlYXJTdG9yZShjYjogKCkgPT4gUHJvbWlzZTxhbnk+KTogKCkgPT4gdm9pZCB7XG4gICAgdGhpcy5jbGVhclN0b3JlQ2FsbGJhY2tzLnB1c2goY2IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmNsZWFyU3RvcmVDYWxsYmFja3MgPSB0aGlzLmNsZWFyU3RvcmVDYWxsYmFja3MuZmlsdGVyKGMgPT4gYyAhPT0gY2IpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVmZXRjaGVzIGFsbCBvZiB5b3VyIGFjdGl2ZSBxdWVyaWVzLlxuICAgKlxuICAgKiBgcmVGZXRjaE9ic2VydmFibGVRdWVyaWVzKClgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBicmluZyB0aGUgY2xpZW50IGJhY2sgdG8gcHJvcGVyIHN0YXRlIGluIGNhc2Ugb2YgYSBuZXR3b3JrIG91dGFnZVxuICAgKlxuICAgKiBJdCBpcyBpbXBvcnRhbnQgdG8gcmVtZW1iZXIgdGhhdCBgcmVGZXRjaE9ic2VydmFibGVRdWVyaWVzKClgICp3aWxsKiByZWZldGNoIGFueSBhY3RpdmVcbiAgICogcXVlcmllcy4gVGhpcyBtZWFucyB0aGF0IGFueSBjb21wb25lbnRzIHRoYXQgbWlnaHQgYmUgbW91bnRlZCB3aWxsIGV4ZWN1dGVcbiAgICogdGhlaXIgcXVlcmllcyBhZ2FpbiB1c2luZyB5b3VyIG5ldHdvcmsgaW50ZXJmYWNlLiBJZiB5b3UgZG8gbm90IHdhbnQgdG9cbiAgICogcmUtZXhlY3V0ZSBhbnkgcXVlcmllcyB0aGVuIHlvdSBzaG91bGQgbWFrZSBzdXJlIHRvIHN0b3Agd2F0Y2hpbmcgYW55XG4gICAqIGFjdGl2ZSBxdWVyaWVzLlxuICAgKiBUYWtlcyBvcHRpb25hbCBwYXJhbWV0ZXIgYGluY2x1ZGVTdGFuZGJ5YCB3aGljaCB3aWxsIGluY2x1ZGUgcXVlcmllcyBpbiBzdGFuZGJ5LW1vZGUgd2hlbiByZWZldGNoaW5nLlxuICAgKi9cbiAgcHVibGljIHJlRmV0Y2hPYnNlcnZhYmxlUXVlcmllcyhcbiAgICBpbmNsdWRlU3RhbmRieT86IGJvb2xlYW4sXG4gICk6IFByb21pc2U8QXBvbGxvUXVlcnlSZXN1bHQ8YW55PltdPiB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlNYW5hZ2VyLnJlRmV0Y2hPYnNlcnZhYmxlUXVlcmllcyhpbmNsdWRlU3RhbmRieSk7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3NlcyB0aGUgY2FjaGUncyBjb21wbGV0ZSBzdGF0ZSwgaW4gYSBzZXJpYWxpemFibGUgZm9ybWF0IGZvciBsYXRlciByZXN0b3JhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBleHRyYWN0KG9wdGltaXN0aWM/OiBib29sZWFuKTogVENhY2hlU2hhcGUge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmV4dHJhY3Qob3B0aW1pc3RpYyk7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgZXhpc3Rpbmcgc3RhdGUgaW4gdGhlIGNhY2hlIChpZiBhbnkpIHdpdGggdGhlIHZhbHVlcyBleHByZXNzZWQgYnlcbiAgICogYHNlcmlhbGl6ZWRTdGF0ZWAuXG4gICAqXG4gICAqIENhbGxlZCB3aGVuIGh5ZHJhdGluZyBhIGNhY2hlIChzZXJ2ZXIgc2lkZSByZW5kZXJpbmcsIG9yIG9mZmxpbmUgc3RvcmFnZSksXG4gICAqIGFuZCBhbHNvIChwb3RlbnRpYWxseSkgZHVyaW5nIGhvdCByZWxvYWRzLlxuICAgKi9cbiAgcHVibGljIHJlc3RvcmUoc2VyaWFsaXplZFN0YXRlOiBUQ2FjaGVTaGFwZSk6IEFwb2xsb0NhY2hlPFRDYWNoZVNoYXBlPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUucmVzdG9yZShzZXJpYWxpemVkU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhZGRpdGlvbmFsIGxvY2FsIHJlc29sdmVycy5cbiAgICovXG4gIHB1YmxpYyBhZGRSZXNvbHZlcnMocmVzb2x2ZXJzOiBSZXNvbHZlcnMgfCBSZXNvbHZlcnNbXSkge1xuICAgIHRoaXMubG9jYWxTdGF0ZS5hZGRSZXNvbHZlcnMocmVzb2x2ZXJzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgKG92ZXJyaWRlIGV4aXN0aW5nKSBsb2NhbCByZXNvbHZlcnMuXG4gICAqL1xuICBwdWJsaWMgc2V0UmVzb2x2ZXJzKHJlc29sdmVyczogUmVzb2x2ZXJzIHwgUmVzb2x2ZXJzW10pIHtcbiAgICB0aGlzLmxvY2FsU3RhdGUuc2V0UmVzb2x2ZXJzKHJlc29sdmVycyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCByZWdpc3RlcmVkIGxvY2FsIHJlc29sdmVycy5cbiAgICovXG4gIHB1YmxpYyBnZXRSZXNvbHZlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxTdGF0ZS5nZXRSZXNvbHZlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBjdXN0b20gbG9jYWwgc3RhdGUgZnJhZ21lbnQgbWF0Y2hlci5cbiAgICovXG4gIHB1YmxpYyBzZXRMb2NhbFN0YXRlRnJhZ21lbnRNYXRjaGVyKGZyYWdtZW50TWF0Y2hlcjogRnJhZ21lbnRNYXRjaGVyKSB7XG4gICAgdGhpcy5sb2NhbFN0YXRlLnNldEZyYWdtZW50TWF0Y2hlcihmcmFnbWVudE1hdGNoZXIpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiMi42LjEwXCIiLCJpbXBvcnQge1xuICBEb2N1bWVudE5vZGUsXG4gIE9wZXJhdGlvbkRlZmluaXRpb25Ob2RlLFxuICBTZWxlY3Rpb25TZXROb2RlLFxuICBGaWVsZE5vZGUsXG4gIEZyYWdtZW50RGVmaW5pdGlvbk5vZGUsXG59IGZyb20gJ2dyYXBocWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlGcm9tUG9qbyhvYmo6IGFueSk6IERvY3VtZW50Tm9kZSB7XG4gIGNvbnN0IG9wOiBPcGVyYXRpb25EZWZpbml0aW9uTm9kZSA9IHtcbiAgICBraW5kOiAnT3BlcmF0aW9uRGVmaW5pdGlvbicsXG4gICAgb3BlcmF0aW9uOiAncXVlcnknLFxuICAgIG5hbWU6IHtcbiAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgIHZhbHVlOiAnR2VuZXJhdGVkQ2xpZW50UXVlcnknLFxuICAgIH0sXG4gICAgc2VsZWN0aW9uU2V0OiBzZWxlY3Rpb25TZXRGcm9tT2JqKG9iaiksXG4gIH07XG5cbiAgY29uc3Qgb3V0OiBEb2N1bWVudE5vZGUgPSB7XG4gICAga2luZDogJ0RvY3VtZW50JyxcbiAgICBkZWZpbml0aW9uczogW29wXSxcbiAgfTtcblxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJhZ21lbnRGcm9tUG9qbyhvYmo6IGFueSwgdHlwZW5hbWU/OiBzdHJpbmcpOiBEb2N1bWVudE5vZGUge1xuICBjb25zdCBmcmFnOiBGcmFnbWVudERlZmluaXRpb25Ob2RlID0ge1xuICAgIGtpbmQ6ICdGcmFnbWVudERlZmluaXRpb24nLFxuICAgIHR5cGVDb25kaXRpb246IHtcbiAgICAgIGtpbmQ6ICdOYW1lZFR5cGUnLFxuICAgICAgbmFtZToge1xuICAgICAgICBraW5kOiAnTmFtZScsXG4gICAgICAgIHZhbHVlOiB0eXBlbmFtZSB8fCAnX19GYWtlVHlwZScsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAga2luZDogJ05hbWUnLFxuICAgICAgdmFsdWU6ICdHZW5lcmF0ZWRDbGllbnRRdWVyeScsXG4gICAgfSxcbiAgICBzZWxlY3Rpb25TZXQ6IHNlbGVjdGlvblNldEZyb21PYmoob2JqKSxcbiAgfTtcblxuICBjb25zdCBvdXQ6IERvY3VtZW50Tm9kZSA9IHtcbiAgICBraW5kOiAnRG9jdW1lbnQnLFxuICAgIGRlZmluaXRpb25zOiBbZnJhZ10sXG4gIH07XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uU2V0RnJvbU9iaihvYmo6IGFueSk6IFNlbGVjdGlvblNldE5vZGUge1xuICBpZiAoXG4gICAgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHxcbiAgICB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicgfHxcbiAgICB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fFxuICAgIHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnIHx8XG4gICAgb2JqID09PSBudWxsXG4gICkge1xuICAgIC8vIE5vIHNlbGVjdGlvbiBzZXQgaGVyZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIC8vIEdyYXBoUUwgcXVlcmllcyBkb24ndCBpbmNsdWRlIGFycmF5c1xuICAgIHJldHVybiBzZWxlY3Rpb25TZXRGcm9tT2JqKG9ialswXSk7XG4gIH1cblxuICAvLyBOb3cgd2Uga25vdyBpdCdzIGFuIG9iamVjdFxuICBjb25zdCBzZWxlY3Rpb25zOiBGaWVsZE5vZGVbXSA9IFtdO1xuXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IG5lc3RlZFNlbFNldDogU2VsZWN0aW9uU2V0Tm9kZSA9IHNlbGVjdGlvblNldEZyb21PYmoob2JqW2tleV0pO1xuXG4gICAgY29uc3QgZmllbGQ6IEZpZWxkTm9kZSA9IHtcbiAgICAgIGtpbmQ6ICdGaWVsZCcsXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgIH0sXG4gICAgICBzZWxlY3Rpb25TZXQ6IG5lc3RlZFNlbFNldCB8fCB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIHNlbGVjdGlvbnMucHVzaChmaWVsZCk7XG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdGlvblNldDogU2VsZWN0aW9uU2V0Tm9kZSA9IHtcbiAgICBraW5kOiAnU2VsZWN0aW9uU2V0JyxcbiAgICBzZWxlY3Rpb25zLFxuICB9O1xuXG4gIHJldHVybiBzZWxlY3Rpb25TZXQ7XG59XG5cbmV4cG9ydCBjb25zdCBqdXN0VHlwZW5hbWVRdWVyeTogRG9jdW1lbnROb2RlID0ge1xuICBraW5kOiAnRG9jdW1lbnQnLFxuICBkZWZpbml0aW9uczogW1xuICAgIHtcbiAgICAgIGtpbmQ6ICdPcGVyYXRpb25EZWZpbml0aW9uJyxcbiAgICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICB2YXJpYWJsZURlZmluaXRpb25zOiBudWxsLFxuICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAga2luZDogJ1NlbGVjdGlvblNldCcsXG4gICAgICAgIHNlbGVjdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBraW5kOiAnRmllbGQnLFxuICAgICAgICAgICAgYWxpYXM6IG51bGwsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdfX3R5cGVuYW1lJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcmd1bWVudHM6IFtdLFxuICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICBzZWxlY3Rpb25TZXQ6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgXSxcbn07XG4iLCJpbXBvcnQgeyBEYXRhUHJveHkgfSBmcm9tICcuL0RhdGFQcm94eSc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2FjaGUge1xuICBleHBvcnQgdHlwZSBXYXRjaENhbGxiYWNrID0gKG5ld0RhdGE6IGFueSkgPT4gdm9pZDtcbiAgZXhwb3J0IGludGVyZmFjZSBFdmljdGlvblJlc3VsdCB7XG4gICAgc3VjY2VzczogQm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVhZE9wdGlvbnM8VFZhcmlhYmxlcyA9IGFueT5cbiAgICBleHRlbmRzIERhdGFQcm94eS5RdWVyeTxUVmFyaWFibGVzPiB7XG4gICAgcm9vdElkPzogc3RyaW5nO1xuICAgIHByZXZpb3VzUmVzdWx0PzogYW55O1xuICAgIG9wdGltaXN0aWM6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFdyaXRlT3B0aW9uczxUUmVzdWx0ID0gYW55LCBUVmFyaWFibGVzID0gYW55PlxuICAgIGV4dGVuZHMgRGF0YVByb3h5LlF1ZXJ5PFRWYXJpYWJsZXM+IHtcbiAgICBkYXRhSWQ6IHN0cmluZztcbiAgICByZXN1bHQ6IFRSZXN1bHQ7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIERpZmZPcHRpb25zIGV4dGVuZHMgUmVhZE9wdGlvbnMge1xuICAgIHJldHVyblBhcnRpYWxEYXRhPzogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgV2F0Y2hPcHRpb25zIGV4dGVuZHMgUmVhZE9wdGlvbnMge1xuICAgIGNhbGxiYWNrOiBXYXRjaENhbGxiYWNrO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBFdmljdE9wdGlvbnM8VFZhcmlhYmxlcyA9IGFueT5cbiAgICBleHRlbmRzIERhdGFQcm94eS5RdWVyeTxUVmFyaWFibGVzPiB7XG4gICAgcm9vdElkPzogc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGltcG9ydCBEaWZmUmVzdWx0ID0gRGF0YVByb3h5LkRpZmZSZXN1bHQ7XG4gIGV4cG9ydCBpbXBvcnQgV3JpdGVRdWVyeU9wdGlvbnMgPSBEYXRhUHJveHkuV3JpdGVRdWVyeU9wdGlvbnM7XG4gIGV4cG9ydCBpbXBvcnQgV3JpdGVGcmFnbWVudE9wdGlvbnMgPSBEYXRhUHJveHkuV3JpdGVGcmFnbWVudE9wdGlvbnM7XG4gIGV4cG9ydCBpbXBvcnQgV3JpdGVEYXRhT3B0aW9ucyA9IERhdGFQcm94eS5Xcml0ZURhdGFPcHRpb25zO1xuICBleHBvcnQgaW1wb3J0IEZyYWdtZW50ID0gRGF0YVByb3h5LkZyYWdtZW50O1xufVxuIiwiaW1wb3J0IHsgRG9jdW1lbnROb2RlIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQgfSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcblxuaW1wb3J0IHsgRGF0YVByb3h5LCBDYWNoZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsganVzdFR5cGVuYW1lUXVlcnksIHF1ZXJ5RnJvbVBvam8sIGZyYWdtZW50RnJvbVBvam8gfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IHR5cGUgVHJhbnNhY3Rpb248VD4gPSAoYzogQXBvbGxvQ2FjaGU8VD4pID0+IHZvaWQ7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBcG9sbG9DYWNoZTxUU2VyaWFsaXplZD4gaW1wbGVtZW50cyBEYXRhUHJveHkge1xuICAvLyByZXF1aXJlZCB0byBpbXBsZW1lbnRcbiAgLy8gY29yZSBBUElcbiAgcHVibGljIGFic3RyYWN0IHJlYWQ8VCwgVFZhcmlhYmxlcyA9IGFueT4oXG4gICAgcXVlcnk6IENhY2hlLlJlYWRPcHRpb25zPFRWYXJpYWJsZXM+LFxuICApOiBUIHwgbnVsbDtcbiAgcHVibGljIGFic3RyYWN0IHdyaXRlPFRSZXN1bHQgPSBhbnksIFRWYXJpYWJsZXMgPSBhbnk+KFxuICAgIHdyaXRlOiBDYWNoZS5Xcml0ZU9wdGlvbnM8VFJlc3VsdCwgVFZhcmlhYmxlcz4sXG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBhYnN0cmFjdCBkaWZmPFQ+KHF1ZXJ5OiBDYWNoZS5EaWZmT3B0aW9ucyk6IENhY2hlLkRpZmZSZXN1bHQ8VD47XG4gIHB1YmxpYyBhYnN0cmFjdCB3YXRjaCh3YXRjaDogQ2FjaGUuV2F0Y2hPcHRpb25zKTogKCkgPT4gdm9pZDtcbiAgcHVibGljIGFic3RyYWN0IGV2aWN0PFRWYXJpYWJsZXMgPSBhbnk+KFxuICAgIHF1ZXJ5OiBDYWNoZS5FdmljdE9wdGlvbnM8VFZhcmlhYmxlcz4sXG4gICk6IENhY2hlLkV2aWN0aW9uUmVzdWx0O1xuICBwdWJsaWMgYWJzdHJhY3QgcmVzZXQoKTogUHJvbWlzZTx2b2lkPjtcblxuICAvLyBpbnRpYWxpemVyIC8gb2ZmbGluZSAvIHNzciBBUElcbiAgLyoqXG4gICAqIFJlcGxhY2VzIGV4aXN0aW5nIHN0YXRlIGluIHRoZSBjYWNoZSAoaWYgYW55KSB3aXRoIHRoZSB2YWx1ZXMgZXhwcmVzc2VkIGJ5XG4gICAqIGBzZXJpYWxpemVkU3RhdGVgLlxuICAgKlxuICAgKiBDYWxsZWQgd2hlbiBoeWRyYXRpbmcgYSBjYWNoZSAoc2VydmVyIHNpZGUgcmVuZGVyaW5nLCBvciBvZmZsaW5lIHN0b3JhZ2UpLFxuICAgKiBhbmQgYWxzbyAocG90ZW50aWFsbHkpIGR1cmluZyBob3QgcmVsb2Fkcy5cbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCByZXN0b3JlKFxuICAgIHNlcmlhbGl6ZWRTdGF0ZTogVFNlcmlhbGl6ZWQsXG4gICk6IEFwb2xsb0NhY2hlPFRTZXJpYWxpemVkPjtcblxuICAvKipcbiAgICogRXhwb3NlcyB0aGUgY2FjaGUncyBjb21wbGV0ZSBzdGF0ZSwgaW4gYSBzZXJpYWxpemFibGUgZm9ybWF0IGZvciBsYXRlciByZXN0b3JhdGlvbi5cbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCBleHRyYWN0KG9wdGltaXN0aWM/OiBib29sZWFuKTogVFNlcmlhbGl6ZWQ7XG5cbiAgLy8gb3B0aW1pc3RpYyBBUElcbiAgcHVibGljIGFic3RyYWN0IHJlbW92ZU9wdGltaXN0aWMoaWQ6IHN0cmluZyk6IHZvaWQ7XG5cbiAgLy8gdHJhbnNhY3Rpb25hbCBBUElcbiAgcHVibGljIGFic3RyYWN0IHBlcmZvcm1UcmFuc2FjdGlvbihcbiAgICB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb248VFNlcmlhbGl6ZWQ+LFxuICApOiB2b2lkO1xuICBwdWJsaWMgYWJzdHJhY3QgcmVjb3JkT3B0aW1pc3RpY1RyYW5zYWN0aW9uKFxuICAgIHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbjxUU2VyaWFsaXplZD4sXG4gICAgaWQ6IHN0cmluZyxcbiAgKTogdm9pZDtcblxuICAvLyBvcHRpb25hbCBBUElcbiAgcHVibGljIHRyYW5zZm9ybURvY3VtZW50KGRvY3VtZW50OiBEb2N1bWVudE5vZGUpOiBEb2N1bWVudE5vZGUge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuICAvLyBleHBlcmltZW50YWxcbiAgcHVibGljIHRyYW5zZm9ybUZvckxpbmsoZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSk6IERvY3VtZW50Tm9kZSB7XG4gICAgcmV0dXJuIGRvY3VtZW50O1xuICB9XG5cbiAgLy8gRGF0YVByb3h5IEFQSVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGltaXN0aWNcbiAgICovXG4gIHB1YmxpYyByZWFkUXVlcnk8UXVlcnlUeXBlLCBUVmFyaWFibGVzID0gYW55PihcbiAgICBvcHRpb25zOiBEYXRhUHJveHkuUXVlcnk8VFZhcmlhYmxlcz4sXG4gICAgb3B0aW1pc3RpYzogYm9vbGVhbiA9IGZhbHNlLFxuICApOiBRdWVyeVR5cGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkKHtcbiAgICAgIHF1ZXJ5OiBvcHRpb25zLnF1ZXJ5LFxuICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgIG9wdGltaXN0aWMsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVhZEZyYWdtZW50PEZyYWdtZW50VHlwZSwgVFZhcmlhYmxlcyA9IGFueT4oXG4gICAgb3B0aW9uczogRGF0YVByb3h5LkZyYWdtZW50PFRWYXJpYWJsZXM+LFxuICAgIG9wdGltaXN0aWM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogRnJhZ21lbnRUeXBlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMucmVhZCh7XG4gICAgICBxdWVyeTogZ2V0RnJhZ21lbnRRdWVyeURvY3VtZW50KG9wdGlvbnMuZnJhZ21lbnQsIG9wdGlvbnMuZnJhZ21lbnROYW1lKSxcbiAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICByb290SWQ6IG9wdGlvbnMuaWQsXG4gICAgICBvcHRpbWlzdGljLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHdyaXRlUXVlcnk8VERhdGEgPSBhbnksIFRWYXJpYWJsZXMgPSBhbnk+KFxuICAgIG9wdGlvbnM6IENhY2hlLldyaXRlUXVlcnlPcHRpb25zPFREYXRhLCBUVmFyaWFibGVzPixcbiAgKTogdm9pZCB7XG4gICAgdGhpcy53cml0ZSh7XG4gICAgICBkYXRhSWQ6ICdST09UX1FVRVJZJyxcbiAgICAgIHJlc3VsdDogb3B0aW9ucy5kYXRhLFxuICAgICAgcXVlcnk6IG9wdGlvbnMucXVlcnksXG4gICAgICB2YXJpYWJsZXM6IG9wdGlvbnMudmFyaWFibGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHdyaXRlRnJhZ21lbnQ8VERhdGEgPSBhbnksIFRWYXJpYWJsZXMgPSBhbnk+KFxuICAgIG9wdGlvbnM6IENhY2hlLldyaXRlRnJhZ21lbnRPcHRpb25zPFREYXRhLCBUVmFyaWFibGVzPixcbiAgKTogdm9pZCB7XG4gICAgdGhpcy53cml0ZSh7XG4gICAgICBkYXRhSWQ6IG9wdGlvbnMuaWQsXG4gICAgICByZXN1bHQ6IG9wdGlvbnMuZGF0YSxcbiAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICBxdWVyeTogZ2V0RnJhZ21lbnRRdWVyeURvY3VtZW50KG9wdGlvbnMuZnJhZ21lbnQsIG9wdGlvbnMuZnJhZ21lbnROYW1lKSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB3cml0ZURhdGE8VERhdGEgPSBhbnk+KHtcbiAgICBpZCxcbiAgICBkYXRhLFxuICB9OiBDYWNoZS5Xcml0ZURhdGFPcHRpb25zPFREYXRhPik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgaWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsZXQgdHlwZW5hbWVSZXN1bHQgPSBudWxsO1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgdXNlIGZyYWdtZW50cyB3aXRob3V0IGhhdmluZyBhIHR5cGVuYW1lIGluIHRoZSBzdG9yZSxcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHdlIGhhdmUgb25lLlxuICAgICAgLy8gVG8gYXZvaWQgb3ZlcndyaXRpbmcgYW4gZXhpc3RpbmcgdHlwZW5hbWUsIHdlIG5lZWQgdG8gcmVhZCBpdCBvdXQgZmlyc3RcbiAgICAgIC8vIGFuZCBnZW5lcmF0ZSBhIGZha2Ugb25lIGlmIG5vbmUgZXhpc3RzLlxuICAgICAgdHJ5IHtcbiAgICAgICAgdHlwZW5hbWVSZXN1bHQgPSB0aGlzLnJlYWQ8YW55Pih7XG4gICAgICAgICAgcm9vdElkOiBpZCxcbiAgICAgICAgICBvcHRpbWlzdGljOiBmYWxzZSxcbiAgICAgICAgICBxdWVyeToganVzdFR5cGVuYW1lUXVlcnksXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBEbyBub3RoaW5nLCBzaW5jZSBhbiBlcnJvciBqdXN0IG1lYW5zIG5vIHR5cGVuYW1lIGV4aXN0c1xuICAgICAgfVxuXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnN0IF9fdHlwZW5hbWUgPVxuICAgICAgICAodHlwZW5hbWVSZXN1bHQgJiYgdHlwZW5hbWVSZXN1bHQuX190eXBlbmFtZSkgfHwgJ19fQ2xpZW50RGF0YSc7XG5cbiAgICAgIC8vIEFkZCBhIHR5cGUgaGVyZSB0byBzYXRpc2Z5IHRoZSBpbm1lbW9yeSBjYWNoZVxuICAgICAgY29uc3QgZGF0YVRvV3JpdGUgPSBPYmplY3QuYXNzaWduKHsgX190eXBlbmFtZSB9LCBkYXRhKTtcblxuICAgICAgdGhpcy53cml0ZUZyYWdtZW50KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZyYWdtZW50OiBmcmFnbWVudEZyb21Qb2pvKGRhdGFUb1dyaXRlLCBfX3R5cGVuYW1lKSxcbiAgICAgICAgZGF0YTogZGF0YVRvV3JpdGUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53cml0ZVF1ZXJ5KHsgcXVlcnk6IHF1ZXJ5RnJvbVBvam8oZGF0YSksIGRhdGEgfSk7XG4gICAgfVxuICB9XG59XG4iLCJ0eXBlIENvbnRleHQgPSB7XG4gIHBhcmVudDogQ29udGV4dCB8IG51bGw7XG4gIHNsb3RzOiB7IFtzbG90SWQ6IHN0cmluZ106IGFueSB9O1xufVxuXG4vLyBUaGlzIGN1cnJlbnRDb250ZXh0IHZhcmlhYmxlIHdpbGwgb25seSBiZSB1c2VkIGlmIHRoZSBtYWtlU2xvdENsYXNzXG4vLyBmdW5jdGlvbiBpcyBjYWxsZWQsIHdoaWNoIGhhcHBlbnMgb25seSBpZiB0aGlzIGlzIHRoZSBmaXJzdCBjb3B5IG9mIHRoZVxuLy8gQHdyeS9jb250ZXh0IHBhY2thZ2UgdG8gYmUgaW1wb3J0ZWQuXG5sZXQgY3VycmVudENvbnRleHQ6IENvbnRleHQgfCBudWxsID0gbnVsbDtcblxuLy8gVGhpcyB1bmlxdWUgaW50ZXJuYWwgb2JqZWN0IGlzIHVzZWQgdG8gZGVub3RlIHRoZSBhYnNlbmNlIG9mIGEgdmFsdWVcbi8vIGZvciBhIGdpdmVuIFNsb3QsIGFuZCBpcyBuZXZlciBleHBvc2VkIHRvIG91dHNpZGUgY29kZS5cbmNvbnN0IE1JU1NJTkdfVkFMVUU6IGFueSA9IHt9O1xuXG5sZXQgaWRDb3VudGVyID0gMTtcblxuLy8gQWx0aG91Z2ggd2UgY2FuJ3QgZG8gYW55dGhpbmcgYWJvdXQgdGhlIGNvc3Qgb2YgZHVwbGljYXRlZCBjb2RlIGZyb21cbi8vIGFjY2lkZW50YWxseSBidW5kbGluZyBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIEB3cnkvY29udGV4dCBwYWNrYWdlLCB3ZSBjYW5cbi8vIGF2b2lkIGNyZWF0aW5nIHRoZSBTbG90IGNsYXNzIG1vcmUgdGhhbiBvbmNlIHVzaW5nIG1ha2VTbG90Q2xhc3MuXG5jb25zdCBtYWtlU2xvdENsYXNzID0gKCkgPT4gY2xhc3MgU2xvdDxUVmFsdWU+IHtcbiAgLy8gSWYgeW91IGhhdmUgYSBTbG90IG9iamVjdCwgeW91IGNhbiBmaW5kIG91dCBpdHMgc2xvdC5pZCwgYnV0IHlvdSBjYW5ub3RcbiAgLy8gZ3Vlc3MgdGhlIHNsb3QuaWQgb2YgYSBTbG90IHlvdSBkb24ndCBoYXZlIGFjY2VzcyB0bywgdGhhbmtzIHRvIHRoZVxuICAvLyByYW5kb21pemVkIHN1ZmZpeC5cbiAgcHVibGljIHJlYWRvbmx5IGlkID0gW1xuICAgIFwic2xvdFwiLFxuICAgIGlkQ291bnRlcisrLFxuICAgIERhdGUubm93KCksXG4gICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksXG4gIF0uam9pbihcIjpcIik7XG5cbiAgcHVibGljIGhhc1ZhbHVlKCkge1xuICAgIGZvciAobGV0IGNvbnRleHQgPSBjdXJyZW50Q29udGV4dDsgY29udGV4dDsgY29udGV4dCA9IGNvbnRleHQucGFyZW50KSB7XG4gICAgICAvLyBXZSB1c2UgdGhlIFNsb3Qgb2JqZWN0IGlzZWxmIGFzIGEga2V5IHRvIGl0cyB2YWx1ZSwgd2hpY2ggbWVhbnMgdGhlXG4gICAgICAvLyB2YWx1ZSBjYW5ub3QgYmUgb2J0YWluZWQgd2l0aG91dCBhIHJlZmVyZW5jZSB0byB0aGUgU2xvdCBvYmplY3QuXG4gICAgICBpZiAodGhpcy5pZCBpbiBjb250ZXh0LnNsb3RzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY29udGV4dC5zbG90c1t0aGlzLmlkXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBNSVNTSU5HX1ZBTFVFKSBicmVhaztcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IGN1cnJlbnRDb250ZXh0KSB7XG4gICAgICAgICAgLy8gQ2FjaGUgdGhlIHZhbHVlIGluIGN1cnJlbnRDb250ZXh0LnNsb3RzIHNvIHRoZSBuZXh0IGxvb2t1cCB3aWxsXG4gICAgICAgICAgLy8gYmUgZmFzdGVyLiBUaGlzIGNhY2hpbmcgaXMgc2FmZSBiZWNhdXNlIHRoZSB0cmVlIG9mIGNvbnRleHRzIGFuZFxuICAgICAgICAgIC8vIHRoZSB2YWx1ZXMgb2YgdGhlIHNsb3RzIGFyZSBsb2dpY2FsbHkgaW1tdXRhYmxlLlxuICAgICAgICAgIGN1cnJlbnRDb250ZXh0IS5zbG90c1t0aGlzLmlkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudENvbnRleHQpIHtcbiAgICAgIC8vIElmIGEgdmFsdWUgd2FzIG5vdCBmb3VuZCBmb3IgdGhpcyBTbG90LCBpdCdzIG5ldmVyIGdvaW5nIHRvIGJlIGZvdW5kXG4gICAgICAvLyBubyBtYXR0ZXIgaG93IG1hbnkgdGltZXMgd2UgbG9vayBpdCB1cCwgc28gd2UgbWlnaHQgYXMgd2VsbCBjYWNoZVxuICAgICAgLy8gdGhlIGFic2VuY2Ugb2YgdGhlIHZhbHVlLCB0b28uXG4gICAgICBjdXJyZW50Q29udGV4dC5zbG90c1t0aGlzLmlkXSA9IE1JU1NJTkdfVkFMVUU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRWYWx1ZSgpOiBUVmFsdWUgfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLmhhc1ZhbHVlKCkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Q29udGV4dCEuc2xvdHNbdGhpcy5pZF0gYXMgVFZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB3aXRoVmFsdWU8VFJlc3VsdCwgVEFyZ3MgZXh0ZW5kcyBhbnlbXSwgVFRoaXMgPSBhbnk+KFxuICAgIHZhbHVlOiBUVmFsdWUsXG4gICAgY2FsbGJhY2s6ICh0aGlzOiBUVGhpcywgLi4uYXJnczogVEFyZ3MpID0+IFRSZXN1bHQsXG4gICAgLy8gR2l2ZW4gdGhlIHByZXZhbGVuY2Ugb2YgYXJyb3cgZnVuY3Rpb25zLCBzcGVjaWZ5aW5nIGFyZ3VtZW50cyBpcyBsaWtlbHlcbiAgICAvLyB0byBiZSBtdWNoIG1vcmUgY29tbW9uIHRoYW4gc3BlY2lmeWluZyBgdGhpc2AsIGhlbmNlIHRoaXMgb3JkZXJpbmc6XG4gICAgYXJncz86IFRBcmdzLFxuICAgIHRoaXNBcmc/OiBUVGhpcyxcbiAgKTogVFJlc3VsdCB7XG4gICAgY29uc3Qgc2xvdHMgPSB7XG4gICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICBbdGhpcy5pZF06IHZhbHVlLFxuICAgIH07XG4gICAgY29uc3QgcGFyZW50ID0gY3VycmVudENvbnRleHQ7XG4gICAgY3VycmVudENvbnRleHQgPSB7IHBhcmVudCwgc2xvdHMgfTtcbiAgICB0cnkge1xuICAgICAgLy8gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5IGFsbG93cyB0aGUgYXJndW1lbnRzIGFycmF5IGFyZ3VtZW50IHRvIGJlXG4gICAgICAvLyBvbWl0dGVkIG9yIHVuZGVmaW5lZCwgc28gYXJncyEgaXMgZmluZSBoZXJlLlxuICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXNBcmchLCBhcmdzISk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGN1cnJlbnRDb250ZXh0ID0gcGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIENhcHR1cmUgdGhlIGN1cnJlbnQgY29udGV4dCBhbmQgd3JhcCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHNvIHRoYXQgaXRcbiAgLy8gcmVlc3RhYmxpc2hlcyB0aGUgY2FwdHVyZWQgY29udGV4dCB3aGVuIGNhbGxlZC5cbiAgc3RhdGljIGJpbmQ8VEFyZ3MgZXh0ZW5kcyBhbnlbXSwgVFJlc3VsdD4oXG4gICAgY2FsbGJhY2s6ICguLi5hcmdzOiBUQXJncykgPT4gVFJlc3VsdCxcbiAgKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGN1cnJlbnRDb250ZXh0O1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgICBjb25zdCBzYXZlZCA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY3VycmVudENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzIGFzIGFueSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHNhdmVkO1xuICAgICAgfVxuICAgIH0gYXMgdHlwZW9mIGNhbGxiYWNrO1xuICB9XG5cbiAgLy8gSW1tZWRpYXRlbHkgcnVuIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aG91dCBhbnkgY2FwdHVyZWQgY29udGV4dC5cbiAgc3RhdGljIG5vQ29udGV4dDxUUmVzdWx0LCBUQXJncyBleHRlbmRzIGFueVtdLCBUVGhpcyA9IGFueT4oXG4gICAgY2FsbGJhY2s6ICh0aGlzOiBUVGhpcywgLi4uYXJnczogVEFyZ3MpID0+IFRSZXN1bHQsXG4gICAgLy8gR2l2ZW4gdGhlIHByZXZhbGVuY2Ugb2YgYXJyb3cgZnVuY3Rpb25zLCBzcGVjaWZ5aW5nIGFyZ3VtZW50cyBpcyBsaWtlbHlcbiAgICAvLyB0byBiZSBtdWNoIG1vcmUgY29tbW9uIHRoYW4gc3BlY2lmeWluZyBgdGhpc2AsIGhlbmNlIHRoaXMgb3JkZXJpbmc6XG4gICAgYXJncz86IFRBcmdzLFxuICAgIHRoaXNBcmc/OiBUVGhpcyxcbiAgKSB7XG4gICAgaWYgKGN1cnJlbnRDb250ZXh0KSB7XG4gICAgICBjb25zdCBzYXZlZCA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY3VycmVudENvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkgYWxsb3dzIHRoZSBhcmd1bWVudHMgYXJyYXkgYXJndW1lbnQgdG8gYmVcbiAgICAgICAgLy8gb21pdHRlZCBvciB1bmRlZmluZWQsIHNvIGFyZ3MhIGlzIGZpbmUgaGVyZS5cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXNBcmchLCBhcmdzISk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHNhdmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc0FyZyEsIGFyZ3MhKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFdlIHN0b3JlIGEgc2luZ2xlIGdsb2JhbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2xvdCBjbGFzcyBhcyBhIHBlcm1hbmVudFxuLy8gbm9uLWVudW1lcmFibGUgc3ltYm9sIHByb3BlcnR5IG9mIHRoZSBBcnJheSBjb25zdHJ1Y3Rvci4gVGhpcyBvYmZ1c2NhdGlvblxuLy8gZG9lcyBub3RoaW5nIHRvIHByZXZlbnQgYWNjZXNzIHRvIHRoZSBTbG90IGNsYXNzLCBidXQgYXQgbGVhc3QgaXQgZW5zdXJlc1xuLy8gdGhlIGltcGxlbWVudGF0aW9uIChpLmUuIGN1cnJlbnRDb250ZXh0KSBjYW5ub3QgYmUgdGFtcGVyZWQgd2l0aCwgYW5kIGFsbFxuLy8gY29waWVzIG9mIHRoZSBAd3J5L2NvbnRleHQgcGFja2FnZSAoaG9wZWZ1bGx5IGp1c3Qgb25lKSB3aWxsIHNoYXJlIHRoZVxuLy8gc2FtZSBTbG90IGltcGxlbWVudGF0aW9uLiBTaW5jZSB0aGUgZmlyc3QgY29weSBvZiB0aGUgQHdyeS9jb250ZXh0IHBhY2thZ2Vcbi8vIHRvIGJlIGltcG9ydGVkIHdpbnMsIHRoaXMgdGVjaG5pcXVlIGltcG9zZXMgYSB2ZXJ5IGhpZ2ggY29zdCBmb3IgYW55XG4vLyBmdXR1cmUgYnJlYWtpbmcgY2hhbmdlcyB0byB0aGUgU2xvdCBjbGFzcy5cbmNvbnN0IGdsb2JhbEtleSA9IFwiQHdyeS9jb250ZXh0OlNsb3RcIjtcbmNvbnN0IGhvc3QgPSBBcnJheSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBTbG90OiBSZXR1cm5UeXBlPHR5cGVvZiBtYWtlU2xvdENsYXNzPiA9IGhvc3RbZ2xvYmFsS2V5XSB8fCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IFNsb3QgPSBtYWtlU2xvdENsYXNzKCk7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGhvc3QsIGdsb2JhbEtleSwge1xuICAgICAgdmFsdWU6IGhvc3RbZ2xvYmFsS2V5XSA9IFNsb3QsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gIH0gZmluYWxseSB7XG4gICAgcmV0dXJuIFNsb3Q7XG4gIH1cbn0oKTtcbiIsImltcG9ydCB7IFNsb3QgfSBmcm9tIFwiLi9zbG90XCI7XG5leHBvcnQgeyBTbG90IH1cbmV4cG9ydCBjb25zdCB7IGJpbmQsIG5vQ29udGV4dCB9ID0gU2xvdDtcblxuLy8gTGlrZSBnbG9iYWwuc2V0VGltZW91dCwgZXhjZXB0IHRoZSBjYWxsYmFjayBydW5zIHdpdGggY2FwdHVyZWQgY29udGV4dC5cbmV4cG9ydCB7IHNldFRpbWVvdXRXaXRoQ29udGV4dCBhcyBzZXRUaW1lb3V0IH07XG5mdW5jdGlvbiBzZXRUaW1lb3V0V2l0aENvbnRleHQoY2FsbGJhY2s6ICgpID0+IGFueSwgZGVsYXk6IG51bWJlcikge1xuICByZXR1cm4gc2V0VGltZW91dChiaW5kKGNhbGxiYWNrKSwgZGVsYXkpO1xufVxuXG4vLyBUdXJuIGFueSBnZW5lcmF0b3IgZnVuY3Rpb24gaW50byBhbiBhc3luYyBmdW5jdGlvbiAodXNpbmcgeWllbGQgaW5zdGVhZFxuLy8gb2YgYXdhaXQpLCB3aXRoIGNvbnRleHQgYXV0b21hdGljYWxseSBwcmVzZXJ2ZWQgYWNyb3NzIHlpZWxkcy5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY0Zyb21HZW48VEFyZ3MgZXh0ZW5kcyBhbnlbXSwgVFJlc3VsdD4oXG4gIGdlbkZuOiAoLi4uYXJnczogVEFyZ3MpID0+IEl0ZXJhYmxlSXRlcmF0b3I8VFJlc3VsdD4sXG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnkpIHtcbiAgICBjb25zdCBnZW4gPSBnZW5Gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMgYXMgYW55KTtcbiAgICBjb25zdCBib3VuZE5leHQgPSBiaW5kKGdlbi5uZXh0KTtcbiAgICBjb25zdCBib3VuZFRocm93ID0gYmluZChnZW4udGhyb3chKTtcbiAgICB0eXBlIE1ldGhvZCA9IHR5cGVvZiBib3VuZE5leHQgfCB0eXBlb2YgYm91bmRUaHJvdztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxUUmVzdWx0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kOiBNZXRob2QsIGFyZ3VtZW50OiBhbnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbWV0aG9kLmNhbGwoZ2VuLCBhcmd1bWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IHJlc3VsdC5kb25lID8gcmVzb2x2ZSA6IGludm9rZU5leHQ7XG4gICAgICAgIGlmIChpc1Byb21pc2VMaWtlKHJlc3VsdC52YWx1ZSkpIHtcbiAgICAgICAgICByZXN1bHQudmFsdWUudGhlbihuZXh0LCByZXN1bHQuZG9uZSA/IHJlamVjdCA6IGludm9rZVRocm93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGludm9rZU5leHQgPSAodmFsdWU/OiBhbnkpID0+IGludm9rZShib3VuZE5leHQsIHZhbHVlKTtcbiAgICAgIGNvbnN0IGludm9rZVRocm93ID0gKGVycm9yOiBhbnkpID0+IGludm9rZShib3VuZFRocm93LCBlcnJvcik7XG4gICAgICBpbnZva2VOZXh0KCk7XG4gICAgfSk7XG4gIH0gYXMgKC4uLmFyZ3M6IFRBcmdzKSA9PiBQcm9taXNlPFRSZXN1bHQ+O1xufVxuXG5mdW5jdGlvbiBpc1Byb21pc2VMaWtlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlTGlrZTxhbnk+IHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8vIElmIHlvdSB1c2UgdGhlIGZpYmVycyBucG0gcGFja2FnZSB0byBpbXBsZW1lbnQgY29yb3V0aW5lcyBpbiBOb2RlLmpzLFxuLy8geW91IHNob3VsZCBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgbGVhc3Qgb25jZSB0byBlbnN1cmUgY29udGV4dCBtYW5hZ2VtZW50XG4vLyByZW1haW5zIGNvaGVyZW50IGFjcm9zcyBhbnkgeWllbGRzLlxuY29uc3Qgd3JhcHBlZEZpYmVyczogRnVuY3Rpb25bXSA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBZaWVsZGluZ0ZpYmVyTWV0aG9kczxGIGV4dGVuZHMgRnVuY3Rpb24+KEZpYmVyOiBGKTogRiB7XG4gIC8vIFRoZXJlIGNhbiBiZSBvbmx5IG9uZSBpbXBsZW1lbnRhdGlvbiBvZiBGaWJlciBwZXIgcHJvY2Vzcywgc28gdGhpcyBhcnJheVxuICAvLyBzaG91bGQgbmV2ZXIgZ3JvdyBsb25nZXIgdGhhbiBvbmUgZWxlbWVudC5cbiAgaWYgKHdyYXBwZWRGaWJlcnMuaW5kZXhPZihGaWJlcikgPCAwKSB7XG4gICAgY29uc3Qgd3JhcCA9IChvYmo6IGFueSwgbWV0aG9kOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGZuID0gb2JqW21ldGhvZF07XG4gICAgICBvYmpbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5vQ29udGV4dChmbiwgYXJndW1lbnRzIGFzIGFueSwgdGhpcyk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBUaGVzZSBtZXRob2RzIGNhbiB5aWVsZCwgYWNjb3JkaW5nIHRvXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xhdmVyZGV0L25vZGUtZmliZXJzL2Jsb2IvZGRlYmVkOWI4YWUzODgzZTU3ZjgyMmUyMTA4ZTY5NDNlNWM4ZDJhOC9maWJlcnMuanMjTDk3LUwxMDBcbiAgICB3cmFwKEZpYmVyLCBcInlpZWxkXCIpO1xuICAgIHdyYXAoRmliZXIucHJvdG90eXBlLCBcInJ1blwiKTtcbiAgICB3cmFwKEZpYmVyLnByb3RvdHlwZSwgXCJ0aHJvd0ludG9cIik7XG4gICAgd3JhcHBlZEZpYmVycy5wdXNoKEZpYmVyKTtcbiAgfVxuICByZXR1cm4gRmliZXI7XG59XG4iLCJpbnRlcmZhY2UgTm9kZTxLLCBWPiB7XG4gIGtleTogSztcbiAgdmFsdWU6IFY7XG4gIG5ld2VyOiBOb2RlPEssIFY+IHwgbnVsbDtcbiAgb2xkZXI6IE5vZGU8SywgVj4gfCBudWxsO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0RGlzcG9zZSgpIHt9XG5cbmV4cG9ydCBjbGFzcyBDYWNoZTxLID0gYW55LCBWID0gYW55PiB7XG4gIHByaXZhdGUgbWFwID0gbmV3IE1hcDxLLCBOb2RlPEssIFY+PigpO1xuICBwcml2YXRlIG5ld2VzdDogTm9kZTxLLCBWPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9sZGVzdDogTm9kZTxLLCBWPiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbWF4ID0gSW5maW5pdHksXG4gICAgcHVibGljIGRpc3Bvc2U6ICh2YWx1ZTogViwga2V5OiBLKSA9PiB2b2lkID0gZGVmYXVsdERpc3Bvc2UsXG4gICkge31cblxuICBwdWJsaWMgaGFzKGtleTogSykge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXMoa2V5KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQoa2V5OiBLKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmdldEVudHJ5KGtleSk7XG4gICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5LnZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRFbnRyeShrZXk6IEspOiBOb2RlPEssIFY+IHwgdm9pZCB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm1hcC5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSAmJiBlbnRyeSAhPT0gdGhpcy5uZXdlc3QpIHtcbiAgICAgIGNvbnN0IHsgb2xkZXIsIG5ld2VyIH0gPSBlbnRyeTtcblxuICAgICAgaWYgKG5ld2VyKSB7XG4gICAgICAgIG5ld2VyLm9sZGVyID0gb2xkZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbGRlcikge1xuICAgICAgICBvbGRlci5uZXdlciA9IG5ld2VyO1xuICAgICAgfVxuXG4gICAgICBlbnRyeS5vbGRlciA9IHRoaXMubmV3ZXN0O1xuICAgICAgZW50cnkub2xkZXIhLm5ld2VyID0gZW50cnk7XG5cbiAgICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcbiAgICAgIHRoaXMubmV3ZXN0ID0gZW50cnk7XG5cbiAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3QpIHtcbiAgICAgICAgdGhpcy5vbGRlc3QgPSBuZXdlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZW50cnk7XG4gIH1cblxuICBwdWJsaWMgc2V0KGtleTogSywgdmFsdWU6IFYpIHtcbiAgICBsZXQgZW50cnkgPSB0aGlzLmdldEVudHJ5KGtleSk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICByZXR1cm4gZW50cnkudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBlbnRyeSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbmV3ZXI6IG51bGwsXG4gICAgICBvbGRlcjogdGhpcy5uZXdlc3RcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMubmV3ZXN0KSB7XG4gICAgICB0aGlzLm5ld2VzdC5uZXdlciA9IGVudHJ5O1xuICAgIH1cblxuICAgIHRoaXMubmV3ZXN0ID0gZW50cnk7XG4gICAgdGhpcy5vbGRlc3QgPSB0aGlzLm9sZGVzdCB8fCBlbnRyeTtcblxuICAgIHRoaXMubWFwLnNldChrZXksIGVudHJ5KTtcblxuICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhbigpIHtcbiAgICB3aGlsZSAodGhpcy5vbGRlc3QgJiYgdGhpcy5tYXAuc2l6ZSA+IHRoaXMubWF4KSB7XG4gICAgICB0aGlzLmRlbGV0ZSh0aGlzLm9sZGVzdC5rZXkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoa2V5OiBLKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3QpIHtcbiAgICAgICAgdGhpcy5uZXdlc3QgPSBlbnRyeS5vbGRlcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdCkge1xuICAgICAgICB0aGlzLm9sZGVzdCA9IGVudHJ5Lm5ld2VyO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW50cnkubmV3ZXIpIHtcbiAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5Lm9sZGVyKSB7XG4gICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xuICAgICAgdGhpcy5kaXNwb3NlKGVudHJ5LnZhbHVlLCBrZXkpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFueUVudHJ5IH0gZnJvbSBcIi4vZW50cnlcIjtcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHdyeS9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCBwYXJlbnRFbnRyeVNsb3QgPSBuZXcgU2xvdDxBbnlFbnRyeT4oKTtcblxuZXhwb3J0IHtcbiAgYmluZCBhcyBiaW5kQ29udGV4dCxcbiAgbm9Db250ZXh0LFxuICBzZXRUaW1lb3V0LFxuICBhc3luY0Zyb21HZW4sXG59IGZyb20gXCJAd3J5L2NvbnRleHRcIjtcbiIsImltcG9ydCB7IHBhcmVudEVudHJ5U2xvdCB9IGZyb20gXCIuL2NvbnRleHRcIjtcbmltcG9ydCB7IE9wdGltaXN0aWNXcmFwT3B0aW9ucyB9IGZyb20gXCIuL2luZGV4XCI7XG5cbmNvbnN0IHJldXNhYmxlRW1wdHlBcnJheTogQW55RW50cnlbXSA9IFtdO1xuY29uc3QgZW1wdHlTZXRQb29sOiBTZXQ8QW55RW50cnk+W10gPSBbXTtcbmNvbnN0IFBPT0xfVEFSR0VUX1NJWkUgPSAxMDA7XG5cbi8vIFNpbmNlIHRoaXMgcGFja2FnZSBtaWdodCBiZSB1c2VkIGJyb3dzZXJzLCB3ZSBzaG91bGQgYXZvaWQgdXNpbmcgdGhlXG4vLyBOb2RlIGJ1aWx0LWluIGFzc2VydCBtb2R1bGUuXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uOiBhbnksIG9wdGlvbmFsTWVzc2FnZT86IHN0cmluZykge1xuICBpZiAoISBjb25kaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3Iob3B0aW9uYWxNZXNzYWdlIHx8IFwiYXNzZXJ0aW9uIGZhaWx1cmVcIik7XG4gIH1cbn1cblxuLy8gU2luY2UgZXhjZXB0aW9ucyBhcmUgY2FjaGVkIGp1c3QgbGlrZSBub3JtYWwgdmFsdWVzLCB3ZSBuZWVkIGFuIGVmZmljaWVudFxuLy8gd2F5IG9mIHJlcHJlc2VudGluZyB1bmtub3duLCBvcmRpbmFyeSwgYW5kIGV4Y2VwdGlvbmFsIHZhbHVlcy5cbnR5cGUgVmFsdWU8VD4gPVxuICB8IFtdICAgICAgICAgICAvLyB1bmtub3duXG4gIHwgW1RdICAgICAgICAgIC8vIGtub3duIHZhbHVlXG4gIHwgW3ZvaWQsIGFueV07IC8vIGtub3duIGV4Y2VwdGlvblxuXG5mdW5jdGlvbiB2YWx1ZUlzKGE6IFZhbHVlPGFueT4sIGI6IFZhbHVlPGFueT4pIHtcbiAgY29uc3QgbGVuID0gYS5sZW5ndGg7XG4gIHJldHVybiAoXG4gICAgLy8gVW5rbm93biB2YWx1ZXMgYXJlIG5vdCBlcXVhbCB0byBlYWNoIG90aGVyLlxuICAgIGxlbiA+IDAgJiZcbiAgICAvLyBCb3RoIHZhbHVlcyBtdXN0IGJlIG9yZGluYXJ5IChvciBib3RoIGV4Y2VwdGlvbmFsKSB0byBiZSBlcXVhbC5cbiAgICBsZW4gPT09IGIubGVuZ3RoICYmXG4gICAgLy8gVGhlIHVuZGVybHlpbmcgdmFsdWUgb3IgZXhjZXB0aW9uIG11c3QgYmUgdGhlIHNhbWUuXG4gICAgYVtsZW4gLSAxXSA9PT0gYltsZW4gLSAxXVxuICApO1xufVxuXG5mdW5jdGlvbiB2YWx1ZUdldDxUPih2YWx1ZTogVmFsdWU8VD4pOiBUIHtcbiAgc3dpdGNoICh2YWx1ZS5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHRocm93IG5ldyBFcnJvcihcInVua25vd24gdmFsdWVcIik7XG4gICAgY2FzZSAxOiByZXR1cm4gdmFsdWVbMF07XG4gICAgY2FzZSAyOiB0aHJvdyB2YWx1ZVsxXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWx1ZUNvcHk8VD4odmFsdWU6IFZhbHVlPFQ+KTogVmFsdWU8VD4ge1xuICByZXR1cm4gdmFsdWUuc2xpY2UoMCkgYXMgVmFsdWU8VD47XG59XG5cbmV4cG9ydCB0eXBlIEFueUVudHJ5ID0gRW50cnk8YW55LCBhbnk+O1xuXG5leHBvcnQgY2xhc3MgRW50cnk8VEFyZ3MgZXh0ZW5kcyBhbnlbXSwgVFZhbHVlPiB7XG4gIHB1YmxpYyBzdGF0aWMgY291bnQgPSAwO1xuXG4gIHB1YmxpYyBzdWJzY3JpYmU6IE9wdGltaXN0aWNXcmFwT3B0aW9uczxUQXJncz5bXCJzdWJzY3JpYmVcIl07XG4gIHB1YmxpYyB1bnN1YnNjcmliZT86ICgpID0+IGFueTtcbiAgcHVibGljIHJlcG9ydE9ycGhhbj86ICh0aGlzOiBFbnRyeTxUQXJncywgVFZhbHVlPikgPT4gYW55O1xuXG4gIHB1YmxpYyByZWFkb25seSBwYXJlbnRzID0gbmV3IFNldDxBbnlFbnRyeT4oKTtcbiAgcHVibGljIHJlYWRvbmx5IGNoaWxkVmFsdWVzID0gbmV3IE1hcDxBbnlFbnRyeSwgVmFsdWU8YW55Pj4oKTtcblxuICAvLyBXaGVuIHRoaXMgRW50cnkgaGFzIGNoaWxkcmVuIHRoYXQgYXJlIGRpcnR5LCB0aGlzIHByb3BlcnR5IGJlY29tZXNcbiAgLy8gYSBTZXQgY29udGFpbmluZyBvdGhlciBFbnRyeSBvYmplY3RzLCBib3Jyb3dlZCBmcm9tIGVtcHR5U2V0UG9vbC5cbiAgLy8gV2hlbiB0aGUgc2V0IGJlY29tZXMgZW1wdHksIGl0IGdldHMgcmVjeWNsZWQgYmFjayB0byBlbXB0eVNldFBvb2wuXG4gIHB1YmxpYyBkaXJ0eUNoaWxkcmVuOiBTZXQ8QW55RW50cnk+IHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIGRpcnR5ID0gdHJ1ZTtcbiAgcHVibGljIHJlY29tcHV0aW5nID0gZmFsc2U7XG4gIHB1YmxpYyByZWFkb25seSB2YWx1ZTogVmFsdWU8VFZhbHVlPiA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbjogKC4uLmFyZ3M6IFRBcmdzKSA9PiBUVmFsdWUsXG4gICAgcHVibGljIGFyZ3M6IFRBcmdzLFxuICApIHtcbiAgICArK0VudHJ5LmNvdW50O1xuICB9XG5cbiAgLy8gVGhpcyBpcyB0aGUgbW9zdCBpbXBvcnRhbnQgbWV0aG9kIG9mIHRoZSBFbnRyeSBBUEksIGJlY2F1c2UgaXRcbiAgLy8gZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjYWNoZWQgdGhpcy52YWx1ZSBjYW4gYmUgcmV0dXJuZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG11c3QgYmUgcmVjb21wdXRlZC4gVGhlIG92ZXJhbGwgcGVyZm9ybWFuY2Ugb2YgdGhlIGNhY2hpbmcgc3lzdGVtXG4gIC8vIGRlcGVuZHMgb24gdGhlIHRydXRoIG9mIHRoZSBmb2xsb3dpbmcgb2JzZXJ2YXRpb25zOiAoMSkgdGhpcy5kaXJ0eSBpc1xuICAvLyB1c3VhbGx5IGZhbHNlLCAoMikgdGhpcy5kaXJ0eUNoaWxkcmVuIGlzIHVzdWFsbHkgbnVsbC9lbXB0eSwgYW5kIHRodXNcbiAgLy8gKDMpIHZhbHVlR2V0KHRoaXMudmFsdWUpIGlzIHVzdWFsbHkgcmV0dXJuZWQgd2l0aG91dCByZWNvbXB1dGF0aW9uLlxuICBwdWJsaWMgcmVjb21wdXRlKCk6IFRWYWx1ZSB7XG4gICAgYXNzZXJ0KCEgdGhpcy5yZWNvbXB1dGluZywgXCJhbHJlYWR5IHJlY29tcHV0aW5nXCIpO1xuXG4gICAgaWYgKCEgcmVtZW1iZXJQYXJlbnQodGhpcykgJiYgbWF5YmVSZXBvcnRPcnBoYW4odGhpcykpIHtcbiAgICAgIC8vIFRoZSByZWNpcGllbnQgb2YgdGhlIGVudHJ5LnJlcG9ydE9ycGhhbiBjYWxsYmFjayBkZWNpZGVkIHRvIGRpc3Bvc2VcbiAgICAgIC8vIG9mIHRoaXMgb3JwaGFuIGVudHJ5IGJ5IGNhbGxpbmcgZW50cnkuZGlzcG9zZSgpLCBzbyB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAvLyAoYW5kIHNob3VsZCBub3QpIHByb2NlZWQgd2l0aCB0aGUgcmVjb21wdXRhdGlvbi5cbiAgICAgIHJldHVybiB2b2lkIDAgYXMgYW55O1xuICAgIH1cblxuICAgIHJldHVybiBtaWdodEJlRGlydHkodGhpcylcbiAgICAgID8gcmVhbGx5UmVjb21wdXRlKHRoaXMpXG4gICAgICA6IHZhbHVlR2V0KHRoaXMudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIHNldERpcnR5KCkge1xuICAgIGlmICh0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy52YWx1ZS5sZW5ndGggPSAwO1xuICAgIHJlcG9ydERpcnR5KHRoaXMpO1xuICAgIC8vIFdlIGNhbiBnbyBhaGVhZCBhbmQgdW5zdWJzY3JpYmUgaGVyZSwgc2luY2UgYW55IGZ1cnRoZXIgZGlydHlcbiAgICAvLyBub3RpZmljYXRpb25zIHdlIHJlY2VpdmUgd2lsbCBiZSByZWR1bmRhbnQsIGFuZCB1bnN1YnNjcmliaW5nIG1heVxuICAgIC8vIGZyZWUgdXAgc29tZSByZXNvdXJjZXMsIGUuZy4gZmlsZSB3YXRjaGVycy5cbiAgICBtYXliZVVuc3Vic2NyaWJlKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgZm9yZ2V0Q2hpbGRyZW4odGhpcykuZm9yRWFjaChtYXliZVJlcG9ydE9ycGhhbik7XG4gICAgbWF5YmVVbnN1YnNjcmliZSh0aGlzKTtcblxuICAgIC8vIEJlY2F1c2UgdGhpcyBlbnRyeSBoYXMgYmVlbiBraWNrZWQgb3V0IG9mIHRoZSBjYWNoZSAoaW4gaW5kZXguanMpLFxuICAgIC8vIHdlJ3ZlIGxvc3QgdGhlIGFiaWxpdHkgdG8gZmluZCBvdXQgaWYvd2hlbiB0aGlzIGVudHJ5IGJlY29tZXMgZGlydHksXG4gICAgLy8gd2hldGhlciB0aGF0IGhhcHBlbnMgdGhyb3VnaCBhIHN1YnNjcmlwdGlvbiwgYmVjYXVzZSBvZiBhIGRpcmVjdCBjYWxsXG4gICAgLy8gdG8gZW50cnkuc2V0RGlydHkoKSwgb3IgYmVjYXVzZSBvbmUgb2YgaXRzIGNoaWxkcmVuIGJlY29tZXMgZGlydHkuXG4gICAgLy8gQmVjYXVzZSBvZiB0aGlzIGxvc3Mgb2YgZnV0dXJlIGluZm9ybWF0aW9uLCB3ZSBoYXZlIHRvIGFzc3VtZSB0aGVcbiAgICAvLyB3b3JzdCAodGhhdCB0aGlzIGVudHJ5IG1pZ2h0IGhhdmUgYmVjb21lIGRpcnR5IHZlcnkgc29vbiksIHNvIHdlIG11c3RcbiAgICAvLyBpbW1lZGlhdGVseSBtYXJrIHRoaXMgZW50cnkncyBwYXJlbnRzIGFzIGRpcnR5LiBOb3JtYWxseSB3ZSBjb3VsZFxuICAgIC8vIGp1c3QgY2FsbCBlbnRyeS5zZXREaXJ0eSgpIHJhdGhlciB0aGFuIGNhbGxpbmcgcGFyZW50LnNldERpcnR5KCkgZm9yXG4gICAgLy8gZWFjaCBwYXJlbnQsIGJ1dCB0aGF0IHdvdWxkIGxlYXZlIHRoaXMgZW50cnkgaW4gcGFyZW50LmNoaWxkVmFsdWVzXG4gICAgLy8gYW5kIHBhcmVudC5kaXJ0eUNoaWxkcmVuLCB3aGljaCB3b3VsZCBwcmV2ZW50IHRoZSBjaGlsZCBmcm9tIGJlaW5nXG4gICAgLy8gdHJ1bHkgZm9yZ290dGVuLlxuICAgIHRoaXMucGFyZW50cy5mb3JFYWNoKHBhcmVudCA9PiB7XG4gICAgICBwYXJlbnQuc2V0RGlydHkoKTtcbiAgICAgIGZvcmdldENoaWxkKHBhcmVudCwgdGhpcyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtZW1iZXJQYXJlbnQoY2hpbGQ6IEFueUVudHJ5KSB7XG4gIGNvbnN0IHBhcmVudCA9IHBhcmVudEVudHJ5U2xvdC5nZXRWYWx1ZSgpO1xuICBpZiAocGFyZW50KSB7XG4gICAgY2hpbGQucGFyZW50cy5hZGQocGFyZW50KTtcblxuICAgIGlmICghIHBhcmVudC5jaGlsZFZhbHVlcy5oYXMoY2hpbGQpKSB7XG4gICAgICBwYXJlbnQuY2hpbGRWYWx1ZXMuc2V0KGNoaWxkLCBbXSk7XG4gICAgfVxuXG4gICAgaWYgKG1pZ2h0QmVEaXJ0eShjaGlsZCkpIHtcbiAgICAgIHJlcG9ydERpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcG9ydENsZWFuQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFsbHlSZWNvbXB1dGUoZW50cnk6IEFueUVudHJ5KSB7XG4gIC8vIFNpbmNlIHRoaXMgcmVjb21wdXRhdGlvbiBpcyBsaWtlbHkgdG8gcmUtcmVtZW1iZXIgc29tZSBvZiB0aGlzXG4gIC8vIGVudHJ5J3MgY2hpbGRyZW4sIHdlIGZvcmdldCBvdXIgY2hpbGRyZW4gaGVyZSBidXQgZG8gbm90IGNhbGxcbiAgLy8gbWF5YmVSZXBvcnRPcnBoYW4gdW50aWwgYWZ0ZXIgdGhlIHJlY29tcHV0YXRpb24gZmluaXNoZXMuXG4gIGNvbnN0IG9yaWdpbmFsQ2hpbGRyZW4gPSBmb3JnZXRDaGlsZHJlbihlbnRyeSk7XG5cbiAgLy8gU2V0IGVudHJ5IGFzIHRoZSBwYXJlbnQgZW50cnkgd2hpbGUgY2FsbGluZyByZWNvbXB1dGVOZXdWYWx1ZShlbnRyeSkuXG4gIHBhcmVudEVudHJ5U2xvdC53aXRoVmFsdWUoZW50cnksIHJlY29tcHV0ZU5ld1ZhbHVlLCBbZW50cnldKTtcblxuICBpZiAobWF5YmVTdWJzY3JpYmUoZW50cnkpKSB7XG4gICAgLy8gSWYgd2Ugc3VjY2Vzc2Z1bGx5IHJlY29tcHV0ZWQgZW50cnkudmFsdWUgYW5kIGRpZCBub3QgZmFpbCB0b1xuICAgIC8vIChyZSlzdWJzY3JpYmUsIHRoZW4gdGhpcyBFbnRyeSBpcyBubyBsb25nZXIgZXhwbGljaXRseSBkaXJ0eS5cbiAgICBzZXRDbGVhbihlbnRyeSk7XG4gIH1cblxuICAvLyBOb3cgdGhhdCB3ZSd2ZSBoYWQgYSBjaGFuY2UgdG8gcmUtcmVtZW1iZXIgYW55IGNoaWxkcmVuIHRoYXQgd2VyZVxuICAvLyBpbnZvbHZlZCBpbiB0aGUgcmVjb21wdXRhdGlvbiwgd2UgY2FuIHNhZmVseSByZXBvcnQgYW55IG9ycGhhblxuICAvLyBjaGlsZHJlbiB0aGF0IHJlbWFpbi5cbiAgb3JpZ2luYWxDaGlsZHJlbi5mb3JFYWNoKG1heWJlUmVwb3J0T3JwaGFuKTtcblxuICByZXR1cm4gdmFsdWVHZXQoZW50cnkudmFsdWUpO1xufVxuXG5mdW5jdGlvbiByZWNvbXB1dGVOZXdWYWx1ZShlbnRyeTogQW55RW50cnkpIHtcbiAgZW50cnkucmVjb21wdXRpbmcgPSB0cnVlO1xuICAvLyBTZXQgZW50cnkudmFsdWUgYXMgdW5rbm93bi5cbiAgZW50cnkudmFsdWUubGVuZ3RoID0gMDtcbiAgdHJ5IHtcbiAgICAvLyBJZiBlbnRyeS5mbiBzdWNjZWVkcywgZW50cnkudmFsdWUgd2lsbCBiZWNvbWUgYSBub3JtYWwgVmFsdWUuXG4gICAgZW50cnkudmFsdWVbMF0gPSBlbnRyeS5mbi5hcHBseShudWxsLCBlbnRyeS5hcmdzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElmIGVudHJ5LmZuIHRocm93cywgZW50cnkudmFsdWUgd2lsbCBiZWNvbWUgZXhjZXB0aW9uYWwuXG4gICAgZW50cnkudmFsdWVbMV0gPSBlO1xuICB9XG4gIC8vIEVpdGhlciB3YXksIHRoaXMgbGluZSBpcyBhbHdheXMgcmVhY2hlZC5cbiAgZW50cnkucmVjb21wdXRpbmcgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbWlnaHRCZURpcnR5KGVudHJ5OiBBbnlFbnRyeSkge1xuICByZXR1cm4gZW50cnkuZGlydHkgfHwgISEoZW50cnkuZGlydHlDaGlsZHJlbiAmJiBlbnRyeS5kaXJ0eUNoaWxkcmVuLnNpemUpO1xufVxuXG5mdW5jdGlvbiBzZXRDbGVhbihlbnRyeTogQW55RW50cnkpIHtcbiAgZW50cnkuZGlydHkgPSBmYWxzZTtcblxuICBpZiAobWlnaHRCZURpcnR5KGVudHJ5KSkge1xuICAgIC8vIFRoaXMgRW50cnkgbWF5IHN0aWxsIGhhdmUgZGlydHkgY2hpbGRyZW4sIGluIHdoaWNoIGNhc2Ugd2UgY2FuJ3RcbiAgICAvLyBsZXQgb3VyIHBhcmVudHMga25vdyB3ZSdyZSBjbGVhbiBqdXN0IHlldC5cbiAgICByZXR1cm47XG4gIH1cblxuICByZXBvcnRDbGVhbihlbnRyeSk7XG59XG5cbmZ1bmN0aW9uIHJlcG9ydERpcnR5KGNoaWxkOiBBbnlFbnRyeSkge1xuICBjaGlsZC5wYXJlbnRzLmZvckVhY2gocGFyZW50ID0+IHJlcG9ydERpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCkpO1xufVxuXG5mdW5jdGlvbiByZXBvcnRDbGVhbihjaGlsZDogQW55RW50cnkpIHtcbiAgY2hpbGQucGFyZW50cy5mb3JFYWNoKHBhcmVudCA9PiByZXBvcnRDbGVhbkNoaWxkKHBhcmVudCwgY2hpbGQpKTtcbn1cblxuLy8gTGV0IGEgcGFyZW50IEVudHJ5IGtub3cgdGhhdCBvbmUgb2YgaXRzIGNoaWxkcmVuIG1heSBiZSBkaXJ0eS5cbmZ1bmN0aW9uIHJlcG9ydERpcnR5Q2hpbGQocGFyZW50OiBBbnlFbnRyeSwgY2hpbGQ6IEFueUVudHJ5KSB7XG4gIC8vIE11c3QgaGF2ZSBjYWxsZWQgcmVtZW1iZXJQYXJlbnQoY2hpbGQpIGJlZm9yZSBjYWxsaW5nXG4gIC8vIHJlcG9ydERpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCkuXG4gIGFzc2VydChwYXJlbnQuY2hpbGRWYWx1ZXMuaGFzKGNoaWxkKSk7XG4gIGFzc2VydChtaWdodEJlRGlydHkoY2hpbGQpKTtcblxuICBpZiAoISBwYXJlbnQuZGlydHlDaGlsZHJlbikge1xuICAgIHBhcmVudC5kaXJ0eUNoaWxkcmVuID0gZW1wdHlTZXRQb29sLnBvcCgpIHx8IG5ldyBTZXQ7XG5cbiAgfSBlbHNlIGlmIChwYXJlbnQuZGlydHlDaGlsZHJlbi5oYXMoY2hpbGQpKSB7XG4gICAgLy8gSWYgd2UgYWxyZWFkeSBrbm93IHRoaXMgY2hpbGQgaXMgZGlydHksIHRoZW4gd2UgbXVzdCBoYXZlIGFscmVhZHlcbiAgICAvLyBpbmZvcm1lZCBvdXIgb3duIHBhcmVudHMgdGhhdCB3ZSBhcmUgZGlydHksIHNvIHdlIGNhbiB0ZXJtaW5hdGVcbiAgICAvLyB0aGUgcmVjdXJzaW9uIGVhcmx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHBhcmVudC5kaXJ0eUNoaWxkcmVuLmFkZChjaGlsZCk7XG4gIHJlcG9ydERpcnR5KHBhcmVudCk7XG59XG5cbi8vIExldCBhIHBhcmVudCBFbnRyeSBrbm93IHRoYXQgb25lIG9mIGl0cyBjaGlsZHJlbiBpcyBubyBsb25nZXIgZGlydHkuXG5mdW5jdGlvbiByZXBvcnRDbGVhbkNoaWxkKHBhcmVudDogQW55RW50cnksIGNoaWxkOiBBbnlFbnRyeSkge1xuICAvLyBNdXN0IGhhdmUgY2FsbGVkIHJlbWVtYmVyQ2hpbGQoY2hpbGQpIGJlZm9yZSBjYWxsaW5nXG4gIC8vIHJlcG9ydENsZWFuQ2hpbGQocGFyZW50LCBjaGlsZCkuXG4gIGFzc2VydChwYXJlbnQuY2hpbGRWYWx1ZXMuaGFzKGNoaWxkKSk7XG4gIGFzc2VydCghIG1pZ2h0QmVEaXJ0eShjaGlsZCkpO1xuXG4gIGNvbnN0IGNoaWxkVmFsdWUgPSBwYXJlbnQuY2hpbGRWYWx1ZXMuZ2V0KGNoaWxkKSE7XG4gIGlmIChjaGlsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHBhcmVudC5jaGlsZFZhbHVlcy5zZXQoY2hpbGQsIHZhbHVlQ29weShjaGlsZC52YWx1ZSkpO1xuICB9IGVsc2UgaWYgKCEgdmFsdWVJcyhjaGlsZFZhbHVlLCBjaGlsZC52YWx1ZSkpIHtcbiAgICBwYXJlbnQuc2V0RGlydHkoKTtcbiAgfVxuXG4gIHJlbW92ZURpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7XG5cbiAgaWYgKG1pZ2h0QmVEaXJ0eShwYXJlbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVwb3J0Q2xlYW4ocGFyZW50KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRGlydHlDaGlsZChwYXJlbnQ6IEFueUVudHJ5LCBjaGlsZDogQW55RW50cnkpIHtcbiAgY29uc3QgZGMgPSBwYXJlbnQuZGlydHlDaGlsZHJlbjtcbiAgaWYgKGRjKSB7XG4gICAgZGMuZGVsZXRlKGNoaWxkKTtcbiAgICBpZiAoZGMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKGVtcHR5U2V0UG9vbC5sZW5ndGggPCBQT09MX1RBUkdFVF9TSVpFKSB7XG4gICAgICAgIGVtcHR5U2V0UG9vbC5wdXNoKGRjKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5kaXJ0eUNoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLy8gSWYgdGhlIGdpdmVuIGVudHJ5IGhhcyBhIHJlcG9ydE9ycGhhbiBtZXRob2QsIGFuZCBubyByZW1haW5pbmcgcGFyZW50cyxcbi8vIGNhbGwgZW50cnkucmVwb3J0T3JwaGFuIGFuZCByZXR1cm4gdHJ1ZSBpZmYgaXQgcmV0dXJucyB0cnVlLiBUaGVcbi8vIHJlcG9ydE9ycGhhbiBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgZW50cnkuZGlzcG9zZSgpXG4vLyBoYXMgYmVlbiBjYWxsZWQsIGFuZCB0aGUgZW50cnkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGFueSBvdGhlciBjYWNoZXNcbi8vIChzZWUgaW5kZXguanMgZm9yIHRoZSBvbmx5IGN1cnJlbnQgZXhhbXBsZSkuXG5mdW5jdGlvbiBtYXliZVJlcG9ydE9ycGhhbihlbnRyeTogQW55RW50cnkpIHtcbiAgcmV0dXJuIGVudHJ5LnBhcmVudHMuc2l6ZSA9PT0gMCAmJlxuICAgIHR5cGVvZiBlbnRyeS5yZXBvcnRPcnBoYW4gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIGVudHJ5LnJlcG9ydE9ycGhhbigpID09PSB0cnVlO1xufVxuXG4vLyBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgZW50cnkgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlXG4vLyByZW1vdmVkIGNoaWxkcmVuLlxuZnVuY3Rpb24gZm9yZ2V0Q2hpbGRyZW4ocGFyZW50OiBBbnlFbnRyeSkge1xuICBsZXQgY2hpbGRyZW4gPSByZXVzYWJsZUVtcHR5QXJyYXk7XG5cbiAgaWYgKHBhcmVudC5jaGlsZFZhbHVlcy5zaXplID4gMCkge1xuICAgIGNoaWxkcmVuID0gW107XG4gICAgcGFyZW50LmNoaWxkVmFsdWVzLmZvckVhY2goKF92YWx1ZSwgY2hpbGQpID0+IHtcbiAgICAgIGZvcmdldENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZnRlciB3ZSBmb3JnZXQgYWxsIG91ciBjaGlsZHJlbiwgdGhpcy5kaXJ0eUNoaWxkcmVuIG11c3QgYmUgZW1wdHlcbiAgLy8gYW5kIHRoZXJlZm9yZSBtdXN0IGhhdmUgYmVlbiByZXNldCB0byBudWxsLlxuICBhc3NlcnQocGFyZW50LmRpcnR5Q2hpbGRyZW4gPT09IG51bGwpO1xuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gZm9yZ2V0Q2hpbGQocGFyZW50OiBBbnlFbnRyeSwgY2hpbGQ6IEFueUVudHJ5KSB7XG4gIGNoaWxkLnBhcmVudHMuZGVsZXRlKHBhcmVudCk7XG4gIHBhcmVudC5jaGlsZFZhbHVlcy5kZWxldGUoY2hpbGQpO1xuICByZW1vdmVEaXJ0eUNoaWxkKHBhcmVudCwgY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBtYXliZVN1YnNjcmliZShlbnRyeTogQW55RW50cnkpIHtcbiAgaWYgKHR5cGVvZiBlbnRyeS5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRyeSB7XG4gICAgICBtYXliZVVuc3Vic2NyaWJlKGVudHJ5KTsgLy8gUHJldmVudCBkb3VibGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgIGVudHJ5LnVuc3Vic2NyaWJlID0gZW50cnkuc3Vic2NyaWJlLmFwcGx5KG51bGwsIGVudHJ5LmFyZ3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoaXMgRW50cnkgaGFzIGEgc3Vic2NyaWJlIGZ1bmN0aW9uIGFuZCBpdCB0aHJldyBhbiBleGNlcHRpb25cbiAgICAgIC8vIChvciBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiBpdCBwcmV2aW91c2x5IHJldHVybmVkIG5vdyB0aHJvd3MpLFxuICAgICAgLy8gcmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHRoYXQgd2Ugd2VyZSBub3QgYWJsZSB0byBzdWJzY3JpYmUgKG9yXG4gICAgICAvLyB1bnN1YnNjcmliZSksIGFuZCB0aGlzIEVudHJ5IHNob3VsZCByZW1haW4gZGlydHkuXG4gICAgICBlbnRyeS5zZXREaXJ0eSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybmluZyB0cnVlIGluZGljYXRlcyBlaXRoZXIgdGhhdCB0aGVyZSB3YXMgbm8gZW50cnkuc3Vic2NyaWJlXG4gIC8vIGZ1bmN0aW9uIG9yIHRoYXQgaXQgc3VjY2VlZGVkLlxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbWF5YmVVbnN1YnNjcmliZShlbnRyeTogQW55RW50cnkpIHtcbiAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gZW50cnk7XG4gIGlmICh0eXBlb2YgdW5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGVudHJ5LnVuc3Vic2NyaWJlID0gdm9pZCAwO1xuICAgIHVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbiIsIi8vIEEgdHJpZSBkYXRhIHN0cnVjdHVyZSB0aGF0IGhvbGRzIG9iamVjdCBrZXlzIHdlYWtseSwgeWV0IGNhbiBhbHNvIGhvbGRcbi8vIG5vbi1vYmplY3Qga2V5cywgdW5saWtlIHRoZSBuYXRpdmUgYFdlYWtNYXBgLlxuZXhwb3J0IGNsYXNzIEtleVRyaWU8Sz4ge1xuICAvLyBTaW5jZSBhIGBXZWFrTWFwYCBjYW5ub3QgaG9sZCBwcmltaXRpdmUgdmFsdWVzIGFzIGtleXMsIHdlIG5lZWQgYVxuICAvLyBiYWNrdXAgYE1hcGAgaW5zdGFuY2UgdG8gaG9sZCBwcmltaXRpdmUga2V5cy4gQm90aCBgdGhpcy5fd2Vha01hcGBcbiAgLy8gYW5kIGB0aGlzLl9zdHJvbmdNYXBgIGFyZSBsYXppbHkgaW5pdGlhbGl6ZWQuXG4gIHByaXZhdGUgd2Vhaz86IFdlYWtNYXA8YW55LCBLZXlUcmllPEs+PjtcbiAgcHJpdmF0ZSBzdHJvbmc/OiBNYXA8YW55LCBLZXlUcmllPEs+PjtcbiAgcHJpdmF0ZSBkYXRhPzogSztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHdlYWtuZXNzOiBib29sZWFuKSB7fVxuXG4gIHB1YmxpYyBsb29rdXA8VCBleHRlbmRzIGFueVtdPiguLi5hcnJheTogVCk6IEsge1xuICAgIHJldHVybiB0aGlzLmxvb2t1cEFycmF5KGFycmF5KTtcbiAgfVxuXG4gIHB1YmxpYyBsb29rdXBBcnJheTxUIGV4dGVuZHMgYW55W10+KGFycmF5OiBUKTogSyB7XG4gICAgbGV0IG5vZGU6IEtleVRyaWU8Sz4gPSB0aGlzO1xuICAgIGFycmF5LmZvckVhY2goa2V5ID0+IG5vZGUgPSBub2RlLmdldENoaWxkVHJpZShrZXkpKTtcbiAgICByZXR1cm4gbm9kZS5kYXRhIHx8IChub2RlLmRhdGEgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2hpbGRUcmllKGtleTogYW55KSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy53ZWFrbmVzcyAmJiBpc09ialJlZihrZXkpXG4gICAgICA/IHRoaXMud2VhayB8fCAodGhpcy53ZWFrID0gbmV3IFdlYWtNYXA8YW55LCBLZXlUcmllPEs+PigpKVxuICAgICAgOiB0aGlzLnN0cm9uZyB8fCAodGhpcy5zdHJvbmcgPSBuZXcgTWFwPGFueSwgS2V5VHJpZTxLPj4oKSk7XG4gICAgbGV0IGNoaWxkID0gbWFwLmdldChrZXkpO1xuICAgIGlmICghY2hpbGQpIG1hcC5zZXQoa2V5LCBjaGlsZCA9IG5ldyBLZXlUcmllPEs+KHRoaXMud2Vha25lc3MpKTtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNPYmpSZWYodmFsdWU6IGFueSkge1xuICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICBjYXNlIFwib2JqZWN0XCI6XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSBicmVhaztcbiAgICAvLyBGYWxsIHRocm91Z2ggdG8gcmV0dXJuIHRydWUuLi5cbiAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tIFwiLi9jYWNoZVwiO1xuaW1wb3J0IHsgRW50cnksIEFueUVudHJ5IH0gZnJvbSBcIi4vZW50cnlcIjtcbmltcG9ydCB7IHBhcmVudEVudHJ5U2xvdCB9IGZyb20gXCIuL2NvbnRleHRcIjtcbmltcG9ydCB7IEtleVRyaWUgfSBmcm9tIFwiLi9rZXktdHJpZVwiO1xuXG4vLyBUaGVzZSBoZWxwZXIgZnVuY3Rpb25zIGFyZSBpbXBvcnRhbnQgZm9yIG1ha2luZyBvcHRpbWlzbSB3b3JrIHdpdGhcbi8vIGFzeW5jaHJvbm91cyBjb2RlLiBJbiBvcmRlciB0byByZWdpc3RlciBwYXJlbnQtY2hpbGQgZGVwZW5kZW5jaWVzLFxuLy8gb3B0aW1pc20gbmVlZHMgdG8ga25vdyBhYm91dCBhbnkgY3VycmVudGx5IGFjdGl2ZSBwYXJlbnQgY29tcHV0YXRpb25zLlxuLy8gSW4gb3JkaW5hcnkgc3luY2hyb25vdXMgY29kZSwgdGhlIHBhcmVudCBjb250ZXh0IGlzIGltcGxpY2l0IGluIHRoZVxuLy8gZXhlY3V0aW9uIHN0YWNrLCBidXQgYXN5bmNocm9ub3VzIGNvZGUgcmVxdWlyZXMgc29tZSBleHRyYSBndWlkYW5jZSBpblxuLy8gb3JkZXIgdG8gcHJvcGFnYXRlIGNvbnRleHQgZnJvbSBvbmUgYXN5bmMgdGFzayBzZWdtZW50IHRvIHRoZSBuZXh0LlxuZXhwb3J0IHtcbiAgYmluZENvbnRleHQsXG4gIG5vQ29udGV4dCxcbiAgc2V0VGltZW91dCxcbiAgYXN5bmNGcm9tR2VuLFxufSBmcm9tIFwiLi9jb250ZXh0XCI7XG5cbi8vIFNpbmNlIHRoZSBDYWNoZSB1c2VzIGEgTWFwIGludGVybmFsbHksIGFueSB2YWx1ZSBvciBvYmplY3QgcmVmZXJlbmNlIGNhblxuLy8gYmUgc2FmZWx5IHVzZWQgYXMgYSBrZXksIHRob3VnaCBjb21tb24gdHlwZXMgaW5jbHVkZSBvYmplY3QgYW5kIHN0cmluZy5cbmV4cG9ydCB0eXBlIFRDYWNoZUtleSA9IGFueTtcblxuLy8gVGhlIGRlZmF1bHRNYWtlQ2FjaGVLZXkgZnVuY3Rpb24gaXMgcmVtYXJrYWJseSBwb3dlcmZ1bCwgYmVjYXVzZSBpdCBnaXZlc1xuLy8gYSB1bmlxdWUgb2JqZWN0IGZvciBhbnkgc2hhbGxvdy1pZGVudGljYWwgbGlzdCBvZiBhcmd1bWVudHMuIElmIHlvdSBuZWVkXG4vLyB0byBpbXBsZW1lbnQgYSBjdXN0b20gbWFrZUNhY2hlS2V5IGZ1bmN0aW9uLCB5b3UgbWF5IGZpbmQgaXQgaGVscGZ1bCB0b1xuLy8gZGVsZWdhdGUgdGhlIGZpbmFsIHdvcmsgdG8gZGVmYXVsdE1ha2VDYWNoZUtleSwgd2hpY2ggaXMgd2h5IHdlIGV4cG9ydCBpdFxuLy8gaGVyZS4gSG93ZXZlciwgeW91IG1heSB3YW50IHRvIGF2b2lkIGRlZmF1bHRNYWtlQ2FjaGVLZXkgaWYgeW91ciBydW50aW1lXG4vLyBkb2VzIG5vdCBzdXBwb3J0IFdlYWtNYXAsIG9yIHlvdSBoYXZlIHRoZSBhYmlsaXR5IHRvIHJldHVybiBhIHN0cmluZyBrZXkuXG4vLyBJbiB0aG9zZSBjYXNlcywganVzdCB3cml0ZSB5b3VyIG93biBjdXN0b20gbWFrZUNhY2hlS2V5IGZ1bmN0aW9ucy5cbmNvbnN0IGtleVRyaWUgPSBuZXcgS2V5VHJpZTxUQ2FjaGVLZXk+KHR5cGVvZiBXZWFrTWFwID09PSBcImZ1bmN0aW9uXCIpO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNYWtlQ2FjaGVLZXkoLi4uYXJnczogYW55W10pIHtcbiAgcmV0dXJuIGtleVRyaWUubG9va3VwQXJyYXkoYXJncyk7XG59XG5cbi8vIElmIHlvdSdyZSBwYXJhbm9pZCBhYm91dCBtZW1vcnkgbGVha3MsIG9yIHlvdSB3YW50IHRvIGF2b2lkIHVzaW5nIFdlYWtNYXBcbi8vIHVuZGVyIHRoZSBob29kLCBidXQgeW91IHN0aWxsIG5lZWQgdGhlIGJlaGF2aW9yIG9mIGRlZmF1bHRNYWtlQ2FjaGVLZXksXG4vLyBpbXBvcnQgdGhpcyBjb25zdHJ1Y3RvciB0byBjcmVhdGUgeW91ciBvd24gdHJpZXMuXG5leHBvcnQgeyBLZXlUcmllIH1cblxuZXhwb3J0IHR5cGUgT3B0aW1pc3RpY1dyYXBwZXJGdW5jdGlvbjxcbiAgVEFyZ3MgZXh0ZW5kcyBhbnlbXSxcbiAgVFJlc3VsdCxcbj4gPSAoKC4uLmFyZ3M6IFRBcmdzKSA9PiBUUmVzdWx0KSAmIHtcbiAgLy8gVGhlIC5kaXJ0eSguLi4pIG1ldGhvZCBvZiBhbiBvcHRpbWlzdGljIGZ1bmN0aW9uIHRha2VzIGV4YWN0bHkgdGhlXG4gIC8vIHNhbWUgcGFyYW1ldGVyIHR5cGVzIGFzIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgZGlydHk6ICguLi5hcmdzOiBUQXJncykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCB0eXBlIE9wdGltaXN0aWNXcmFwT3B0aW9uczxUQXJncyBleHRlbmRzIGFueVtdPiA9IHtcbiAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGNhY2hlIGVudHJpZXMgdGhhdCBzaG91bGQgYmUgcmV0YWluZWQgYmVmb3JlIHRoZVxuICAvLyBjYWNoZSBiZWdpbnMgZXZpY3RpbmcgdGhlIG9sZGVzdCBvbmVzLlxuICBtYXg/OiBudW1iZXI7XG4gIC8vIElmIGEgd3JhcHBlZCBmdW5jdGlvbiBpcyBcImRpc3Bvc2FibGUsXCIgdGhlbiBpdHMgY3JlYXRvciBkb2VzIG5vdFxuICAvLyBjYXJlIGFib3V0IGl0cyByZXR1cm4gdmFsdWUsIGFuZCBpdCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZVxuICAvLyBpbW1lZGlhdGVseSB3aGVuIGl0IG5vIGxvbmdlciBoYXMgYW55IHBhcmVudHMgdGhhdCBkZXBlbmQgb24gaXQuXG4gIGRpc3Bvc2FibGU/OiBib29sZWFuO1xuICAvLyBUaGUgbWFrZUNhY2hlS2V5IGZ1bmN0aW9uIHRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyB0aGF0IHdlcmUgcGFzc2VkIHRvXG4gIC8vIHRoZSB3cmFwcGVyIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGEgc2luZ2xlIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBrZXlcbiAgLy8gaW4gYSBNYXAgdG8gaWRlbnRpZnkgdGhlIGNhY2hlZCByZXN1bHQuXG4gIG1ha2VDYWNoZUtleT86ICguLi5hcmdzOiBUQXJncykgPT4gVENhY2hlS2V5O1xuICAvLyBJZiBwcm92aWRlZCwgdGhlIHN1YnNjcmliZSBmdW5jdGlvbiBzaG91bGQgZWl0aGVyIHJldHVybiBhbiB1bnN1YnNjcmliZVxuICAvLyBmdW5jdGlvbiBvciByZXR1cm4gbm90aGluZy5cbiAgc3Vic2NyaWJlPzogKC4uLmFyZ3M6IFRBcmdzKSA9PiAoKCkgPT4gYW55KSB8IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IGNhY2hlcyA9IG5ldyBTZXQ8Q2FjaGU8VENhY2hlS2V5LCBBbnlFbnRyeT4+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwPFxuICBUQXJncyBleHRlbmRzIGFueVtdLFxuICBUUmVzdWx0LFxuPihcbiAgb3JpZ2luYWxGdW5jdGlvbjogKC4uLmFyZ3M6IFRBcmdzKSA9PiBUUmVzdWx0LFxuICBvcHRpb25zOiBPcHRpbWlzdGljV3JhcE9wdGlvbnM8VEFyZ3M+ID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbikge1xuICBjb25zdCBjYWNoZSA9IG5ldyBDYWNoZTxUQ2FjaGVLZXksIEVudHJ5PFRBcmdzLCBUUmVzdWx0Pj4oXG4gICAgb3B0aW9ucy5tYXggfHwgTWF0aC5wb3coMiwgMTYpLFxuICAgIGVudHJ5ID0+IGVudHJ5LmRpc3Bvc2UoKSxcbiAgKTtcblxuICBjb25zdCBkaXNwb3NhYmxlID0gISEgb3B0aW9ucy5kaXNwb3NhYmxlO1xuICBjb25zdCBtYWtlQ2FjaGVLZXkgPSBvcHRpb25zLm1ha2VDYWNoZUtleSB8fCBkZWZhdWx0TWFrZUNhY2hlS2V5O1xuXG4gIGZ1bmN0aW9uIG9wdGltaXN0aWMoKTogVFJlc3VsdCB7XG4gICAgaWYgKGRpc3Bvc2FibGUgJiYgISBwYXJlbnRFbnRyeVNsb3QuaGFzVmFsdWUoKSkge1xuICAgICAgLy8gSWYgdGhlcmUncyBubyBjdXJyZW50IHBhcmVudCBjb21wdXRhdGlvbiwgYW5kIHRoaXMgd3JhcHBlZFxuICAgICAgLy8gZnVuY3Rpb24gaXMgZGlzcG9zYWJsZSAobWVhbmluZyB3ZSBkb24ndCBjYXJlIGFib3V0IGVudHJ5LnZhbHVlLFxuICAgICAgLy8ganVzdCBkZXBlbmRlbmN5IHRyYWNraW5nKSwgdGhlbiB3ZSBjYW4gc2hvcnQtY3V0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgLy8gaW4gdGhpcyBmdW5jdGlvbiwgYmVjYXVzZSBlbnRyeS5yZWNvbXB1dGUoKSBpcyBnb2luZyB0byByZWN5Y2xlXG4gICAgICAvLyB0aGUgZW50cnkgb2JqZWN0IHdpdGhvdXQgcmVjb21wdXRpbmcgYW55dGhpbmcsIGFueXdheS5cbiAgICAgIHJldHVybiB2b2lkIDAgYXMgYW55O1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IG1ha2VDYWNoZUtleS5hcHBseShudWxsLCBhcmd1bWVudHMgYXMgYW55KTtcbiAgICBpZiAoa2V5ID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBvcmlnaW5hbEZ1bmN0aW9uLmFwcGx5KG51bGwsIGFyZ3VtZW50cyBhcyBhbnkpO1xuICAgIH1cblxuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpIGFzIFRBcmdzO1xuXG4gICAgbGV0IGVudHJ5ID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBlbnRyeS5hcmdzID0gYXJncztcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkgPSBuZXcgRW50cnk8VEFyZ3MsIFRSZXN1bHQ+KG9yaWdpbmFsRnVuY3Rpb24sIGFyZ3MpO1xuICAgICAgY2FjaGUuc2V0KGtleSwgZW50cnkpO1xuICAgICAgZW50cnkuc3Vic2NyaWJlID0gb3B0aW9ucy5zdWJzY3JpYmU7XG4gICAgICBpZiAoZGlzcG9zYWJsZSkge1xuICAgICAgICBlbnRyeS5yZXBvcnRPcnBoYW4gPSAoKSA9PiBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IGVudHJ5LnJlY29tcHV0ZSgpO1xuXG4gICAgLy8gTW92ZSB0aGlzIGVudHJ5IHRvIHRoZSBmcm9udCBvZiB0aGUgbGVhc3QtcmVjZW50bHkgdXNlZCBxdWV1ZSxcbiAgICAvLyBzaW5jZSB3ZSBqdXN0IGZpbmlzaGVkIGNvbXB1dGluZyBpdHMgdmFsdWUuXG4gICAgY2FjaGUuc2V0KGtleSwgZW50cnkpO1xuXG4gICAgY2FjaGVzLmFkZChjYWNoZSk7XG5cbiAgICAvLyBDbGVhbiB1cCBhbnkgZXhjZXNzIGVudHJpZXMgaW4gdGhlIGNhY2hlLCBidXQgb25seSBpZiB0aGVyZSBpcyBub1xuICAgIC8vIGFjdGl2ZSBwYXJlbnQgZW50cnksIG1lYW5pbmcgd2UncmUgbm90IGluIHRoZSBtaWRkbGUgb2YgYSBsYXJnZXJcbiAgICAvLyBjb21wdXRhdGlvbiB0aGF0IG1pZ2h0IGJlIGZsdW1tb3hlZCBieSB0aGUgY2xlYW5pbmcuXG4gICAgaWYgKCEgcGFyZW50RW50cnlTbG90Lmhhc1ZhbHVlKCkpIHtcbiAgICAgIGNhY2hlcy5mb3JFYWNoKGNhY2hlID0+IGNhY2hlLmNsZWFuKCkpO1xuICAgICAgY2FjaGVzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgb3B0aW9ucy5kaXNwb3NhYmxlIGlzIHRydXRoeSwgdGhlIGNhbGxlciBvZiB3cmFwIGlzIHRlbGxpbmcgdXNcbiAgICAvLyB0aGV5IGRvbid0IGNhcmUgYWJvdXQgdGhlIHJlc3VsdCBvZiBlbnRyeS5yZWNvbXB1dGUoKSwgc28gd2Ugc2hvdWxkXG4gICAgLy8gYXZvaWQgcmV0dXJuaW5nIHRoZSB2YWx1ZSwgc28gaXQgd29uJ3QgYmUgYWNjaWRlbnRhbGx5IHVzZWQuXG4gICAgcmV0dXJuIGRpc3Bvc2FibGUgPyB2b2lkIDAgYXMgYW55IDogdmFsdWU7XG4gIH1cblxuICBvcHRpbWlzdGljLmRpcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGtleSA9IG1ha2VDYWNoZUtleS5hcHBseShudWxsLCBhcmd1bWVudHMgYXMgYW55KTtcbiAgICBjb25zdCBjaGlsZCA9IGtleSAhPT0gdm9pZCAwICYmIGNhY2hlLmdldChrZXkpO1xuICAgIGlmIChjaGlsZCkge1xuICAgICAgY2hpbGQuc2V0RGlydHkoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIG9wdGltaXN0aWMgYXMgT3B0aW1pc3RpY1dyYXBwZXJGdW5jdGlvbjxUQXJncywgVFJlc3VsdD47XG59XG4iLCJpbXBvcnQgeyBpc1Rlc3QsIElkVmFsdWUgfSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmltcG9ydCB7XG4gIFJlYWRTdG9yZUNvbnRleHQsXG4gIEZyYWdtZW50TWF0Y2hlckludGVyZmFjZSxcbiAgUG9zc2libGVUeXBlc01hcCxcbiAgSW50cm9zcGVjdGlvblJlc3VsdERhdGEsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgaGF2ZVdhcm5lZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBzaG91bGRXYXJuKCkge1xuICBjb25zdCBhbnN3ZXIgPSAhaGF2ZVdhcm5lZDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghaXNUZXN0KCkpIHtcbiAgICBoYXZlV2FybmVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYW5zd2VyO1xufVxuXG4vKipcbiAqIFRoaXMgZnJhZ21lbnQgbWF0Y2hlciBpcyB2ZXJ5IGJhc2ljIGFuZCB1bmFibGUgdG8gbWF0Y2ggdW5pb24gb3IgaW50ZXJmYWNlIHR5cGUgY29uZGl0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgSGV1cmlzdGljRnJhZ21lbnRNYXRjaGVyIGltcGxlbWVudHMgRnJhZ21lbnRNYXRjaGVySW50ZXJmYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gZG8gbm90aGluZ1xuICB9XG5cbiAgcHVibGljIGVuc3VyZVJlYWR5KCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBjYW5CeXBhc3NJbml0KCkge1xuICAgIHJldHVybiB0cnVlOyAvLyB3ZSBkb24ndCBuZWVkIHRvIGluaXRpYWxpemUgdGhpcyBmcmFnbWVudCBtYXRjaGVyLlxuICB9XG5cbiAgcHVibGljIG1hdGNoKFxuICAgIGlkVmFsdWU6IElkVmFsdWUsXG4gICAgdHlwZUNvbmRpdGlvbjogc3RyaW5nLFxuICAgIGNvbnRleHQ6IFJlYWRTdG9yZUNvbnRleHQsXG4gICk6IGJvb2xlYW4gfCAnaGV1cmlzdGljJyB7XG4gICAgY29uc3Qgb2JqID0gY29udGV4dC5zdG9yZS5nZXQoaWRWYWx1ZS5pZCk7XG4gICAgY29uc3QgaXNSb290UXVlcnkgPSBpZFZhbHVlLmlkID09PSAnUk9PVF9RVUVSWSc7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Fwb2xsb2dyYXBocWwvYXBvbGxvLWNsaWVudC9wdWxsLzM1MDdcbiAgICAgIHJldHVybiBpc1Jvb3RRdWVyeTtcbiAgICB9XG5cbiAgICBjb25zdCB7IF9fdHlwZW5hbWUgPSBpc1Jvb3RRdWVyeSAmJiAnUXVlcnknIH0gPSBvYmo7XG5cbiAgICBpZiAoIV9fdHlwZW5hbWUpIHtcbiAgICAgIGlmIChzaG91bGRXYXJuKCkpIHtcbiAgICAgICAgaW52YXJpYW50Lndhcm4oYFlvdSdyZSB1c2luZyBmcmFnbWVudHMgaW4geW91ciBxdWVyaWVzLCBidXQgZWl0aGVyIGRvbid0IGhhdmUgdGhlIGFkZFR5cGVuYW1lOlxuICB0cnVlIG9wdGlvbiBzZXQgaW4gQXBvbGxvIENsaWVudCwgb3IgeW91IGFyZSB0cnlpbmcgdG8gd3JpdGUgYSBmcmFnbWVudCB0byB0aGUgc3RvcmUgd2l0aG91dCB0aGUgX190eXBlbmFtZS5cbiAgIFBsZWFzZSB0dXJuIG9uIHRoZSBhZGRUeXBlbmFtZSBvcHRpb24gYW5kIGluY2x1ZGUgX190eXBlbmFtZSB3aGVuIHdyaXRpbmcgZnJhZ21lbnRzIHNvIHRoYXQgQXBvbGxvIENsaWVudFxuICAgY2FuIGFjY3VyYXRlbHkgbWF0Y2ggZnJhZ21lbnRzLmApO1xuICAgICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgICAnQ291bGQgbm90IGZpbmQgX190eXBlbmFtZSBvbiBGcmFnbWVudCAnLFxuICAgICAgICAgIHR5cGVDb25kaXRpb24sXG4gICAgICAgICAgb2JqLFxuICAgICAgICApO1xuICAgICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgICBgREVQUkVDQVRJT04gV0FSTklORzogdXNpbmcgZnJhZ21lbnRzIHdpdGhvdXQgX190eXBlbmFtZSBpcyB1bnN1cHBvcnRlZCBiZWhhdmlvciBgICtcbiAgICAgICAgICAgIGBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBBcG9sbG8gY2xpZW50LiBZb3Ugc2hvdWxkIGZpeCB0aGlzIGFuZCBzZXQgYWRkVHlwZW5hbWUgdG8gdHJ1ZSBub3cuYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdoZXVyaXN0aWMnO1xuICAgIH1cblxuICAgIGlmIChfX3R5cGVuYW1lID09PSB0eXBlQ29uZGl0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGRvbid0IGtub3cgaWYgdGhpcyBmcmFnbWVudCBzaG91bGQgbWF0Y2ggb3Igbm90LiBJdCdzXG4gICAgLy8gZWl0aGVyOlxuICAgIC8vXG4gICAgLy8gMS4gKEdPT0QpIEEgZnJhZ21lbnQgb24gYSBtYXRjaGluZyBpbnRlcmZhY2Ugb3IgdW5pb24uXG4gICAgLy8gMi4gKEJBRCkgQSBmcmFnbWVudCBvbiBhIG5vbi1tYXRjaGluZyBjb25jcmV0ZSB0eXBlIG9yIGludGVyZmFjZSBvciB1bmlvbi5cbiAgICAvL1xuICAgIC8vIElmIGl0J3MgMiwgd2UgZG9uJ3Qgd2FudCBpdCB0byBtYXRjaC4gSWYgaXQncyAxLCB3ZSB3YW50IGl0IHRvIG1hdGNoLiBXZVxuICAgIC8vIGNhbid0IHRlbGwgdGhlIGRpZmZlcmVuY2UsIHNvIHdlIHdhcm4gdGhlIHVzZXIsIGJ1dCBzdGlsbCB0cnkgdG8gbWF0Y2hcbiAgICAvLyBpdCAoZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnMpLiBUaGlzIHVuZm9ydHVuYXRlbHkgbWVhbnMgdGhhdFxuICAgIC8vIHVzaW5nIHRoZSBgSGV1cmlzdGljRnJhZ21lbnRNYXRjaGVyYCB3aXRoIHVuaW9ucyBhbmQgaW50ZXJmYWNlcyBpc1xuICAgIC8vIHZlcnkgdW5yZWxpYWJsZS4gVGhpcyB3aWxsIGJlIGFkZHJlc3NlZCBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uIG9mXG4gICAgLy8gQXBvbGxvIENsaWVudCwgYnV0IGZvciBub3cgdGhlIHJlY29tbWVuZGF0aW9uIGlzIHRvIHVzZSB0aGVcbiAgICAvLyBgSW50cm9zcGVjdGlvbkZyYWdtZW50TWF0Y2hlcmAgd2hlbiB3b3JraW5nIHdpdGggdW5pb25zL2ludGVyZmFjZXMuXG5cbiAgICBpZiAoc2hvdWxkV2FybigpKSB7XG4gICAgICBpbnZhcmlhbnQuZXJyb3IoXG4gICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBzaW1wbGUgKGhldXJpc3RpYykgZnJhZ21lbnQgbWF0Y2hlciwgYnV0IHlvdXIgJyArXG4gICAgICAgICAgJ3F1ZXJpZXMgY29udGFpbiB1bmlvbiBvciBpbnRlcmZhY2UgdHlwZXMuIEFwb2xsbyBDbGllbnQgd2lsbCBub3QgYmUgJyArXG4gICAgICAgICAgJ2FibGUgdG8gYWNjdXJhdGVseSBtYXAgZnJhZ21lbnRzLiBUbyBtYWtlIHRoaXMgZXJyb3IgZ28gYXdheSwgdXNlICcgK1xuICAgICAgICAgICd0aGUgYEludHJvc3BlY3Rpb25GcmFnbWVudE1hdGNoZXJgIGFzIGRlc2NyaWJlZCBpbiB0aGUgZG9jczogJyArXG4gICAgICAgICAgJ2h0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2RvY3MvcmVhY3QvYWR2YW5jZWQvZnJhZ21lbnRzLmh0bWwjZnJhZ21lbnQtbWF0Y2hlcicsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAnaGV1cmlzdGljJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50cm9zcGVjdGlvbkZyYWdtZW50TWF0Y2hlciBpbXBsZW1lbnRzIEZyYWdtZW50TWF0Y2hlckludGVyZmFjZSB7XG4gIHByaXZhdGUgaXNSZWFkeTogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwb3NzaWJsZVR5cGVzTWFwOiBQb3NzaWJsZVR5cGVzTWFwO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiB7XG4gICAgaW50cm9zcGVjdGlvblF1ZXJ5UmVzdWx0RGF0YT86IEludHJvc3BlY3Rpb25SZXN1bHREYXRhO1xuICB9KSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbnRyb3NwZWN0aW9uUXVlcnlSZXN1bHREYXRhKSB7XG4gICAgICB0aGlzLnBvc3NpYmxlVHlwZXNNYXAgPSB0aGlzLnBhcnNlSW50cm9zcGVjdGlvblJlc3VsdChcbiAgICAgICAgb3B0aW9ucy5pbnRyb3NwZWN0aW9uUXVlcnlSZXN1bHREYXRhLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMubWF0Y2ggPSB0aGlzLm1hdGNoLmJpbmQodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgbWF0Y2goXG4gICAgaWRWYWx1ZTogSWRWYWx1ZSxcbiAgICB0eXBlQ29uZGl0aW9uOiBzdHJpbmcsXG4gICAgY29udGV4dDogUmVhZFN0b3JlQ29udGV4dCxcbiAgKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5pc1JlYWR5LFxuICAgICAgJ0ZyYWdtZW50TWF0Y2hlci5tYXRjaCgpIHdhcyBjYWxsZWQgYmVmb3JlIEZyYWdtZW50TWF0Y2hlci5pbml0KCknLFxuICAgICk7XG5cbiAgICBjb25zdCBvYmogPSBjb250ZXh0LnN0b3JlLmdldChpZFZhbHVlLmlkKTtcbiAgICBjb25zdCBpc1Jvb3RRdWVyeSA9IGlkVmFsdWUuaWQgPT09ICdST09UX1FVRVJZJztcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9hcG9sbG8tY2xpZW50L3B1bGwvNDYyMFxuICAgICAgcmV0dXJuIGlzUm9vdFF1ZXJ5O1xuICAgIH1cblxuICAgIGNvbnN0IHsgX190eXBlbmFtZSA9IGlzUm9vdFF1ZXJ5ICYmICdRdWVyeScgfSA9IG9iajtcblxuICAgIGludmFyaWFudChcbiAgICAgIF9fdHlwZW5hbWUsXG4gICAgICBgQ2Fubm90IG1hdGNoIGZyYWdtZW50IGJlY2F1c2UgX190eXBlbmFtZSBwcm9wZXJ0eSBpcyBtaXNzaW5nOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICBvYmosXG4gICAgICApfWAsXG4gICAgKTtcblxuICAgIGlmIChfX3R5cGVuYW1lID09PSB0eXBlQ29uZGl0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBpbXBsZW1lbnRpbmdUeXBlcyA9IHRoaXMucG9zc2libGVUeXBlc01hcFt0eXBlQ29uZGl0aW9uXTtcbiAgICBpZiAoXG4gICAgICBfX3R5cGVuYW1lICYmXG4gICAgICBpbXBsZW1lbnRpbmdUeXBlcyAmJlxuICAgICAgaW1wbGVtZW50aW5nVHlwZXMuaW5kZXhPZihfX3R5cGVuYW1lKSA+IC0xXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlSW50cm9zcGVjdGlvblJlc3VsdChcbiAgICBpbnRyb3NwZWN0aW9uUmVzdWx0RGF0YTogSW50cm9zcGVjdGlvblJlc3VsdERhdGEsXG4gICk6IFBvc3NpYmxlVHlwZXNNYXAge1xuICAgIGNvbnN0IHR5cGVNYXA6IFBvc3NpYmxlVHlwZXNNYXAgPSB7fTtcbiAgICBpbnRyb3NwZWN0aW9uUmVzdWx0RGF0YS5fX3NjaGVtYS50eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgaWYgKHR5cGUua2luZCA9PT0gJ1VOSU9OJyB8fCB0eXBlLmtpbmQgPT09ICdJTlRFUkZBQ0UnKSB7XG4gICAgICAgIHR5cGVNYXBbdHlwZS5uYW1lXSA9IHR5cGUucG9zc2libGVUeXBlcy5tYXAoXG4gICAgICAgICAgaW1wbGVtZW50aW5nVHlwZSA9PiBpbXBsZW1lbnRpbmdUeXBlLm5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHR5cGVNYXA7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5vcm1hbGl6ZWRDYWNoZSwgTm9ybWFsaXplZENhY2hlT2JqZWN0LCBTdG9yZU9iamVjdCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgd3JhcCwgT3B0aW1pc3RpY1dyYXBwZXJGdW5jdGlvbiB9IGZyb20gJ29wdGltaXNtJztcblxuY29uc3QgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZXhwb3J0IGNsYXNzIERlcFRyYWNraW5nQ2FjaGUgaW1wbGVtZW50cyBOb3JtYWxpemVkQ2FjaGUge1xuICAvLyBXcmFwcGVyIGZ1bmN0aW9uIHByb2R1Y2VkIGJ5IHRoZSBvcHRpbWlzbSBsaWJyYXJ5LCB1c2VkIHRvIGRlcGVuZCBvblxuICAvLyBkYXRhSWQgc3RyaW5ncywgZm9yIGVhc3kgaW52YWxpZGF0aW9uIG9mIHNwZWNpZmljIElEcy5cbiAgcHJpdmF0ZSBkZXBlbmQ6IE9wdGltaXN0aWNXcmFwcGVyRnVuY3Rpb248W3N0cmluZ10sIFN0b3JlT2JqZWN0IHwgdW5kZWZpbmVkPjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IE5vcm1hbGl6ZWRDYWNoZU9iamVjdCA9IE9iamVjdC5jcmVhdGUobnVsbCkpIHtcbiAgICB0aGlzLmRlcGVuZCA9IHdyYXAoKGRhdGFJZDogc3RyaW5nKSA9PiB0aGlzLmRhdGFbZGF0YUlkXSwge1xuICAgICAgZGlzcG9zYWJsZTogdHJ1ZSxcbiAgICAgIG1ha2VDYWNoZUtleShkYXRhSWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gZGF0YUlkO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBOb3JtYWxpemVkQ2FjaGVPYmplY3Qge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGRhdGFJZDogc3RyaW5nKTogU3RvcmVPYmplY3Qge1xuICAgIHRoaXMuZGVwZW5kKGRhdGFJZCk7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVtkYXRhSWRdITtcbiAgfVxuXG4gIHB1YmxpYyBzZXQoZGF0YUlkOiBzdHJpbmcsIHZhbHVlPzogU3RvcmVPYmplY3QpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuZGF0YVtkYXRhSWRdO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YVtkYXRhSWRdID0gdmFsdWU7XG4gICAgICB0aGlzLmRlcGVuZC5kaXJ0eShkYXRhSWQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoZGF0YUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoaGFzT3duLmNhbGwodGhpcy5kYXRhLCBkYXRhSWQpKSB7XG4gICAgICBkZWxldGUgdGhpcy5kYXRhW2RhdGFJZF07XG4gICAgICB0aGlzLmRlcGVuZC5kaXJ0eShkYXRhSWQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcGxhY2UobnVsbCk7XG4gIH1cblxuICBwdWJsaWMgcmVwbGFjZShuZXdEYXRhOiBOb3JtYWxpemVkQ2FjaGVPYmplY3QgfCBudWxsKTogdm9pZCB7XG4gICAgaWYgKG5ld0RhdGEpIHtcbiAgICAgIE9iamVjdC5rZXlzKG5ld0RhdGEpLmZvckVhY2goZGF0YUlkID0+IHtcbiAgICAgICAgdGhpcy5zZXQoZGF0YUlkLCBuZXdEYXRhW2RhdGFJZF0pO1xuICAgICAgfSk7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZvckVhY2goZGF0YUlkID0+IHtcbiAgICAgICAgaWYgKCFoYXNPd24uY2FsbChuZXdEYXRhLCBkYXRhSWQpKSB7XG4gICAgICAgICAgdGhpcy5kZWxldGUoZGF0YUlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZm9yRWFjaChkYXRhSWQgPT4ge1xuICAgICAgICB0aGlzLmRlbGV0ZShkYXRhSWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Tm9ybWFsaXplZENhY2hlRmFjdG9yeShcbiAgc2VlZD86IE5vcm1hbGl6ZWRDYWNoZU9iamVjdCxcbik6IE5vcm1hbGl6ZWRDYWNoZSB7XG4gIHJldHVybiBuZXcgRGVwVHJhY2tpbmdDYWNoZShzZWVkKTtcbn1cbiIsImltcG9ydCB7XG4gIGFyZ3VtZW50c09iamVjdEZyb21GaWVsZCxcbiAgYXNzaWduLFxuICBjYW5Vc2VXZWFrTWFwLFxuICBjcmVhdGVGcmFnbWVudE1hcCxcbiAgRGlyZWN0aXZlSW5mbyxcbiAgRnJhZ21lbnRNYXAsXG4gIGdldERlZmF1bHRWYWx1ZXMsXG4gIGdldERpcmVjdGl2ZUluZm9Gcm9tRmllbGQsXG4gIGdldEZyYWdtZW50RGVmaW5pdGlvbnMsXG4gIGdldE1haW5EZWZpbml0aW9uLFxuICBnZXRRdWVyeURlZmluaXRpb24sXG4gIGdldFN0b3JlS2V5TmFtZSxcbiAgSWRWYWx1ZSxcbiAgaXNFcXVhbCxcbiAgaXNGaWVsZCxcbiAgaXNJZFZhbHVlLFxuICBpc0lubGluZUZyYWdtZW50LFxuICBpc0pzb25WYWx1ZSxcbiAgbWF5YmVEZWVwRnJlZXplLFxuICBtZXJnZURlZXBBcnJheSxcbiAgcmVzdWx0S2V5TmFtZUZyb21GaWVsZCxcbiAgc2hvdWxkSW5jbHVkZSxcbiAgU3RvcmVWYWx1ZSxcbiAgdG9JZFZhbHVlLFxufSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcblxuaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICdhcG9sbG8tY2FjaGUnO1xuXG5pbXBvcnQge1xuICBSZWFkU3RvcmVDb250ZXh0LFxuICBEaWZmUXVlcnlBZ2FpbnN0U3RvcmVPcHRpb25zLFxuICBSZWFkUXVlcnlPcHRpb25zLFxuICBTdG9yZU9iamVjdCxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCB7XG4gIERvY3VtZW50Tm9kZSxcbiAgRmllbGROb2RlLFxuICBGcmFnbWVudERlZmluaXRpb25Ob2RlLFxuICBJbmxpbmVGcmFnbWVudE5vZGUsXG4gIFNlbGVjdGlvblNldE5vZGUsXG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyB3cmFwLCBLZXlUcmllIH0gZnJvbSAnb3B0aW1pc20nO1xuaW1wb3J0IHsgRGVwVHJhY2tpbmdDYWNoZSB9IGZyb20gJy4vZGVwVHJhY2tpbmdDYWNoZSc7XG5pbXBvcnQgeyBpbnZhcmlhbnQsIEludmFyaWFudEVycm9yIH0gZnJvbSAndHMtaW52YXJpYW50JztcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVNYXAgPSB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfTtcblxuZXhwb3J0IHR5cGUgRnJhZ21lbnRNYXRjaGVyID0gKFxuICByb290VmFsdWU6IGFueSxcbiAgdHlwZUNvbmRpdGlvbjogc3RyaW5nLFxuICBjb250ZXh0OiBSZWFkU3RvcmVDb250ZXh0LFxuKSA9PiBib29sZWFuIHwgJ2hldXJpc3RpYyc7XG5cbnR5cGUgRXhlY0NvbnRleHQgPSB7XG4gIHF1ZXJ5OiBEb2N1bWVudE5vZGU7XG4gIGZyYWdtZW50TWFwOiBGcmFnbWVudE1hcDtcbiAgY29udGV4dFZhbHVlOiBSZWFkU3RvcmVDb250ZXh0O1xuICB2YXJpYWJsZVZhbHVlczogVmFyaWFibGVNYXA7XG4gIGZyYWdtZW50TWF0Y2hlcjogRnJhZ21lbnRNYXRjaGVyO1xufTtcblxudHlwZSBFeGVjSW5mbyA9IHtcbiAgcmVzdWx0S2V5OiBzdHJpbmc7XG4gIGRpcmVjdGl2ZXM6IERpcmVjdGl2ZUluZm87XG59O1xuXG5leHBvcnQgdHlwZSBFeGVjUmVzdWx0TWlzc2luZ0ZpZWxkID0ge1xuICBvYmplY3Q6IFN0b3JlT2JqZWN0O1xuICBmaWVsZE5hbWU6IHN0cmluZztcbiAgdG9sZXJhYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgRXhlY1Jlc3VsdDxSID0gYW55PiA9IHtcbiAgcmVzdWx0OiBSO1xuICAvLyBFbXB0eSBhcnJheSBpZiBubyBtaXNzaW5nIGZpZWxkcyBlbmNvdW50ZXJlZCB3aGlsZSBjb21wdXRpbmcgcmVzdWx0LlxuICBtaXNzaW5nPzogRXhlY1Jlc3VsdE1pc3NpbmdGaWVsZFtdO1xufTtcblxudHlwZSBFeGVjU3RvcmVRdWVyeU9wdGlvbnMgPSB7XG4gIHF1ZXJ5OiBEb2N1bWVudE5vZGU7XG4gIHJvb3RWYWx1ZTogSWRWYWx1ZTtcbiAgY29udGV4dFZhbHVlOiBSZWFkU3RvcmVDb250ZXh0O1xuICB2YXJpYWJsZVZhbHVlczogVmFyaWFibGVNYXA7XG4gIC8vIERlZmF1bHQgbWF0Y2hlciBhbHdheXMgbWF0Y2hlcyBhbGwgZnJhZ21lbnRzXG4gIGZyYWdtZW50TWF0Y2hlcj86IEZyYWdtZW50TWF0Y2hlcjtcbn07XG5cbnR5cGUgRXhlY1NlbGVjdGlvblNldE9wdGlvbnMgPSB7XG4gIHNlbGVjdGlvblNldDogU2VsZWN0aW9uU2V0Tm9kZTtcbiAgcm9vdFZhbHVlOiBhbnk7XG4gIGV4ZWNDb250ZXh0OiBFeGVjQ29udGV4dDtcbn07XG5cbnR5cGUgRXhlY1N1YlNlbGVjdGVkQXJyYXlPcHRpb25zID0ge1xuICBmaWVsZDogRmllbGROb2RlO1xuICBhcnJheTogYW55W107XG4gIGV4ZWNDb250ZXh0OiBFeGVjQ29udGV4dDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVSZWFkZXJDb25maWcge1xuICBjYWNoZUtleVJvb3Q/OiBLZXlUcmllPG9iamVjdD47XG4gIGZyZWV6ZVJlc3VsdHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgU3RvcmVSZWFkZXIge1xuICBwcml2YXRlIGZyZWV6ZVJlc3VsdHM6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNhY2hlS2V5Um9vdCA9IG5ldyBLZXlUcmllPG9iamVjdD4oY2FuVXNlV2Vha01hcCksXG4gICAgZnJlZXplUmVzdWx0cyA9IGZhbHNlLFxuICB9OiBTdG9yZVJlYWRlckNvbmZpZyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgZXhlY3V0ZVN0b3JlUXVlcnksXG4gICAgICBleGVjdXRlU2VsZWN0aW9uU2V0LFxuICAgICAgZXhlY3V0ZVN1YlNlbGVjdGVkQXJyYXksXG4gICAgfSA9IHRoaXM7XG5cbiAgICB0aGlzLmZyZWV6ZVJlc3VsdHMgPSBmcmVlemVSZXN1bHRzO1xuXG4gICAgdGhpcy5leGVjdXRlU3RvcmVRdWVyeSA9IHdyYXAoKG9wdGlvbnM6IEV4ZWNTdG9yZVF1ZXJ5T3B0aW9ucykgPT4ge1xuICAgICAgcmV0dXJuIGV4ZWN1dGVTdG9yZVF1ZXJ5LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSwge1xuICAgICAgbWFrZUNhY2hlS2V5KHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHJvb3RWYWx1ZSxcbiAgICAgICAgY29udGV4dFZhbHVlLFxuICAgICAgICB2YXJpYWJsZVZhbHVlcyxcbiAgICAgICAgZnJhZ21lbnRNYXRjaGVyLFxuICAgICAgfTogRXhlY1N0b3JlUXVlcnlPcHRpb25zKSB7XG4gICAgICAgIC8vIFRoZSByZXN1bHQgb2YgZXhlY3V0ZVN0b3JlUXVlcnkgY2FuIGJlIHNhZmVseSBjYWNoZWQgb25seSBpZiB0aGVcbiAgICAgICAgLy8gdW5kZXJseWluZyBzdG9yZSBpcyBjYXBhYmxlIG9mIHRyYWNraW5nIGRlcGVuZGVuY2llcyBhbmQgaW52YWxpZGF0aW5nXG4gICAgICAgIC8vIHRoZSBjYWNoZSB3aGVuIHJlbGV2YW50IGRhdGEgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICBpZiAoY29udGV4dFZhbHVlLnN0b3JlIGluc3RhbmNlb2YgRGVwVHJhY2tpbmdDYWNoZSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZUtleVJvb3QubG9va3VwKFxuICAgICAgICAgICAgY29udGV4dFZhbHVlLnN0b3JlLFxuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICBmcmFnbWVudE1hdGNoZXIsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh2YXJpYWJsZVZhbHVlcyksXG4gICAgICAgICAgICByb290VmFsdWUuaWQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5leGVjdXRlU2VsZWN0aW9uU2V0ID0gd3JhcCgob3B0aW9uczogRXhlY1NlbGVjdGlvblNldE9wdGlvbnMpID0+IHtcbiAgICAgIHJldHVybiBleGVjdXRlU2VsZWN0aW9uU2V0LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSwge1xuICAgICAgbWFrZUNhY2hlS2V5KHtcbiAgICAgICAgc2VsZWN0aW9uU2V0LFxuICAgICAgICByb290VmFsdWUsXG4gICAgICAgIGV4ZWNDb250ZXh0LFxuICAgICAgfTogRXhlY1NlbGVjdGlvblNldE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGV4ZWNDb250ZXh0LmNvbnRleHRWYWx1ZS5zdG9yZSBpbnN0YW5jZW9mIERlcFRyYWNraW5nQ2FjaGUpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGVLZXlSb290Lmxvb2t1cChcbiAgICAgICAgICAgIGV4ZWNDb250ZXh0LmNvbnRleHRWYWx1ZS5zdG9yZSxcbiAgICAgICAgICAgIHNlbGVjdGlvblNldCxcbiAgICAgICAgICAgIGV4ZWNDb250ZXh0LmZyYWdtZW50TWF0Y2hlcixcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGV4ZWNDb250ZXh0LnZhcmlhYmxlVmFsdWVzKSxcbiAgICAgICAgICAgIHJvb3RWYWx1ZS5pZCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmV4ZWN1dGVTdWJTZWxlY3RlZEFycmF5ID0gd3JhcCgob3B0aW9uczogRXhlY1N1YlNlbGVjdGVkQXJyYXlPcHRpb25zKSA9PiB7XG4gICAgICByZXR1cm4gZXhlY3V0ZVN1YlNlbGVjdGVkQXJyYXkuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LCB7XG4gICAgICBtYWtlQ2FjaGVLZXkoeyBmaWVsZCwgYXJyYXksIGV4ZWNDb250ZXh0IH0pIHtcbiAgICAgICAgaWYgKGV4ZWNDb250ZXh0LmNvbnRleHRWYWx1ZS5zdG9yZSBpbnN0YW5jZW9mIERlcFRyYWNraW5nQ2FjaGUpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGVLZXlSb290Lmxvb2t1cChcbiAgICAgICAgICAgIGV4ZWNDb250ZXh0LmNvbnRleHRWYWx1ZS5zdG9yZSxcbiAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShleGVjQ29udGV4dC52YXJpYWJsZVZhbHVlcyksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmVzIHRoZSByZXN1bHQgb2YgYSBxdWVyeSBzb2xlbHkgZnJvbSB0aGUgc3RvcmUgKGkuZS4gbmV2ZXIgaGl0cyB0aGUgc2VydmVyKS5cbiAgICpcbiAgICogQHBhcmFtIHtTdG9yZX0gc3RvcmUgVGhlIHtAbGluayBOb3JtYWxpemVkQ2FjaGV9IHVzZWQgYnkgQXBvbGxvIGZvciB0aGUgYGRhdGFgIHBvcnRpb24gb2YgdGhlXG4gICAqIHN0b3JlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50Tm9kZX0gcXVlcnkgVGhlIHF1ZXJ5IGRvY3VtZW50IHRvIHJlc29sdmUgZnJvbSB0aGUgZGF0YSBhdmFpbGFibGUgaW4gdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3ZhcmlhYmxlc10gQSBtYXAgZnJvbSB0aGUgbmFtZSBvZiBhIHZhcmlhYmxlIHRvIGl0cyB2YWx1ZS4gVGhlc2UgdmFyaWFibGVzIGNhblxuICAgKiBiZSByZWZlcmVuY2VkIGJ5IHRoZSBxdWVyeSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IHByZXZpb3VzUmVzdWx0IFRoZSBwcmV2aW91cyByZXN1bHQgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbiBmb3IgdGhlIHNhbWUgcXVlcnkuXG4gICAqIElmIG5vdGhpbmcgaW4gdGhlIHN0b3JlIGNoYW5nZWQgc2luY2UgdGhhdCBwcmV2aW91cyByZXN1bHQgdGhlbiB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcmVzdWx0XG4gICAqIHdpbGwgYmUgcmV0dXJuZWQgdG8gcHJlc2VydmUgcmVmZXJlbnRpYWwgZXF1YWxpdHkuXG4gICAqL1xuICBwdWJsaWMgcmVhZFF1ZXJ5RnJvbVN0b3JlPFF1ZXJ5VHlwZT4oXG4gICAgb3B0aW9uczogUmVhZFF1ZXJ5T3B0aW9ucyxcbiAgKTogUXVlcnlUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5kaWZmUXVlcnlBZ2FpbnN0U3RvcmU8UXVlcnlUeXBlPih7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgcmV0dXJuUGFydGlhbERhdGE6IGZhbHNlLFxuICAgIH0pLnJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHN0b3JlIGFuZCBhIHF1ZXJ5LCByZXR1cm4gYXMgbXVjaCBvZiB0aGUgcmVzdWx0IGFzIHBvc3NpYmxlIGFuZFxuICAgKiBpZGVudGlmeSBpZiBhbnkgZGF0YSB3YXMgbWlzc2luZyBmcm9tIHRoZSBzdG9yZS5cbiAgICogQHBhcmFtICB7RG9jdW1lbnROb2RlfSBxdWVyeSBBIHBhcnNlZCBHcmFwaFFMIHF1ZXJ5IGRvY3VtZW50XG4gICAqIEBwYXJhbSAge1N0b3JlfSBzdG9yZSBUaGUgQXBvbGxvIENsaWVudCBzdG9yZSBvYmplY3RcbiAgICogQHBhcmFtICB7YW55fSBwcmV2aW91c1Jlc3VsdCBUaGUgcHJldmlvdXMgcmVzdWx0IHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24gZm9yIHRoZSBzYW1lIHF1ZXJ5XG4gICAqIEByZXR1cm4ge3Jlc3VsdDogT2JqZWN0LCBjb21wbGV0ZTogW2Jvb2xlYW5dfVxuICAgKi9cbiAgcHVibGljIGRpZmZRdWVyeUFnYWluc3RTdG9yZTxUPih7XG4gICAgc3RvcmUsXG4gICAgcXVlcnksXG4gICAgdmFyaWFibGVzLFxuICAgIHByZXZpb3VzUmVzdWx0LFxuICAgIHJldHVyblBhcnRpYWxEYXRhID0gdHJ1ZSxcbiAgICByb290SWQgPSAnUk9PVF9RVUVSWScsXG4gICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gICAgY29uZmlnLFxuICB9OiBEaWZmUXVlcnlBZ2FpbnN0U3RvcmVPcHRpb25zKTogQ2FjaGUuRGlmZlJlc3VsdDxUPiB7XG4gICAgLy8gVGhyb3cgdGhlIHJpZ2h0IHZhbGlkYXRpb24gZXJyb3IgYnkgdHJ5aW5nIHRvIGZpbmQgYSBxdWVyeSBpbiB0aGUgZG9jdW1lbnRcbiAgICBjb25zdCBxdWVyeURlZmluaXRpb24gPSBnZXRRdWVyeURlZmluaXRpb24ocXVlcnkpO1xuXG4gICAgdmFyaWFibGVzID0gYXNzaWduKHt9LCBnZXREZWZhdWx0VmFsdWVzKHF1ZXJ5RGVmaW5pdGlvbiksIHZhcmlhYmxlcyk7XG5cbiAgICBjb25zdCBjb250ZXh0OiBSZWFkU3RvcmVDb250ZXh0ID0ge1xuICAgICAgLy8gR2xvYmFsIHNldHRpbmdzXG4gICAgICBzdG9yZSxcbiAgICAgIGRhdGFJZEZyb21PYmplY3Q6IGNvbmZpZyAmJiBjb25maWcuZGF0YUlkRnJvbU9iamVjdCxcbiAgICAgIGNhY2hlUmVkaXJlY3RzOiAoY29uZmlnICYmIGNvbmZpZy5jYWNoZVJlZGlyZWN0cykgfHwge30sXG4gICAgfTtcblxuICAgIGNvbnN0IGV4ZWNSZXN1bHQgPSB0aGlzLmV4ZWN1dGVTdG9yZVF1ZXJ5KHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgcm9vdFZhbHVlOiB7XG4gICAgICAgIHR5cGU6ICdpZCcsXG4gICAgICAgIGlkOiByb290SWQsXG4gICAgICAgIGdlbmVyYXRlZDogdHJ1ZSxcbiAgICAgICAgdHlwZW5hbWU6ICdRdWVyeScsXG4gICAgICB9LFxuICAgICAgY29udGV4dFZhbHVlOiBjb250ZXh0LFxuICAgICAgdmFyaWFibGVWYWx1ZXM6IHZhcmlhYmxlcyxcbiAgICAgIGZyYWdtZW50TWF0Y2hlcjogZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gICAgfSk7XG5cbiAgICBjb25zdCBoYXNNaXNzaW5nRmllbGRzID1cbiAgICAgIGV4ZWNSZXN1bHQubWlzc2luZyAmJiBleGVjUmVzdWx0Lm1pc3NpbmcubGVuZ3RoID4gMDtcblxuICAgIGlmIChoYXNNaXNzaW5nRmllbGRzICYmICEgcmV0dXJuUGFydGlhbERhdGEpIHtcbiAgICAgIGV4ZWNSZXN1bHQubWlzc2luZyEuZm9yRWFjaChpbmZvID0+IHtcbiAgICAgICAgaWYgKGluZm8udG9sZXJhYmxlKSByZXR1cm47XG4gICAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgICBgQ2FuJ3QgZmluZCBmaWVsZCAke2luZm8uZmllbGROYW1lfSBvbiBvYmplY3QgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGluZm8ub2JqZWN0LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgKX0uYCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcmV2aW91c1Jlc3VsdCkge1xuICAgICAgaWYgKGlzRXF1YWwocHJldmlvdXNSZXN1bHQsIGV4ZWNSZXN1bHQucmVzdWx0KSkge1xuICAgICAgICBleGVjUmVzdWx0LnJlc3VsdCA9IHByZXZpb3VzUmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IGV4ZWNSZXN1bHQucmVzdWx0LFxuICAgICAgY29tcGxldGU6ICFoYXNNaXNzaW5nRmllbGRzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQmFzZWQgb24gZ3JhcGhxbCBmdW5jdGlvbiBmcm9tIGdyYXBocWwtanM6XG4gICAqXG4gICAqIGdyYXBocWwoXG4gICAqICAgc2NoZW1hOiBHcmFwaFFMU2NoZW1hLFxuICAgKiAgIHJlcXVlc3RTdHJpbmc6IHN0cmluZyxcbiAgICogICByb290VmFsdWU/OiA/YW55LFxuICAgKiAgIGNvbnRleHRWYWx1ZT86ID9hbnksXG4gICAqICAgdmFyaWFibGVWYWx1ZXM/OiA/e1trZXk6IHN0cmluZ106IGFueX0sXG4gICAqICAgb3BlcmF0aW9uTmFtZT86ID9zdHJpbmdcbiAgICogKTogUHJvbWlzZTxHcmFwaFFMUmVzdWx0PlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBleHBvcnQgYXMgb2YgZ3JhcGhxbC1hbnl3aGVyZSBpcyBzeW5jIGFzIG9mIDQuMCxcbiAgICogYnV0IGJlbG93IGlzIGFuIGV4cG9ydGVkIGFsdGVybmF0aXZlIHRoYXQgaXMgYXN5bmMuXG4gICAqIEluIHRoZSA1LjAgdmVyc2lvbiwgdGhpcyB3aWxsIGJlIHRoZSBvbmx5IGV4cG9ydCBhZ2FpblxuICAgKiBhbmQgaXQgd2lsbCBiZSBhc3luY1xuICAgKlxuICAgKi9cbiAgcHJpdmF0ZSBleGVjdXRlU3RvcmVRdWVyeSh7XG4gICAgcXVlcnksXG4gICAgcm9vdFZhbHVlLFxuICAgIGNvbnRleHRWYWx1ZSxcbiAgICB2YXJpYWJsZVZhbHVlcyxcbiAgICAvLyBEZWZhdWx0IG1hdGNoZXIgYWx3YXlzIG1hdGNoZXMgYWxsIGZyYWdtZW50c1xuICAgIGZyYWdtZW50TWF0Y2hlciA9IGRlZmF1bHRGcmFnbWVudE1hdGNoZXIsXG4gIH06IEV4ZWNTdG9yZVF1ZXJ5T3B0aW9ucyk6IEV4ZWNSZXN1bHQge1xuICAgIGNvbnN0IG1haW5EZWZpbml0aW9uID0gZ2V0TWFpbkRlZmluaXRpb24ocXVlcnkpO1xuICAgIGNvbnN0IGZyYWdtZW50cyA9IGdldEZyYWdtZW50RGVmaW5pdGlvbnMocXVlcnkpO1xuICAgIGNvbnN0IGZyYWdtZW50TWFwID0gY3JlYXRlRnJhZ21lbnRNYXAoZnJhZ21lbnRzKTtcbiAgICBjb25zdCBleGVjQ29udGV4dDogRXhlY0NvbnRleHQgPSB7XG4gICAgICBxdWVyeSxcbiAgICAgIGZyYWdtZW50TWFwLFxuICAgICAgY29udGV4dFZhbHVlLFxuICAgICAgdmFyaWFibGVWYWx1ZXMsXG4gICAgICBmcmFnbWVudE1hdGNoZXIsXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVTZWxlY3Rpb25TZXQoe1xuICAgICAgc2VsZWN0aW9uU2V0OiBtYWluRGVmaW5pdGlvbi5zZWxlY3Rpb25TZXQsXG4gICAgICByb290VmFsdWUsXG4gICAgICBleGVjQ29udGV4dCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZXhlY3V0ZVNlbGVjdGlvblNldCh7XG4gICAgc2VsZWN0aW9uU2V0LFxuICAgIHJvb3RWYWx1ZSxcbiAgICBleGVjQ29udGV4dCxcbiAgfTogRXhlY1NlbGVjdGlvblNldE9wdGlvbnMpOiBFeGVjUmVzdWx0IHtcbiAgICBjb25zdCB7IGZyYWdtZW50TWFwLCBjb250ZXh0VmFsdWUsIHZhcmlhYmxlVmFsdWVzOiB2YXJpYWJsZXMgfSA9IGV4ZWNDb250ZXh0O1xuICAgIGNvbnN0IGZpbmFsUmVzdWx0OiBFeGVjUmVzdWx0ID0geyByZXN1bHQ6IG51bGwgfTtcblxuICAgIGNvbnN0IG9iamVjdHNUb01lcmdlOiB7IFtrZXk6IHN0cmluZ106IGFueSB9W10gPSBbXTtcblxuICAgIGNvbnN0IG9iamVjdDogU3RvcmVPYmplY3QgPSBjb250ZXh0VmFsdWUuc3RvcmUuZ2V0KHJvb3RWYWx1ZS5pZCk7XG5cbiAgICBjb25zdCB0eXBlbmFtZSA9XG4gICAgICAob2JqZWN0ICYmIG9iamVjdC5fX3R5cGVuYW1lKSB8fFxuICAgICAgKHJvb3RWYWx1ZS5pZCA9PT0gJ1JPT1RfUVVFUlknICYmICdRdWVyeScpIHx8XG4gICAgICB2b2lkIDA7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVNaXNzaW5nPFQ+KHJlc3VsdDogRXhlY1Jlc3VsdDxUPik6IFQge1xuICAgICAgaWYgKHJlc3VsdC5taXNzaW5nKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0Lm1pc3NpbmcgPSBmaW5hbFJlc3VsdC5taXNzaW5nIHx8IFtdO1xuICAgICAgICBmaW5hbFJlc3VsdC5taXNzaW5nLnB1c2goLi4ucmVzdWx0Lm1pc3NpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgfVxuXG4gICAgc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMuZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xuICAgICAgaWYgKCFzaG91bGRJbmNsdWRlKHNlbGVjdGlvbiwgdmFyaWFibGVzKSkge1xuICAgICAgICAvLyBTa2lwIHRoaXMgZW50aXJlbHlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGaWVsZChzZWxlY3Rpb24pKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkUmVzdWx0ID0gaGFuZGxlTWlzc2luZyhcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVGaWVsZChvYmplY3QsIHR5cGVuYW1lLCBzZWxlY3Rpb24sIGV4ZWNDb250ZXh0KSxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkUmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG9iamVjdHNUb01lcmdlLnB1c2goe1xuICAgICAgICAgICAgW3Jlc3VsdEtleU5hbWVGcm9tRmllbGQoc2VsZWN0aW9uKV06IGZpZWxkUmVzdWx0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBmcmFnbWVudDogSW5saW5lRnJhZ21lbnROb2RlIHwgRnJhZ21lbnREZWZpbml0aW9uTm9kZTtcblxuICAgICAgICBpZiAoaXNJbmxpbmVGcmFnbWVudChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgZnJhZ21lbnQgPSBzZWxlY3Rpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhIG5hbWVkIGZyYWdtZW50XG4gICAgICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudE1hcFtzZWxlY3Rpb24ubmFtZS52YWx1ZV07XG5cbiAgICAgICAgICBpZiAoIWZyYWdtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoYE5vIGZyYWdtZW50IG5hbWVkICR7c2VsZWN0aW9uLm5hbWUudmFsdWV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHlwZUNvbmRpdGlvbiA9XG4gICAgICAgICAgZnJhZ21lbnQudHlwZUNvbmRpdGlvbiAmJiBmcmFnbWVudC50eXBlQ29uZGl0aW9uLm5hbWUudmFsdWU7XG5cbiAgICAgICAgY29uc3QgbWF0Y2ggPVxuICAgICAgICAgICF0eXBlQ29uZGl0aW9uIHx8XG4gICAgICAgICAgZXhlY0NvbnRleHQuZnJhZ21lbnRNYXRjaGVyKHJvb3RWYWx1ZSwgdHlwZUNvbmRpdGlvbiwgY29udGV4dFZhbHVlKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBsZXQgZnJhZ21lbnRFeGVjUmVzdWx0ID0gdGhpcy5leGVjdXRlU2VsZWN0aW9uU2V0KHtcbiAgICAgICAgICAgIHNlbGVjdGlvblNldDogZnJhZ21lbnQuc2VsZWN0aW9uU2V0LFxuICAgICAgICAgICAgcm9vdFZhbHVlLFxuICAgICAgICAgICAgZXhlY0NvbnRleHQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobWF0Y2ggPT09ICdoZXVyaXN0aWMnICYmIGZyYWdtZW50RXhlY1Jlc3VsdC5taXNzaW5nKSB7XG4gICAgICAgICAgICBmcmFnbWVudEV4ZWNSZXN1bHQgPSB7XG4gICAgICAgICAgICAgIC4uLmZyYWdtZW50RXhlY1Jlc3VsdCxcbiAgICAgICAgICAgICAgbWlzc2luZzogZnJhZ21lbnRFeGVjUmVzdWx0Lm1pc3NpbmcubWFwKGluZm8gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmluZm8sIHRvbGVyYWJsZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2JqZWN0c1RvTWVyZ2UucHVzaChoYW5kbGVNaXNzaW5nKGZyYWdtZW50RXhlY1Jlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQZXJmb3JtIGEgc2luZ2xlIG1lcmdlIGF0IHRoZSBlbmQgc28gdGhhdCB3ZSBjYW4gYXZvaWQgbWFraW5nIG1vcmVcbiAgICAvLyBkZWZlbnNpdmUgc2hhbGxvdyBjb3BpZXMgdGhhbiBuZWNlc3NhcnkuXG4gICAgZmluYWxSZXN1bHQucmVzdWx0ID0gbWVyZ2VEZWVwQXJyYXkob2JqZWN0c1RvTWVyZ2UpO1xuXG4gICAgaWYgKHRoaXMuZnJlZXplUmVzdWx0cyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGZpbmFsUmVzdWx0LnJlc3VsdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBleGVjdXRlRmllbGQoXG4gICAgb2JqZWN0OiBTdG9yZU9iamVjdCxcbiAgICB0eXBlbmFtZTogc3RyaW5nIHwgdm9pZCxcbiAgICBmaWVsZDogRmllbGROb2RlLFxuICAgIGV4ZWNDb250ZXh0OiBFeGVjQ29udGV4dCxcbiAgKTogRXhlY1Jlc3VsdCB7XG4gICAgY29uc3QgeyB2YXJpYWJsZVZhbHVlczogdmFyaWFibGVzLCBjb250ZXh0VmFsdWUgfSA9IGV4ZWNDb250ZXh0O1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkLm5hbWUudmFsdWU7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50c09iamVjdEZyb21GaWVsZChmaWVsZCwgdmFyaWFibGVzKTtcblxuICAgIGNvbnN0IGluZm86IEV4ZWNJbmZvID0ge1xuICAgICAgcmVzdWx0S2V5OiByZXN1bHRLZXlOYW1lRnJvbUZpZWxkKGZpZWxkKSxcbiAgICAgIGRpcmVjdGl2ZXM6IGdldERpcmVjdGl2ZUluZm9Gcm9tRmllbGQoZmllbGQsIHZhcmlhYmxlcyksXG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRTdG9yZVJlc3VsdCA9IHJlYWRTdG9yZVJlc29sdmVyKFxuICAgICAgb2JqZWN0LFxuICAgICAgdHlwZW5hbWUsXG4gICAgICBmaWVsZE5hbWUsXG4gICAgICBhcmdzLFxuICAgICAgY29udGV4dFZhbHVlLFxuICAgICAgaW5mbyxcbiAgICApO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVhZFN0b3JlUmVzdWx0LnJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbWJpbmVFeGVjUmVzdWx0cyhcbiAgICAgICAgcmVhZFN0b3JlUmVzdWx0LFxuICAgICAgICB0aGlzLmV4ZWN1dGVTdWJTZWxlY3RlZEFycmF5KHtcbiAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICBhcnJheTogcmVhZFN0b3JlUmVzdWx0LnJlc3VsdCxcbiAgICAgICAgICBleGVjQ29udGV4dCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBhbGwgc2NhbGFyIHR5cGVzIGhlcmVcbiAgICBpZiAoIWZpZWxkLnNlbGVjdGlvblNldCkge1xuICAgICAgYXNzZXJ0U2VsZWN0aW9uU2V0Rm9ySWRWYWx1ZShmaWVsZCwgcmVhZFN0b3JlUmVzdWx0LnJlc3VsdCk7XG4gICAgICBpZiAodGhpcy5mcmVlemVSZXN1bHRzICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgbWF5YmVEZWVwRnJlZXplKHJlYWRTdG9yZVJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVhZFN0b3JlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEZyb20gaGVyZSBkb3duLCB0aGUgZmllbGQgaGFzIGEgc2VsZWN0aW9uIHNldCwgd2hpY2ggbWVhbnMgaXQncyB0cnlpbmcgdG9cbiAgICAvLyBxdWVyeSBhIEdyYXBoUUxPYmplY3RUeXBlXG4gICAgaWYgKHJlYWRTdG9yZVJlc3VsdC5yZXN1bHQgPT0gbnVsbCkge1xuICAgICAgLy8gQmFzaWNhbGx5IGFueSBmaWVsZCBpbiBhIEdyYXBoUUwgcmVzcG9uc2UgY2FuIGJlIG51bGwsIG9yIG1pc3NpbmdcbiAgICAgIHJldHVybiByZWFkU3RvcmVSZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuZWQgdmFsdWUgaXMgYW4gb2JqZWN0LCBhbmQgdGhlIHF1ZXJ5IGhhcyBhIHN1Yi1zZWxlY3Rpb24uIFJlY3Vyc2UuXG4gICAgcmV0dXJuIHRoaXMuY29tYmluZUV4ZWNSZXN1bHRzKFxuICAgICAgcmVhZFN0b3JlUmVzdWx0LFxuICAgICAgdGhpcy5leGVjdXRlU2VsZWN0aW9uU2V0KHtcbiAgICAgICAgc2VsZWN0aW9uU2V0OiBmaWVsZC5zZWxlY3Rpb25TZXQsXG4gICAgICAgIHJvb3RWYWx1ZTogcmVhZFN0b3JlUmVzdWx0LnJlc3VsdCxcbiAgICAgICAgZXhlY0NvbnRleHQsXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21iaW5lRXhlY1Jlc3VsdHM8VD4oXG4gICAgLi4uZXhlY1Jlc3VsdHM6IEV4ZWNSZXN1bHQ8VD5bXVxuICApOiBFeGVjUmVzdWx0PFQ+IHtcbiAgICBsZXQgbWlzc2luZzogRXhlY1Jlc3VsdE1pc3NpbmdGaWVsZFtdIHwgdW5kZWZpbmVkO1xuICAgIGV4ZWNSZXN1bHRzLmZvckVhY2goZXhlY1Jlc3VsdCA9PiB7XG4gICAgICBpZiAoZXhlY1Jlc3VsdC5taXNzaW5nKSB7XG4gICAgICAgIG1pc3NpbmcgPSBtaXNzaW5nIHx8IFtdO1xuICAgICAgICBtaXNzaW5nLnB1c2goLi4uZXhlY1Jlc3VsdC5taXNzaW5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0OiBleGVjUmVzdWx0cy5wb3AoKSEucmVzdWx0LFxuICAgICAgbWlzc2luZyxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBleGVjdXRlU3ViU2VsZWN0ZWRBcnJheSh7XG4gICAgZmllbGQsXG4gICAgYXJyYXksXG4gICAgZXhlY0NvbnRleHQsXG4gIH06IEV4ZWNTdWJTZWxlY3RlZEFycmF5T3B0aW9ucyk6IEV4ZWNSZXN1bHQge1xuICAgIGxldCBtaXNzaW5nOiBFeGVjUmVzdWx0TWlzc2luZ0ZpZWxkW10gfCB1bmRlZmluZWQ7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVNaXNzaW5nPFQ+KGNoaWxkUmVzdWx0OiBFeGVjUmVzdWx0PFQ+KTogVCB7XG4gICAgICBpZiAoY2hpbGRSZXN1bHQubWlzc2luZykge1xuICAgICAgICBtaXNzaW5nID0gbWlzc2luZyB8fCBbXTtcbiAgICAgICAgbWlzc2luZy5wdXNoKC4uLmNoaWxkUmVzdWx0Lm1pc3NpbmcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGRSZXN1bHQucmVzdWx0O1xuICAgIH1cblxuICAgIGFycmF5ID0gYXJyYXkubWFwKGl0ZW0gPT4ge1xuICAgICAgLy8gbnVsbCB2YWx1ZSBpbiBhcnJheVxuICAgICAgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgaXMgYSBuZXN0ZWQgYXJyYXksIHJlY3Vyc2VcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVNaXNzaW5nKHRoaXMuZXhlY3V0ZVN1YlNlbGVjdGVkQXJyYXkoe1xuICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgIGFycmF5OiBpdGVtLFxuICAgICAgICAgIGV4ZWNDb250ZXh0LFxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0LCBydW4gdGhlIHNlbGVjdGlvbiBzZXQgb24gaXRcbiAgICAgIGlmIChmaWVsZC5zZWxlY3Rpb25TZXQpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZU1pc3NpbmcodGhpcy5leGVjdXRlU2VsZWN0aW9uU2V0KHtcbiAgICAgICAgICBzZWxlY3Rpb25TZXQ6IGZpZWxkLnNlbGVjdGlvblNldCxcbiAgICAgICAgICByb290VmFsdWU6IGl0ZW0sXG4gICAgICAgICAgZXhlY0NvbnRleHQsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0U2VsZWN0aW9uU2V0Rm9ySWRWYWx1ZShmaWVsZCwgaXRlbSk7XG5cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuZnJlZXplUmVzdWx0cyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGFycmF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyByZXN1bHQ6IGFycmF5LCBtaXNzaW5nIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2VsZWN0aW9uU2V0Rm9ySWRWYWx1ZShcbiAgZmllbGQ6IEZpZWxkTm9kZSxcbiAgdmFsdWU6IGFueSxcbikge1xuICBpZiAoIWZpZWxkLnNlbGVjdGlvblNldCAmJiBpc0lkVmFsdWUodmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKFxuICAgICAgYE1pc3Npbmcgc2VsZWN0aW9uIHNldCBmb3Igb2JqZWN0IG9mIHR5cGUgJHtcbiAgICAgICAgdmFsdWUudHlwZW5hbWVcbiAgICAgIH0gcmV0dXJuZWQgZm9yIHF1ZXJ5IGZpZWxkICR7ZmllbGQubmFtZS52YWx1ZX1gXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0RnJhZ21lbnRNYXRjaGVyKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElkVmFsdWUoaWRWYWx1ZTogSWRWYWx1ZSkge1xuICBpbnZhcmlhbnQoaXNJZFZhbHVlKGlkVmFsdWUpLCBgXFxcbkVuY291bnRlcmVkIGEgc3ViLXNlbGVjdGlvbiBvbiB0aGUgcXVlcnksIGJ1dCB0aGUgc3RvcmUgZG9lc24ndCBoYXZlIFxcXG5hbiBvYmplY3QgcmVmZXJlbmNlLiBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4gZHVyaW5nIG5vcm1hbCB1c2UgdW5sZXNzIHlvdSBoYXZlIGN1c3RvbSBjb2RlIFxcXG50aGF0IGlzIGRpcmVjdGx5IG1hbmlwdWxhdGluZyB0aGUgc3RvcmU7IHBsZWFzZSBmaWxlIGFuIGlzc3VlLmApO1xufVxuXG5mdW5jdGlvbiByZWFkU3RvcmVSZXNvbHZlcihcbiAgb2JqZWN0OiBTdG9yZU9iamVjdCxcbiAgdHlwZW5hbWU6IHN0cmluZyB8IHZvaWQsXG4gIGZpZWxkTmFtZTogc3RyaW5nLFxuICBhcmdzOiBhbnksXG4gIGNvbnRleHQ6IFJlYWRTdG9yZUNvbnRleHQsXG4gIHsgcmVzdWx0S2V5LCBkaXJlY3RpdmVzIH06IEV4ZWNJbmZvLFxuKTogRXhlY1Jlc3VsdDxTdG9yZVZhbHVlPiB7XG4gIGxldCBzdG9yZUtleU5hbWUgPSBmaWVsZE5hbWU7XG4gIGlmIChhcmdzIHx8IGRpcmVjdGl2ZXMpIHtcbiAgICAvLyBXZSBoYXBwZW4gdG8ga25vdyBoZXJlIHRoYXQgZ2V0U3RvcmVLZXlOYW1lIHJldHVybnMgaXRzIGZpcnN0XG4gICAgLy8gYXJndW1lbnQgdW5tb2RpZmllZCBpZiB0aGVyZSBhcmUgbm8gYXJncyBvciBkaXJlY3RpdmVzLCBzbyB3ZSBjYW5cbiAgICAvLyBhdm9pZCBjYWxsaW5nIHRoZSBmdW5jdGlvbiBhdCBhbGwgaW4gdGhhdCBjYXNlLCBhcyBhIHNtYWxsIGJ1dFxuICAgIC8vIGltcG9ydGFudCBvcHRpbWl6YXRpb24gdG8gdGhpcyBmcmVxdWVudGx5IGV4ZWN1dGVkIGNvZGUuXG4gICAgc3RvcmVLZXlOYW1lID0gZ2V0U3RvcmVLZXlOYW1lKHN0b3JlS2V5TmFtZSwgYXJncywgZGlyZWN0aXZlcyk7XG4gIH1cblxuICBsZXQgZmllbGRWYWx1ZTogU3RvcmVWYWx1ZSB8IHZvaWQgPSB2b2lkIDA7XG5cbiAgaWYgKG9iamVjdCkge1xuICAgIGZpZWxkVmFsdWUgPSBvYmplY3Rbc3RvcmVLZXlOYW1lXTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBmaWVsZFZhbHVlID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgY29udGV4dC5jYWNoZVJlZGlyZWN0cyAmJlxuICAgICAgdHlwZW9mIHR5cGVuYW1lID09PSAnc3RyaW5nJ1xuICAgICkge1xuICAgICAgLy8gTG9vayBmb3IgdGhlIHR5cGUgaW4gdGhlIGN1c3RvbSByZXNvbHZlciBtYXBcbiAgICAgIGNvbnN0IHR5cGUgPSBjb250ZXh0LmNhY2hlUmVkaXJlY3RzW3R5cGVuYW1lXTtcbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIC8vIExvb2sgZm9yIHRoZSBmaWVsZCBpbiB0aGUgY3VzdG9tIHJlc29sdmVyIG1hcFxuICAgICAgICBjb25zdCByZXNvbHZlciA9IHR5cGVbZmllbGROYW1lXTtcbiAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IHJlc29sdmVyKG9iamVjdCwgYXJncywge1xuICAgICAgICAgICAgZ2V0Q2FjaGVLZXkoc3RvcmVPYmo6IFN0b3JlT2JqZWN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkID0gY29udGV4dC5kYXRhSWRGcm9tT2JqZWN0IShzdG9yZU9iaik7XG4gICAgICAgICAgICAgIHJldHVybiBpZCAmJiB0b0lkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHR5cGVuYW1lOiBzdG9yZU9iai5fX3R5cGVuYW1lLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGZpZWxkVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdDogZmllbGRWYWx1ZSxcbiAgICAgIG1pc3Npbmc6IFt7XG4gICAgICAgIG9iamVjdCxcbiAgICAgICAgZmllbGROYW1lOiBzdG9yZUtleU5hbWUsXG4gICAgICAgIHRvbGVyYWJsZTogZmFsc2UsXG4gICAgICB9XSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzSnNvblZhbHVlKGZpZWxkVmFsdWUpKSB7XG4gICAgZmllbGRWYWx1ZSA9IGZpZWxkVmFsdWUuanNvbjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVzdWx0OiBmaWVsZFZhbHVlLFxuICB9O1xufVxuIiwiaW1wb3J0IHsgTm9ybWFsaXplZENhY2hlLCBOb3JtYWxpemVkQ2FjaGVPYmplY3QsIFN0b3JlT2JqZWN0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBPYmplY3RDYWNoZSBpbXBsZW1lbnRzIE5vcm1hbGl6ZWRDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBkYXRhOiBOb3JtYWxpemVkQ2FjaGVPYmplY3QgPSBPYmplY3QuY3JlYXRlKG51bGwpKSB7fVxuXG4gIHB1YmxpYyB0b09iamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG5cbiAgcHVibGljIGdldChkYXRhSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGFbZGF0YUlkXSE7XG4gIH1cblxuICBwdWJsaWMgc2V0KGRhdGFJZDogc3RyaW5nLCB2YWx1ZTogU3RvcmVPYmplY3QpIHtcbiAgICB0aGlzLmRhdGFbZGF0YUlkXSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZShkYXRhSWQ6IHN0cmluZykge1xuICAgIHRoaXMuZGF0YVtkYXRhSWRdID0gdm9pZCAwO1xuICB9XG5cbiAgcHVibGljIGNsZWFyKCkge1xuICAgIHRoaXMuZGF0YSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cblxuICBwdWJsaWMgcmVwbGFjZShuZXdEYXRhOiBOb3JtYWxpemVkQ2FjaGVPYmplY3QpIHtcbiAgICB0aGlzLmRhdGEgPSBuZXdEYXRhIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHROb3JtYWxpemVkQ2FjaGVGYWN0b3J5KFxuICBzZWVkPzogTm9ybWFsaXplZENhY2hlT2JqZWN0LFxuKTogTm9ybWFsaXplZENhY2hlIHtcbiAgcmV0dXJuIG5ldyBPYmplY3RDYWNoZShzZWVkKTtcbn1cbiIsImltcG9ydCB7XG4gIFNlbGVjdGlvblNldE5vZGUsXG4gIEZpZWxkTm9kZSxcbiAgRG9jdW1lbnROb2RlLFxuICBJbmxpbmVGcmFnbWVudE5vZGUsXG4gIEZyYWdtZW50RGVmaW5pdGlvbk5vZGUsXG59IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgRnJhZ21lbnRNYXRjaGVyIH0gZnJvbSAnLi9yZWFkRnJvbVN0b3JlJztcblxuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBjcmVhdGVGcmFnbWVudE1hcCxcbiAgRnJhZ21lbnRNYXAsXG4gIGdldERlZmF1bHRWYWx1ZXMsXG4gIGdldEZyYWdtZW50RGVmaW5pdGlvbnMsXG4gIGdldE9wZXJhdGlvbkRlZmluaXRpb24sXG4gIElkVmFsdWUsXG4gIGlzRmllbGQsXG4gIGlzSWRWYWx1ZSxcbiAgaXNJbmxpbmVGcmFnbWVudCxcbiAgaXNQcm9kdWN0aW9uLFxuICByZXN1bHRLZXlOYW1lRnJvbUZpZWxkLFxuICBzaG91bGRJbmNsdWRlLFxuICBzdG9yZUtleU5hbWVGcm9tRmllbGQsXG4gIFN0b3JlVmFsdWUsXG4gIHRvSWRWYWx1ZSxcbiAgaXNFcXVhbCxcbn0gZnJvbSAnYXBvbGxvLXV0aWxpdGllcyc7XG5cbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmltcG9ydCB7IE9iamVjdENhY2hlIH0gZnJvbSAnLi9vYmplY3RDYWNoZSc7XG5pbXBvcnQgeyBkZWZhdWx0Tm9ybWFsaXplZENhY2hlRmFjdG9yeSB9IGZyb20gJy4vZGVwVHJhY2tpbmdDYWNoZSc7XG5cbmltcG9ydCB7XG4gIElkR2V0dGVyLFxuICBOb3JtYWxpemVkQ2FjaGUsXG4gIFJlYWRTdG9yZUNvbnRleHQsXG4gIFN0b3JlT2JqZWN0LFxufSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFdyaXRlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyB0eXBlID0gJ1dyaXRlRXJyb3InO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5oYW5jZUVycm9yV2l0aERvY3VtZW50KGVycm9yOiBFcnJvciwgZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSkge1xuICAvLyBYWFggQSBiaXQgaGFja3kgbWF5YmUgLi4uXG4gIGNvbnN0IGVuaGFuY2VkRXJyb3IgPSBuZXcgV3JpdGVFcnJvcihcbiAgICBgRXJyb3Igd3JpdGluZyByZXN1bHQgdG8gc3RvcmUgZm9yIHF1ZXJ5OlxcbiAke0pTT04uc3RyaW5naWZ5KGRvY3VtZW50KX1gLFxuICApO1xuICBlbmhhbmNlZEVycm9yLm1lc3NhZ2UgKz0gJ1xcbicgKyBlcnJvci5tZXNzYWdlO1xuICBlbmhhbmNlZEVycm9yLnN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gIHJldHVybiBlbmhhbmNlZEVycm9yO1xufVxuXG5leHBvcnQgdHlwZSBXcml0ZUNvbnRleHQgPSB7XG4gIHJlYWRvbmx5IHN0b3JlOiBOb3JtYWxpemVkQ2FjaGU7XG4gIHJlYWRvbmx5IHByb2Nlc3NlZERhdGE/OiB7IFt4OiBzdHJpbmddOiBGaWVsZE5vZGVbXSB9O1xuICByZWFkb25seSB2YXJpYWJsZXM/OiBhbnk7XG4gIHJlYWRvbmx5IGRhdGFJZEZyb21PYmplY3Q/OiBJZEdldHRlcjtcbiAgcmVhZG9ubHkgZnJhZ21lbnRNYXA/OiBGcmFnbWVudE1hcDtcbiAgcmVhZG9ubHkgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24/OiBGcmFnbWVudE1hdGNoZXI7XG59O1xuXG5leHBvcnQgY2xhc3MgU3RvcmVXcml0ZXIge1xuICAvKipcbiAgICogV3JpdGVzIHRoZSByZXN1bHQgb2YgYSBxdWVyeSB0byB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEBwYXJhbSByZXN1bHQgVGhlIHJlc3VsdCBvYmplY3QgcmV0dXJuZWQgZm9yIHRoZSBxdWVyeSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSBkb2N1bWVudCB3aG9zZSByZXN1bHQgd2UgYXJlIHdyaXRpbmcgdG8gdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcGFyYW0gc3RvcmUgVGhlIHtAbGluayBOb3JtYWxpemVkQ2FjaGV9IHVzZWQgYnkgQXBvbGxvIGZvciB0aGUgYGRhdGFgIHBvcnRpb24gb2YgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcGFyYW0gdmFyaWFibGVzIEEgbWFwIGZyb20gdGhlIG5hbWUgb2YgYSB2YXJpYWJsZSB0byBpdHMgdmFsdWUuIFRoZXNlIHZhcmlhYmxlcyBjYW4gYmVcbiAgICogcmVmZXJlbmNlZCBieSB0aGUgcXVlcnkgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhSWRGcm9tT2JqZWN0IEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIG9iamVjdCBpZGVudGlmaWVyIGdpdmVuIGEgcGFydGljdWxhciByZXN1bHRcbiAgICogb2JqZWN0LiBTZWUgdGhlIHN0b3JlIGRvY3VtZW50YXRpb24gZm9yIGRldGFpbHMgYW5kIGFuIGV4YW1wbGUgb2YgdGhpcyBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uIEEgZnVuY3Rpb24gdG8gdXNlIGZvciBtYXRjaGluZyBmcmFnbWVudCBjb25kaXRpb25zIGluIEdyYXBoUUwgZG9jdW1lbnRzXG4gICAqL1xuICBwdWJsaWMgd3JpdGVRdWVyeVRvU3RvcmUoe1xuICAgIHF1ZXJ5LFxuICAgIHJlc3VsdCxcbiAgICBzdG9yZSA9IGRlZmF1bHROb3JtYWxpemVkQ2FjaGVGYWN0b3J5KCksXG4gICAgdmFyaWFibGVzLFxuICAgIGRhdGFJZEZyb21PYmplY3QsXG4gICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gIH06IHtcbiAgICBxdWVyeTogRG9jdW1lbnROb2RlO1xuICAgIHJlc3VsdDogT2JqZWN0O1xuICAgIHN0b3JlPzogTm9ybWFsaXplZENhY2hlO1xuICAgIHZhcmlhYmxlcz86IE9iamVjdDtcbiAgICBkYXRhSWRGcm9tT2JqZWN0PzogSWRHZXR0ZXI7XG4gICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24/OiBGcmFnbWVudE1hdGNoZXI7XG4gIH0pOiBOb3JtYWxpemVkQ2FjaGUge1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzdWx0VG9TdG9yZSh7XG4gICAgICBkYXRhSWQ6ICdST09UX1FVRVJZJyxcbiAgICAgIHJlc3VsdCxcbiAgICAgIGRvY3VtZW50OiBxdWVyeSxcbiAgICAgIHN0b3JlLFxuICAgICAgdmFyaWFibGVzLFxuICAgICAgZGF0YUlkRnJvbU9iamVjdCxcbiAgICAgIGZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHdyaXRlUmVzdWx0VG9TdG9yZSh7XG4gICAgZGF0YUlkLFxuICAgIHJlc3VsdCxcbiAgICBkb2N1bWVudCxcbiAgICBzdG9yZSA9IGRlZmF1bHROb3JtYWxpemVkQ2FjaGVGYWN0b3J5KCksXG4gICAgdmFyaWFibGVzLFxuICAgIGRhdGFJZEZyb21PYmplY3QsXG4gICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gIH06IHtcbiAgICBkYXRhSWQ6IHN0cmluZztcbiAgICByZXN1bHQ6IGFueTtcbiAgICBkb2N1bWVudDogRG9jdW1lbnROb2RlO1xuICAgIHN0b3JlPzogTm9ybWFsaXplZENhY2hlO1xuICAgIHZhcmlhYmxlcz86IE9iamVjdDtcbiAgICBkYXRhSWRGcm9tT2JqZWN0PzogSWRHZXR0ZXI7XG4gICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24/OiBGcmFnbWVudE1hdGNoZXI7XG4gIH0pOiBOb3JtYWxpemVkQ2FjaGUge1xuICAgIC8vIFhYWCBUT0RPIFJFRkFDVE9SOiB0aGlzIGlzIGEgdGVtcG9yYXJ5IHdvcmthcm91bmQgdW50aWwgcXVlcnkgbm9ybWFsaXphdGlvbiBpcyBtYWRlIHRvIHdvcmsgd2l0aCBkb2N1bWVudHMuXG4gICAgY29uc3Qgb3BlcmF0aW9uRGVmaW5pdGlvbiA9IGdldE9wZXJhdGlvbkRlZmluaXRpb24oZG9jdW1lbnQpITtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy53cml0ZVNlbGVjdGlvblNldFRvU3RvcmUoe1xuICAgICAgICByZXN1bHQsXG4gICAgICAgIGRhdGFJZCxcbiAgICAgICAgc2VsZWN0aW9uU2V0OiBvcGVyYXRpb25EZWZpbml0aW9uLnNlbGVjdGlvblNldCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgIHByb2Nlc3NlZERhdGE6IHt9LFxuICAgICAgICAgIHZhcmlhYmxlczogYXNzaWduKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBnZXREZWZhdWx0VmFsdWVzKG9wZXJhdGlvbkRlZmluaXRpb24pLFxuICAgICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICAgICksXG4gICAgICAgICAgZGF0YUlkRnJvbU9iamVjdCxcbiAgICAgICAgICBmcmFnbWVudE1hcDogY3JlYXRlRnJhZ21lbnRNYXAoZ2V0RnJhZ21lbnREZWZpbml0aW9ucyhkb2N1bWVudCkpLFxuICAgICAgICAgIGZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZW5oYW5jZUVycm9yV2l0aERvY3VtZW50KGUsIGRvY3VtZW50KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgd3JpdGVTZWxlY3Rpb25TZXRUb1N0b3JlKHtcbiAgICByZXN1bHQsXG4gICAgZGF0YUlkLFxuICAgIHNlbGVjdGlvblNldCxcbiAgICBjb250ZXh0LFxuICB9OiB7XG4gICAgZGF0YUlkOiBzdHJpbmc7XG4gICAgcmVzdWx0OiBhbnk7XG4gICAgc2VsZWN0aW9uU2V0OiBTZWxlY3Rpb25TZXROb2RlO1xuICAgIGNvbnRleHQ6IFdyaXRlQ29udGV4dDtcbiAgfSk6IE5vcm1hbGl6ZWRDYWNoZSB7XG4gICAgY29uc3QgeyB2YXJpYWJsZXMsIHN0b3JlLCBmcmFnbWVudE1hcCB9ID0gY29udGV4dDtcblxuICAgIHNlbGVjdGlvblNldC5zZWxlY3Rpb25zLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICAgIGlmICghc2hvdWxkSW5jbHVkZShzZWxlY3Rpb24sIHZhcmlhYmxlcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGaWVsZChzZWxlY3Rpb24pKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdEZpZWxkS2V5OiBzdHJpbmcgPSByZXN1bHRLZXlOYW1lRnJvbUZpZWxkKHNlbGVjdGlvbik7XG4gICAgICAgIGNvbnN0IHZhbHVlOiBhbnkgPSByZXN1bHRbcmVzdWx0RmllbGRLZXldO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy53cml0ZUZpZWxkVG9TdG9yZSh7XG4gICAgICAgICAgICBkYXRhSWQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGZpZWxkOiBzZWxlY3Rpb24sXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpc0RlZmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgaXNDbGllbnQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uLmRpcmVjdGl2ZXMgJiYgc2VsZWN0aW9uLmRpcmVjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgZGVmZXJlZCBmaWVsZCB3ZSBkb24ndCBuZWVkIHRvIHRocm93IC8gd2Fybi5cbiAgICAgICAgICAgIGlzRGVmZXJlZCA9IHNlbGVjdGlvbi5kaXJlY3RpdmVzLnNvbWUoXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZSA9PiBkaXJlY3RpdmUubmFtZSAmJiBkaXJlY3RpdmUubmFtZS52YWx1ZSA9PT0gJ2RlZmVyJyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFdoZW4gdXNpbmcgdGhlIEBjbGllbnQgZGlyZWN0aXZlLCBpdCBtaWdodCBiZSBkZXNpcmFibGUgaW5cbiAgICAgICAgICAgIC8vIHNvbWUgY2FzZXMgdG8gd2FudCB0byB3cml0ZSBhIHNlbGVjdGlvbiBzZXQgdG8gdGhlIHN0b3JlLFxuICAgICAgICAgICAgLy8gd2l0aG91dCBoYXZpbmcgYWxsIG9mIHRoZSBzZWxlY3Rpb24gc2V0IHZhbHVlcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlIEBjbGllbnQgZmllbGQgdmFsdWVzIG1pZ2h0IGhhdmUgYWxyZWFkeVxuICAgICAgICAgICAgLy8gYmVlbiB3cml0dGVuIHRvIHRoZSBjYWNoZSBzZXBhcmF0ZWx5IChlLmcuIHZpYSBBcG9sbG9cbiAgICAgICAgICAgIC8vIENhY2hlJ3MgYHdyaXRlRGF0YWAgY2FwYWJpbGl0aWVzKS4gQmVjYXVzZSBvZiB0aGlzLCB3ZSdsbFxuICAgICAgICAgICAgLy8gc2tpcCB0aGUgbWlzc2luZyBmaWVsZCB3YXJuaW5nIGZvciBmaWVsZHMgd2l0aCBAY2xpZW50XG4gICAgICAgICAgICAvLyBkaXJlY3RpdmVzLlxuICAgICAgICAgICAgaXNDbGllbnQgPSBzZWxlY3Rpb24uZGlyZWN0aXZlcy5zb21lKFxuICAgICAgICAgICAgICBkaXJlY3RpdmUgPT4gZGlyZWN0aXZlLm5hbWUgJiYgZGlyZWN0aXZlLm5hbWUudmFsdWUgPT09ICdjbGllbnQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWlzRGVmZXJlZCAmJiAhaXNDbGllbnQgJiYgY29udGV4dC5mcmFnbWVudE1hdGNoZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgLy8gWFhYIFdlJ2QgbGlrZSB0byB0aHJvdyBhbiBlcnJvciwgYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSdzIHNha2VcbiAgICAgICAgICAgIC8vIHdlIGp1c3QgcHJpbnQgYSB3YXJuaW5nIGZvciB0aGUgdGltZSBiZWluZy5cbiAgICAgICAgICAgIC8vdGhyb3cgbmV3IFdyaXRlRXJyb3IoYE1pc3NpbmcgZmllbGQgJHtyZXN1bHRGaWVsZEtleX0gaW4gJHtKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpLnN1YnN0cmluZygwLCAxMDApfWApO1xuICAgICAgICAgICAgaW52YXJpYW50Lndhcm4oXG4gICAgICAgICAgICAgIGBNaXNzaW5nIGZpZWxkICR7cmVzdWx0RmllbGRLZXl9IGluICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgKS5zdWJzdHJpbmcoMCwgMTAwKX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXMgbm90IGEgZmllbGQsIHNvIGl0IG11c3QgYmUgYSBmcmFnbWVudCwgZWl0aGVyIGlubGluZSBvciBuYW1lZFxuICAgICAgICBsZXQgZnJhZ21lbnQ6IElubGluZUZyYWdtZW50Tm9kZSB8IEZyYWdtZW50RGVmaW5pdGlvbk5vZGU7XG5cbiAgICAgICAgaWYgKGlzSW5saW5lRnJhZ21lbnQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgIGZyYWdtZW50ID0gc2VsZWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5hbWVkIGZyYWdtZW50XG4gICAgICAgICAgZnJhZ21lbnQgPSAoZnJhZ21lbnRNYXAgfHwge30pW3NlbGVjdGlvbi5uYW1lLnZhbHVlXTtcbiAgICAgICAgICBpbnZhcmlhbnQoZnJhZ21lbnQsIGBObyBmcmFnbWVudCBuYW1lZCAke3NlbGVjdGlvbi5uYW1lLnZhbHVlfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtYXRjaGVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbnRleHQuZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24gJiYgZnJhZ21lbnQudHlwZUNvbmRpdGlvbikge1xuICAgICAgICAgIC8vIFRPRE8gd2UgbmVlZCB0byByZXdyaXRlIHRoZSBmcmFnbWVudCBtYXRjaGVycyBmb3IgdGhpcyB0byB3b3JrIHByb3Blcmx5IGFuZCBlZmZpY2llbnRseVxuICAgICAgICAgIC8vIFJpZ2h0IG5vdyB3ZSBoYXZlIHRvIHByZXRlbmQgdGhhdCB3ZSdyZSBwYXNzaW5nIGluIGFuIGlkVmFsdWUgYW5kIHRoYXQgdGhlcmUncyBhIHN0b3JlXG4gICAgICAgICAgLy8gb24gdGhlIGNvbnRleHQuXG4gICAgICAgICAgY29uc3QgaWQgPSBkYXRhSWQgfHwgJ3NlbGYnO1xuICAgICAgICAgIGNvbnN0IGlkVmFsdWUgPSB0b0lkVmFsdWUoeyBpZCwgdHlwZW5hbWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICBjb25zdCBmYWtlQ29udGV4dDogUmVhZFN0b3JlQ29udGV4dCA9IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGZha2VDb250ZXh0IGFsd2F5cyB1c2VzIE9iamVjdENhY2hlXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIG9ubHkgdG8gZW5zdXJlIHRoZSByZXR1cm4gdmFsdWUgb2YgJ21hdGNoZXMnXG4gICAgICAgICAgICBzdG9yZTogbmV3IE9iamVjdENhY2hlKHsgW2lkXTogcmVzdWx0IH0pLFxuICAgICAgICAgICAgY2FjaGVSZWRpcmVjdHM6IHt9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjb250ZXh0LmZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uKFxuICAgICAgICAgICAgaWRWYWx1ZSxcbiAgICAgICAgICAgIGZyYWdtZW50LnR5cGVDb25kaXRpb24ubmFtZS52YWx1ZSxcbiAgICAgICAgICAgIGZha2VDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSAmJiBtYXRjaCA9PT0gJ2hldXJpc3RpYycpIHtcbiAgICAgICAgICAgIGludmFyaWFudC5lcnJvcignV0FSTklORzogaGV1cmlzdGljIGZyYWdtZW50IG1hdGNoaW5nIGdvaW5nIG9uIScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXRjaGVzID0gISFtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgdGhpcy53cml0ZVNlbGVjdGlvblNldFRvU3RvcmUoe1xuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgc2VsZWN0aW9uU2V0OiBmcmFnbWVudC5zZWxlY3Rpb25TZXQsXG4gICAgICAgICAgICBkYXRhSWQsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cblxuICBwcml2YXRlIHdyaXRlRmllbGRUb1N0b3JlKHtcbiAgICBmaWVsZCxcbiAgICB2YWx1ZSxcbiAgICBkYXRhSWQsXG4gICAgY29udGV4dCxcbiAgfToge1xuICAgIGZpZWxkOiBGaWVsZE5vZGU7XG4gICAgdmFsdWU6IGFueTtcbiAgICBkYXRhSWQ6IHN0cmluZztcbiAgICBjb250ZXh0OiBXcml0ZUNvbnRleHQ7XG4gIH0pIHtcbiAgICBjb25zdCB7IHZhcmlhYmxlcywgZGF0YUlkRnJvbU9iamVjdCwgc3RvcmUgfSA9IGNvbnRleHQ7XG5cbiAgICBsZXQgc3RvcmVWYWx1ZTogU3RvcmVWYWx1ZTtcbiAgICBsZXQgc3RvcmVPYmplY3Q6IFN0b3JlT2JqZWN0O1xuXG4gICAgY29uc3Qgc3RvcmVGaWVsZE5hbWU6IHN0cmluZyA9IHN0b3JlS2V5TmFtZUZyb21GaWVsZChmaWVsZCwgdmFyaWFibGVzKTtcblxuICAgIC8vIElmIHRoaXMgaXMgYSBzY2FsYXIgdmFsdWUuLi5cbiAgICBpZiAoIWZpZWxkLnNlbGVjdGlvblNldCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgc3RvcmVWYWx1ZSA9XG4gICAgICAgIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgICAgID8gLy8gSWYgdGhlIHNjYWxhciB2YWx1ZSBpcyBhIEpTT04gYmxvYiwgd2UgaGF2ZSB0byBcImVzY2FwZVwiIGl0IHNvIGl0IGNhbuKAmXQgcHJldGVuZCB0byBiZVxuICAgICAgICAgICAgLy8gYW4gaWQuXG4gICAgICAgICAgICB7IHR5cGU6ICdqc29uJywganNvbjogdmFsdWUgfVxuICAgICAgICAgIDogLy8gT3RoZXJ3aXNlLCBqdXN0IHN0b3JlIHRoZSBzY2FsYXIgZGlyZWN0bHkgaW4gdGhlIHN0b3JlLlxuICAgICAgICAgICAgdmFsdWU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgY29uc3QgZ2VuZXJhdGVkSWQgPSBgJHtkYXRhSWR9LiR7c3RvcmVGaWVsZE5hbWV9YDtcblxuICAgICAgc3RvcmVWYWx1ZSA9IHRoaXMucHJvY2Vzc0FycmF5VmFsdWUoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBnZW5lcmF0ZWRJZCxcbiAgICAgICAgZmllbGQuc2VsZWN0aW9uU2V0LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSXQncyBhbiBvYmplY3RcbiAgICAgIGxldCB2YWx1ZURhdGFJZCA9IGAke2RhdGFJZH0uJHtzdG9yZUZpZWxkTmFtZX1gO1xuICAgICAgbGV0IGdlbmVyYXRlZCA9IHRydWU7XG5cbiAgICAgIC8vIFdlIG9ubHkgcHJlcGVuZCB0aGUgJyQnIGlmIHRoZSB2YWx1ZURhdGFJZCBpc24ndCBhbHJlYWR5IGEgZ2VuZXJhdGVkXG4gICAgICAvLyBpZC5cbiAgICAgIGlmICghaXNHZW5lcmF0ZWRJZCh2YWx1ZURhdGFJZCkpIHtcbiAgICAgICAgdmFsdWVEYXRhSWQgPSAnJCcgKyB2YWx1ZURhdGFJZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGFJZEZyb21PYmplY3QpIHtcbiAgICAgICAgY29uc3Qgc2VtYW50aWNJZCA9IGRhdGFJZEZyb21PYmplY3QodmFsdWUpO1xuXG4gICAgICAgIC8vIFdlIHRocm93IGFuIGVycm9yIGlmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIGlkIGlzICckLiBUaGlzIGlzXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgdXNlIHRoYXQgY2hhcmFjdGVyIHRvIGRlc2lnbmF0ZSBhbiBBcG9sbG8tZ2VuZXJhdGVkIGlkXG4gICAgICAgIC8vIGFuZCB3ZSB1c2UgdGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gdXNlci1kZXNpZ2luYXRlZCBhbmQgYXBwbGljYXRpb24tcHJvdmlkZWRcbiAgICAgICAgLy8gaWRzIHdoZW4gbWFuYWdpbmcgb3ZlcndyaXRlcy5cbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICFzZW1hbnRpY0lkIHx8ICFpc0dlbmVyYXRlZElkKHNlbWFudGljSWQpLFxuICAgICAgICAgICdJRHMgcmV0dXJuZWQgYnkgZGF0YUlkRnJvbU9iamVjdCBjYW5ub3QgYmVnaW4gd2l0aCB0aGUgXCIkXCIgY2hhcmFjdGVyLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlbWFudGljSWQgfHxcbiAgICAgICAgICAodHlwZW9mIHNlbWFudGljSWQgPT09ICdudW1iZXInICYmIHNlbWFudGljSWQgPT09IDApXG4gICAgICAgICkge1xuICAgICAgICAgIHZhbHVlRGF0YUlkID0gc2VtYW50aWNJZDtcbiAgICAgICAgICBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRGF0YVByb2Nlc3NlZCh2YWx1ZURhdGFJZCwgZmllbGQsIGNvbnRleHQucHJvY2Vzc2VkRGF0YSkpIHtcbiAgICAgICAgdGhpcy53cml0ZVNlbGVjdGlvblNldFRvU3RvcmUoe1xuICAgICAgICAgIGRhdGFJZDogdmFsdWVEYXRhSWQsXG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZSxcbiAgICAgICAgICBzZWxlY3Rpb25TZXQ6IGZpZWxkLnNlbGVjdGlvblNldCxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgdGFrZSB0aGUgaWQgYW5kIGVzY2FwZSBpdCAoaS5lLiB3cmFwIGl0IHdpdGggYW4gZW5jbG9zaW5nIG9iamVjdCkuXG4gICAgICAvLyBUaGlzIGFsbG93cyB1cyB0byBkaXN0aW5ndWlzaCBJRHMgZnJvbSBub3JtYWwgc2NhbGFycy5cbiAgICAgIGNvbnN0IHR5cGVuYW1lID0gdmFsdWUuX190eXBlbmFtZTtcbiAgICAgIHN0b3JlVmFsdWUgPSB0b0lkVmFsdWUoeyBpZDogdmFsdWVEYXRhSWQsIHR5cGVuYW1lIH0sIGdlbmVyYXRlZCk7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIHdhcyBhIGdlbmVyYXRlZCBpZCBhdCB0aGUgbG9jYXRpb24gd2hlcmUgd2UncmVcbiAgICAgIC8vIGFib3V0IHRvIHBsYWNlIHRoaXMgbmV3IGlkLiBJZiB0aGVyZSB3YXMsIHdlIGhhdmUgdG8gbWVyZ2UgdGhlXG4gICAgICAvLyBkYXRhIGZyb20gdGhhdCBpZCB3aXRoIHRoZSBkYXRhIHdlJ3JlIGFib3V0IHRvIHdyaXRlIGluIHRoZSBzdG9yZS5cbiAgICAgIHN0b3JlT2JqZWN0ID0gc3RvcmUuZ2V0KGRhdGFJZCk7XG4gICAgICBjb25zdCBlc2NhcGVkSWQgPVxuICAgICAgICBzdG9yZU9iamVjdCAmJiAoc3RvcmVPYmplY3Rbc3RvcmVGaWVsZE5hbWVdIGFzIElkVmFsdWUgfCB1bmRlZmluZWQpO1xuICAgICAgaWYgKGVzY2FwZWRJZCAhPT0gc3RvcmVWYWx1ZSAmJiBpc0lkVmFsdWUoZXNjYXBlZElkKSkge1xuICAgICAgICBjb25zdCBoYWRUeXBlbmFtZSA9IGVzY2FwZWRJZC50eXBlbmFtZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBoYXNUeXBlbmFtZSA9IHR5cGVuYW1lICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHR5cGVuYW1lQ2hhbmdlZCA9XG4gICAgICAgICAgaGFkVHlwZW5hbWUgJiYgaGFzVHlwZW5hbWUgJiYgZXNjYXBlZElkLnR5cGVuYW1lICE9PSB0eXBlbmFtZTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgcmVhbCBpZCBpbiB0aGUgc3RvcmUgYW5kIHRoZSBjdXJyZW50IGlkIHdlXG4gICAgICAgIC8vIGFyZSBkZWFsaW5nIHdpdGggaXMgZ2VuZXJhdGVkLCB3ZSB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgLy8gT25lIGV4Y2VwdGlvbiB3ZSBhbGxvdyBpcyB3aGVuIHRoZSB0eXBlbmFtZSBoYXMgY2hhbmdlZCwgd2hpY2ggb2NjdXJzXG4gICAgICAgIC8vIHdoZW4gc2NoZW1hIGRlZmluZXMgYSB1bmlvbiwgYm90aCB3aXRoIGFuZCB3aXRob3V0IGFuIElEIGluIHRoZSBzYW1lIHBsYWNlLlxuICAgICAgICAvLyBjaGVja3MgaWYgd2UgXCJsb3N0XCIgdGhlIHJlYWQgaWRcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICFnZW5lcmF0ZWQgfHwgZXNjYXBlZElkLmdlbmVyYXRlZCB8fCB0eXBlbmFtZUNoYW5nZWQsXG4gICAgICAgICAgYFN0b3JlIGVycm9yOiB0aGUgYXBwbGljYXRpb24gYXR0ZW1wdGVkIHRvIHdyaXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3ZpZGVkIGlkIGJ1dCB0aGUgc3RvcmUgYWxyZWFkeSBjb250YWlucyBhbiBpZCBvZiAke1xuICAgICAgICAgICAgZXNjYXBlZElkLmlkXG4gICAgICAgICAgfSBmb3IgdGhpcyBvYmplY3QuIFRoZSBzZWxlY3Rpb25TZXQgdGhhdCB3YXMgdHJ5aW5nIHRvIGJlIHdyaXR0ZW4gaXM6XFxuJHtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGZpZWxkKVxuICAgICAgICAgIH1gLFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNoZWNrcyBpZiB3ZSBcImxvc3RcIiB0aGUgdHlwZW5hbWVcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICFoYWRUeXBlbmFtZSB8fCBoYXNUeXBlbmFtZSxcbiAgICAgICAgICBgU3RvcmUgZXJyb3I6IHRoZSBhcHBsaWNhdGlvbiBhdHRlbXB0ZWQgdG8gd3JpdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdmlkZWQgdHlwZW5hbWUgYnV0IHRoZSBzdG9yZSBhbHJlYWR5IGNvbnRhaW5zIGFuIG9iamVjdCB3aXRoIHR5cGVuYW1lIG9mICR7XG4gICAgICAgICAgICBlc2NhcGVkSWQudHlwZW5hbWVcbiAgICAgICAgICB9IGZvciB0aGUgb2JqZWN0IG9mIGlkICR7ZXNjYXBlZElkLmlkfS4gVGhlIHNlbGVjdGlvblNldCB0aGF0IHdhcyB0cnlpbmcgdG8gYmUgd3JpdHRlbiBpczpcXG4ke1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZmllbGQpXG4gICAgICAgICAgfWAsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGVzY2FwZWRJZC5nZW5lcmF0ZWQpIHtcbiAgICAgICAgICAvLyBXZSBzaG91bGQgb25seSBtZXJnZSBpZiBpdCdzIGFuIG9iamVjdCBvZiB0aGUgc2FtZSB0eXBlLFxuICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBzaG91bGQgZGVsZXRlIHRoZSBnZW5lcmF0ZWQgb2JqZWN0XG4gICAgICAgICAgaWYgKHR5cGVuYW1lQ2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gT25seSBkZWxldGUgdGhlIGdlbmVyYXRlZCBvYmplY3Qgd2hlbiB0aGUgb2xkIG9iamVjdCB3YXNcbiAgICAgICAgICAgIC8vIGlubGluZWQsIGFuZCB0aGUgbmV3IG9iamVjdCBpcyBub3QuIFRoaXMgaXMgaW5kaWNhdGVkIGJ5XG4gICAgICAgICAgICAvLyB0aGUgb2xkIGlkIGJlaW5nIGdlbmVyYXRlZCwgYW5kIHRoZSBuZXcgaWQgYmVpbmcgcmVhbC5cbiAgICAgICAgICAgIGlmICghZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICAgIHN0b3JlLmRlbGV0ZShlc2NhcGVkSWQuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXJnZVdpdGhHZW5lcmF0ZWQoZXNjYXBlZElkLmlkLCAoc3RvcmVWYWx1ZSBhcyBJZFZhbHVlKS5pZCwgc3RvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHN0b3JlT2JqZWN0ID0gc3RvcmUuZ2V0KGRhdGFJZCk7XG4gICAgaWYgKCFzdG9yZU9iamVjdCB8fCAhaXNFcXVhbChzdG9yZVZhbHVlLCBzdG9yZU9iamVjdFtzdG9yZUZpZWxkTmFtZV0pKSB7XG4gICAgICBzdG9yZS5zZXQoZGF0YUlkLCB7XG4gICAgICAgIC4uLnN0b3JlT2JqZWN0LFxuICAgICAgICBbc3RvcmVGaWVsZE5hbWVdOiBzdG9yZVZhbHVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzQXJyYXlWYWx1ZShcbiAgICB2YWx1ZTogYW55W10sXG4gICAgZ2VuZXJhdGVkSWQ6IHN0cmluZyxcbiAgICBzZWxlY3Rpb25TZXQ6IFNlbGVjdGlvblNldE5vZGUsXG4gICAgY29udGV4dDogV3JpdGVDb250ZXh0LFxuICApOiBhbnlbXSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgoaXRlbTogYW55LCBpbmRleDogYW55KSA9PiB7XG4gICAgICBpZiAoaXRlbSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbGV0IGl0ZW1EYXRhSWQgPSBgJHtnZW5lcmF0ZWRJZH0uJHtpbmRleH1gO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQXJyYXlWYWx1ZShpdGVtLCBpdGVtRGF0YUlkLCBzZWxlY3Rpb25TZXQsIGNvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBsZXQgZ2VuZXJhdGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbnRleHQuZGF0YUlkRnJvbU9iamVjdCkge1xuICAgICAgICBjb25zdCBzZW1hbnRpY0lkID0gY29udGV4dC5kYXRhSWRGcm9tT2JqZWN0KGl0ZW0pO1xuXG4gICAgICAgIGlmIChzZW1hbnRpY0lkKSB7XG4gICAgICAgICAgaXRlbURhdGFJZCA9IHNlbWFudGljSWQ7XG4gICAgICAgICAgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0RhdGFQcm9jZXNzZWQoaXRlbURhdGFJZCwgc2VsZWN0aW9uU2V0LCBjb250ZXh0LnByb2Nlc3NlZERhdGEpKSB7XG4gICAgICAgIHRoaXMud3JpdGVTZWxlY3Rpb25TZXRUb1N0b3JlKHtcbiAgICAgICAgICBkYXRhSWQ6IGl0ZW1EYXRhSWQsXG4gICAgICAgICAgcmVzdWx0OiBpdGVtLFxuICAgICAgICAgIHNlbGVjdGlvblNldCxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRvSWRWYWx1ZShcbiAgICAgICAgeyBpZDogaXRlbURhdGFJZCwgdHlwZW5hbWU6IGl0ZW0uX190eXBlbmFtZSB9LFxuICAgICAgICBnZW5lcmF0ZWQsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIENoZWNrcyBpZiB0aGUgaWQgZ2l2ZW4gaXMgYW4gaWQgdGhhdCB3YXMgZ2VuZXJhdGVkIGJ5IEFwb2xsb1xuLy8gcmF0aGVyIHRoYW4gYnkgZGF0YUlkRnJvbU9iamVjdC5cbmZ1bmN0aW9uIGlzR2VuZXJhdGVkSWQoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaWRbMF0gPT09ICckJztcbn1cblxuZnVuY3Rpb24gbWVyZ2VXaXRoR2VuZXJhdGVkKFxuICBnZW5lcmF0ZWRLZXk6IHN0cmluZyxcbiAgcmVhbEtleTogc3RyaW5nLFxuICBjYWNoZTogTm9ybWFsaXplZENhY2hlLFxuKTogYm9vbGVhbiB7XG4gIGlmIChnZW5lcmF0ZWRLZXkgPT09IHJlYWxLZXkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBnZW5lcmF0ZWQgPSBjYWNoZS5nZXQoZ2VuZXJhdGVkS2V5KTtcbiAgY29uc3QgcmVhbCA9IGNhY2hlLmdldChyZWFsS2V5KTtcbiAgbGV0IG1hZGVDaGFuZ2VzID0gZmFsc2U7XG5cbiAgT2JqZWN0LmtleXMoZ2VuZXJhdGVkKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZW5lcmF0ZWRba2V5XTtcbiAgICBjb25zdCByZWFsVmFsdWUgPSByZWFsW2tleV07XG5cbiAgICBpZiAoXG4gICAgICBpc0lkVmFsdWUodmFsdWUpICYmXG4gICAgICBpc0dlbmVyYXRlZElkKHZhbHVlLmlkKSAmJlxuICAgICAgaXNJZFZhbHVlKHJlYWxWYWx1ZSkgJiZcbiAgICAgICFpc0VxdWFsKHZhbHVlLCByZWFsVmFsdWUpICYmXG4gICAgICBtZXJnZVdpdGhHZW5lcmF0ZWQodmFsdWUuaWQsIHJlYWxWYWx1ZS5pZCwgY2FjaGUpXG4gICAgKSB7XG4gICAgICBtYWRlQ2hhbmdlcyA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICBjYWNoZS5kZWxldGUoZ2VuZXJhdGVkS2V5KTtcbiAgY29uc3QgbmV3UmVhbFZhbHVlID0geyAuLi5nZW5lcmF0ZWQsIC4uLnJlYWwgfTtcblxuICBpZiAoaXNFcXVhbChuZXdSZWFsVmFsdWUsIHJlYWwpKSB7XG4gICAgcmV0dXJuIG1hZGVDaGFuZ2VzO1xuICB9XG5cbiAgY2FjaGUuc2V0KHJlYWxLZXksIG5ld1JlYWxWYWx1ZSk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0RhdGFQcm9jZXNzZWQoXG4gIGRhdGFJZDogc3RyaW5nLFxuICBmaWVsZDogRmllbGROb2RlIHwgU2VsZWN0aW9uU2V0Tm9kZSxcbiAgcHJvY2Vzc2VkRGF0YT86IHsgW3g6IHN0cmluZ106IChGaWVsZE5vZGUgfCBTZWxlY3Rpb25TZXROb2RlKVtdIH0sXG4pOiBib29sZWFuIHtcbiAgaWYgKCFwcm9jZXNzZWREYXRhKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByb2Nlc3NlZERhdGFbZGF0YUlkXSkge1xuICAgIGlmIChwcm9jZXNzZWREYXRhW2RhdGFJZF0uaW5kZXhPZihmaWVsZCkgPj0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Nlc3NlZERhdGFbZGF0YUlkXS5wdXNoKGZpZWxkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzc2VkRGF0YVtkYXRhSWRdID0gW2ZpZWxkXTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8vIE1ha2UgYnVpbHRpbnMgbGlrZSBNYXAgYW5kIFNldCBzYWZlIHRvIHVzZSB3aXRoIG5vbi1leHRlbnNpYmxlIG9iamVjdHMuXG5pbXBvcnQgJy4vZml4UG9seWZpbGxzJztcblxuaW1wb3J0IHsgRG9jdW1lbnROb2RlIH0gZnJvbSAnZ3JhcGhxbCc7XG5cbmltcG9ydCB7IENhY2hlLCBBcG9sbG9DYWNoZSwgVHJhbnNhY3Rpb24gfSBmcm9tICdhcG9sbG8tY2FjaGUnO1xuXG5pbXBvcnQgeyBhZGRUeXBlbmFtZVRvRG9jdW1lbnQsIGNhblVzZVdlYWtNYXAgfSBmcm9tICdhcG9sbG8tdXRpbGl0aWVzJztcblxuaW1wb3J0IHsgd3JhcCB9IGZyb20gJ29wdGltaXNtJztcblxuaW1wb3J0IHsgaW52YXJpYW50LCBJbnZhcmlhbnRFcnJvciB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbmltcG9ydCB7IEhldXJpc3RpY0ZyYWdtZW50TWF0Y2hlciB9IGZyb20gJy4vZnJhZ21lbnRNYXRjaGVyJztcbmltcG9ydCB7XG4gIEFwb2xsb1JlZHVjZXJDb25maWcsXG4gIE5vcm1hbGl6ZWRDYWNoZSxcbiAgTm9ybWFsaXplZENhY2hlT2JqZWN0LFxufSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0IHsgU3RvcmVSZWFkZXIgfSBmcm9tICcuL3JlYWRGcm9tU3RvcmUnO1xuaW1wb3J0IHsgU3RvcmVXcml0ZXIgfSBmcm9tICcuL3dyaXRlVG9TdG9yZSc7XG5pbXBvcnQgeyBEZXBUcmFja2luZ0NhY2hlIH0gZnJvbSAnLi9kZXBUcmFja2luZ0NhY2hlJztcbmltcG9ydCB7IEtleVRyaWUgfSBmcm9tICdvcHRpbWlzbSc7XG5pbXBvcnQgeyBPYmplY3RDYWNoZSB9IGZyb20gJy4vb2JqZWN0Q2FjaGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluTWVtb3J5Q2FjaGVDb25maWcgZXh0ZW5kcyBBcG9sbG9SZWR1Y2VyQ29uZmlnIHtcbiAgcmVzdWx0Q2FjaGluZz86IGJvb2xlYW47XG4gIGZyZWV6ZVJlc3VsdHM/OiBib29sZWFuO1xufVxuXG5jb25zdCBkZWZhdWx0Q29uZmlnOiBJbk1lbW9yeUNhY2hlQ29uZmlnID0ge1xuICBmcmFnbWVudE1hdGNoZXI6IG5ldyBIZXVyaXN0aWNGcmFnbWVudE1hdGNoZXIoKSxcbiAgZGF0YUlkRnJvbU9iamVjdDogZGVmYXVsdERhdGFJZEZyb21PYmplY3QsXG4gIGFkZFR5cGVuYW1lOiB0cnVlLFxuICByZXN1bHRDYWNoaW5nOiB0cnVlLFxuICBmcmVlemVSZXN1bHRzOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RGF0YUlkRnJvbU9iamVjdChyZXN1bHQ6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAocmVzdWx0Ll9fdHlwZW5hbWUpIHtcbiAgICBpZiAocmVzdWx0LmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBgJHtyZXN1bHQuX190eXBlbmFtZX06JHtyZXN1bHQuaWR9YDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGAke3Jlc3VsdC5fX3R5cGVuYW1lfToke3Jlc3VsdC5faWR9YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmV4cG9ydCBjbGFzcyBPcHRpbWlzdGljQ2FjaGVMYXllciBleHRlbmRzIE9iamVjdENhY2hlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG9wdGltaXN0aWNJZDogc3RyaW5nLFxuICAgIC8vIE9wdGltaXN0aWNDYWNoZUxheWVyIG9iamVjdHMgYWx3YXlzIHdyYXAgc29tZSBvdGhlciBwYXJlbnQgY2FjaGUsIHNvXG4gICAgLy8gdGhpcy5wYXJlbnQgc2hvdWxkIG5ldmVyIGJlIG51bGwuXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogTm9ybWFsaXplZENhY2hlLFxuICAgIHB1YmxpYyByZWFkb25seSB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb248Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgKSB7XG4gICAgc3VwZXIoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTm9ybWFsaXplZENhY2hlT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5wYXJlbnQudG9PYmplY3QoKSxcbiAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICB9O1xuICB9XG5cbiAgLy8gQWxsIHRoZSBvdGhlciBhY2Nlc3NvciBtZXRob2RzIG9mIE9iamVjdENhY2hlIHdvcmsgd2l0aG91dCBrbm93aW5nIGFib3V0XG4gIC8vIHRoaXMucGFyZW50LCBidXQgdGhlIGdldCBtZXRob2QgbmVlZHMgdG8gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgdGhlXG4gIC8vIGZhbGxiYWNrIHRoaXMucGFyZW50LmdldChkYXRhSWQpIGJlaGF2aW9yLlxuICBwdWJsaWMgZ2V0KGRhdGFJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc093bi5jYWxsKHRoaXMuZGF0YSwgZGF0YUlkKVxuICAgICAgPyB0aGlzLmRhdGFbZGF0YUlkXVxuICAgICAgOiB0aGlzLnBhcmVudC5nZXQoZGF0YUlkKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEFwb2xsb0NhY2hlPE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4ge1xuICBwcml2YXRlIGRhdGE6IE5vcm1hbGl6ZWRDYWNoZTtcbiAgcHJpdmF0ZSBvcHRpbWlzdGljRGF0YTogTm9ybWFsaXplZENhY2hlO1xuXG4gIHByb3RlY3RlZCBjb25maWc6IEluTWVtb3J5Q2FjaGVDb25maWc7XG4gIHByaXZhdGUgd2F0Y2hlcyA9IG5ldyBTZXQ8Q2FjaGUuV2F0Y2hPcHRpb25zPigpO1xuICBwcml2YXRlIGFkZFR5cGVuYW1lOiBib29sZWFuO1xuICBwcml2YXRlIHR5cGVuYW1lRG9jdW1lbnRDYWNoZSA9IG5ldyBNYXA8RG9jdW1lbnROb2RlLCBEb2N1bWVudE5vZGU+KCk7XG4gIHByaXZhdGUgc3RvcmVSZWFkZXI6IFN0b3JlUmVhZGVyO1xuICBwcml2YXRlIHN0b3JlV3JpdGVyOiBTdG9yZVdyaXRlcjtcbiAgcHJpdmF0ZSBjYWNoZUtleVJvb3QgPSBuZXcgS2V5VHJpZTxvYmplY3Q+KGNhblVzZVdlYWtNYXApO1xuXG4gIC8vIFNldCB0aGlzIHdoaWxlIGluIGEgdHJhbnNhY3Rpb24gdG8gcHJldmVudCBicm9hZGNhc3RzLi4uXG4gIC8vIGRvbid0IGZvcmdldCB0byB0dXJuIGl0IGJhY2sgb24hXG4gIHByaXZhdGUgc2lsZW5jZUJyb2FkY2FzdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogSW5NZW1vcnlDYWNoZUNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4uY29uZmlnIH07XG5cbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0XG4gICAgaWYgKCh0aGlzLmNvbmZpZyBhcyBhbnkpLmN1c3RvbVJlc29sdmVycykge1xuICAgICAgaW52YXJpYW50Lndhcm4oXG4gICAgICAgICdjdXN0b21SZXNvbHZlcnMgaGF2ZSBiZWVuIHJlbmFtZWQgdG8gY2FjaGVSZWRpcmVjdHMuIFBsZWFzZSB1cGRhdGUgeW91ciBjb25maWcgYXMgd2Ugd2lsbCBiZSBkZXByZWNhdGluZyBjdXN0b21SZXNvbHZlcnMgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4nLFxuICAgICAgKTtcbiAgICAgIHRoaXMuY29uZmlnLmNhY2hlUmVkaXJlY3RzID0gKHRoaXMuY29uZmlnIGFzIGFueSkuY3VzdG9tUmVzb2x2ZXJzO1xuICAgIH1cblxuICAgIGlmICgodGhpcy5jb25maWcgYXMgYW55KS5jYWNoZVJlc29sdmVycykge1xuICAgICAgaW52YXJpYW50Lndhcm4oXG4gICAgICAgICdjYWNoZVJlc29sdmVycyBoYXZlIGJlZW4gcmVuYW1lZCB0byBjYWNoZVJlZGlyZWN0cy4gUGxlYXNlIHVwZGF0ZSB5b3VyIGNvbmZpZyBhcyB3ZSB3aWxsIGJlIGRlcHJlY2F0aW5nIGNhY2hlUmVzb2x2ZXJzIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uJyxcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbmZpZy5jYWNoZVJlZGlyZWN0cyA9ICh0aGlzLmNvbmZpZyBhcyBhbnkpLmNhY2hlUmVzb2x2ZXJzO1xuICAgIH1cblxuICAgIHRoaXMuYWRkVHlwZW5hbWUgPSAhIXRoaXMuY29uZmlnLmFkZFR5cGVuYW1lO1xuXG4gICAgLy8gUGFzc2luZyB7IHJlc3VsdENhY2hpbmc6IGZhbHNlIH0gaW4gdGhlIEluTWVtb3J5Q2FjaGUgY29uc3RydWN0b3Igb3B0aW9uc1xuICAgIC8vIHdpbGwgY29tcGxldGVseSBkaXNhYmxlIGRlcGVuZGVuY3kgdHJhY2tpbmcsIHdoaWNoIHdpbGwgaW1wcm92ZSBtZW1vcnlcbiAgICAvLyB1c2FnZSBidXQgd29yc2VuIHRoZSBwZXJmb3JtYW5jZSBvZiByZXBlYXRlZCByZWFkcy5cbiAgICB0aGlzLmRhdGEgPSB0aGlzLmNvbmZpZy5yZXN1bHRDYWNoaW5nXG4gICAgICA/IG5ldyBEZXBUcmFja2luZ0NhY2hlKClcbiAgICAgIDogbmV3IE9iamVjdENhY2hlKCk7XG5cbiAgICAvLyBXaGVuIG5vIG9wdGltaXN0aWMgd3JpdGVzIGFyZSBjdXJyZW50bHkgYWN0aXZlLCBjYWNoZS5vcHRpbWlzdGljRGF0YSA9PT1cbiAgICAvLyBjYWNoZS5kYXRhLCBzbyB0aGVyZSBhcmUgbm8gYWRkaXRpb25hbCBsYXllcnMgb24gdG9wIG9mIHRoZSBhY3R1YWwgZGF0YS5cbiAgICAvLyBXaGVuIGFuIG9wdGltaXN0aWMgdXBkYXRlIGhhcHBlbnMsIHRoaXMub3B0aW1pc3RpY0RhdGEgd2lsbCBiZWNvbWUgYVxuICAgIC8vIGxpbmtlZCBsaXN0IG9mIE9wdGltaXN0aWNDYWNoZUxheWVyIG9iamVjdHMgdGhhdCB0ZXJtaW5hdGVzIHdpdGggdGhlXG4gICAgLy8gb3JpZ2luYWwgdGhpcy5kYXRhIGNhY2hlIG9iamVjdC5cbiAgICB0aGlzLm9wdGltaXN0aWNEYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgdGhpcy5zdG9yZVdyaXRlciA9IG5ldyBTdG9yZVdyaXRlcigpO1xuICAgIHRoaXMuc3RvcmVSZWFkZXIgPSBuZXcgU3RvcmVSZWFkZXIoe1xuICAgICAgY2FjaGVLZXlSb290OiB0aGlzLmNhY2hlS2V5Um9vdCxcbiAgICAgIGZyZWV6ZVJlc3VsdHM6IGNvbmZpZy5mcmVlemVSZXN1bHRzLFxuICAgIH0pO1xuXG4gICAgY29uc3QgY2FjaGUgPSB0aGlzO1xuICAgIGNvbnN0IHsgbWF5YmVCcm9hZGNhc3RXYXRjaCB9ID0gY2FjaGU7XG4gICAgdGhpcy5tYXliZUJyb2FkY2FzdFdhdGNoID0gd3JhcCgoYzogQ2FjaGUuV2F0Y2hPcHRpb25zKSA9PiB7XG4gICAgICByZXR1cm4gbWF5YmVCcm9hZGNhc3RXYXRjaC5jYWxsKHRoaXMsIGMpO1xuICAgIH0sIHtcbiAgICAgIG1ha2VDYWNoZUtleShjOiBDYWNoZS5XYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGMub3B0aW1pc3RpYykge1xuICAgICAgICAgIC8vIElmIHdlJ3JlIHJlYWRpbmcgb3B0aW1pc3RpYyBkYXRhLCBpdCBkb2Vzbid0IG1hdHRlciBpZiB0aGlzLmRhdGFcbiAgICAgICAgICAvLyBpcyBhIERlcFRyYWNraW5nQ2FjaGUsIHNpbmNlIGl0IHdpbGwgYmUgaWdub3JlZC5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYy5wcmV2aW91c1Jlc3VsdCkge1xuICAgICAgICAgIC8vIElmIGEgcHJldmlvdXNSZXN1bHQgd2FzIHByb3ZpZGVkLCBhc3N1bWUgdGhlIGNhbGxlciB3b3VsZCBwcmVmZXJcbiAgICAgICAgICAvLyB0byBjb21wYXJlIHRoZSBwcmV2aW91cyBkYXRhIHRvIHRoZSBuZXcgZGF0YSB0byBkZXRlcm1pbmUgd2hldGhlclxuICAgICAgICAgIC8vIHRvIGJyb2FkY2FzdCwgc28gd2Ugc2hvdWxkIGRpc2FibGUgY2FjaGluZyBieSByZXR1cm5pbmcgaGVyZSwgdG9cbiAgICAgICAgICAvLyBnaXZlIG1heWJlQnJvYWRjYXN0V2F0Y2ggYSBjaGFuY2UgdG8gZG8gdGhhdCBjb21wYXJpc29uLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWNoZS5kYXRhIGluc3RhbmNlb2YgRGVwVHJhY2tpbmdDYWNoZSkge1xuICAgICAgICAgIC8vIFJldHVybiBhIGNhY2hlIGtleSAodGh1cyBlbmFibGluZyBjYWNoaW5nKSBvbmx5IGlmIHdlJ3JlIGN1cnJlbnRseVxuICAgICAgICAgIC8vIHVzaW5nIGEgZGF0YSBzdG9yZSB0aGF0IGNhbiB0cmFjayBjYWNoZSBkZXBlbmRlbmNpZXMuXG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmNhY2hlS2V5Um9vdC5sb29rdXAoXG4gICAgICAgICAgICBjLnF1ZXJ5LFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYy52YXJpYWJsZXMpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyByZXN0b3JlKGRhdGE6IE5vcm1hbGl6ZWRDYWNoZU9iamVjdCk6IHRoaXMge1xuICAgIGlmIChkYXRhKSB0aGlzLmRhdGEucmVwbGFjZShkYXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBleHRyYWN0KG9wdGltaXN0aWM6IGJvb2xlYW4gPSBmYWxzZSk6IE5vcm1hbGl6ZWRDYWNoZU9iamVjdCB7XG4gICAgcmV0dXJuIChvcHRpbWlzdGljID8gdGhpcy5vcHRpbWlzdGljRGF0YSA6IHRoaXMuZGF0YSkudG9PYmplY3QoKTtcbiAgfVxuXG4gIHB1YmxpYyByZWFkPFQ+KG9wdGlvbnM6IENhY2hlLlJlYWRPcHRpb25zKTogVCB8IG51bGwge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yb290SWQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIHR5cGVvZiB0aGlzLmRhdGEuZ2V0KG9wdGlvbnMucm9vdElkKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZnJhZ21lbnRNYXRjaGVyIH0gPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBmcmFnbWVudE1hdGNoZXJGdW5jdGlvbiA9IGZyYWdtZW50TWF0Y2hlciAmJiBmcmFnbWVudE1hdGNoZXIubWF0Y2g7XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yZVJlYWRlci5yZWFkUXVlcnlGcm9tU3RvcmUoe1xuICAgICAgc3RvcmU6IG9wdGlvbnMub3B0aW1pc3RpYyA/IHRoaXMub3B0aW1pc3RpY0RhdGEgOiB0aGlzLmRhdGEsXG4gICAgICBxdWVyeTogdGhpcy50cmFuc2Zvcm1Eb2N1bWVudChvcHRpb25zLnF1ZXJ5KSxcbiAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICByb290SWQ6IG9wdGlvbnMucm9vdElkLFxuICAgICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gICAgICBwcmV2aW91c1Jlc3VsdDogb3B0aW9ucy5wcmV2aW91c1Jlc3VsdCxcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgfSkgfHwgbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyB3cml0ZSh3cml0ZTogQ2FjaGUuV3JpdGVPcHRpb25zKTogdm9pZCB7XG4gICAgY29uc3QgeyBmcmFnbWVudE1hdGNoZXIgfSA9IHRoaXMuY29uZmlnO1xuICAgIGNvbnN0IGZyYWdtZW50TWF0Y2hlckZ1bmN0aW9uID0gZnJhZ21lbnRNYXRjaGVyICYmIGZyYWdtZW50TWF0Y2hlci5tYXRjaDtcblxuICAgIHRoaXMuc3RvcmVXcml0ZXIud3JpdGVSZXN1bHRUb1N0b3JlKHtcbiAgICAgIGRhdGFJZDogd3JpdGUuZGF0YUlkLFxuICAgICAgcmVzdWx0OiB3cml0ZS5yZXN1bHQsXG4gICAgICB2YXJpYWJsZXM6IHdyaXRlLnZhcmlhYmxlcyxcbiAgICAgIGRvY3VtZW50OiB0aGlzLnRyYW5zZm9ybURvY3VtZW50KHdyaXRlLnF1ZXJ5KSxcbiAgICAgIHN0b3JlOiB0aGlzLmRhdGEsXG4gICAgICBkYXRhSWRGcm9tT2JqZWN0OiB0aGlzLmNvbmZpZy5kYXRhSWRGcm9tT2JqZWN0LFxuICAgICAgZnJhZ21lbnRNYXRjaGVyRnVuY3Rpb24sXG4gICAgfSk7XG5cbiAgICB0aGlzLmJyb2FkY2FzdFdhdGNoZXMoKTtcbiAgfVxuXG4gIHB1YmxpYyBkaWZmPFQ+KHF1ZXJ5OiBDYWNoZS5EaWZmT3B0aW9ucyk6IENhY2hlLkRpZmZSZXN1bHQ8VD4ge1xuICAgIGNvbnN0IHsgZnJhZ21lbnRNYXRjaGVyIH0gPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBmcmFnbWVudE1hdGNoZXJGdW5jdGlvbiA9IGZyYWdtZW50TWF0Y2hlciAmJiBmcmFnbWVudE1hdGNoZXIubWF0Y2g7XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yZVJlYWRlci5kaWZmUXVlcnlBZ2FpbnN0U3RvcmUoe1xuICAgICAgc3RvcmU6IHF1ZXJ5Lm9wdGltaXN0aWMgPyB0aGlzLm9wdGltaXN0aWNEYXRhIDogdGhpcy5kYXRhLFxuICAgICAgcXVlcnk6IHRoaXMudHJhbnNmb3JtRG9jdW1lbnQocXVlcnkucXVlcnkpLFxuICAgICAgdmFyaWFibGVzOiBxdWVyeS52YXJpYWJsZXMsXG4gICAgICByZXR1cm5QYXJ0aWFsRGF0YTogcXVlcnkucmV0dXJuUGFydGlhbERhdGEsXG4gICAgICBwcmV2aW91c1Jlc3VsdDogcXVlcnkucHJldmlvdXNSZXN1bHQsXG4gICAgICBmcmFnbWVudE1hdGNoZXJGdW5jdGlvbixcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgd2F0Y2god2F0Y2g6IENhY2hlLldhdGNoT3B0aW9ucyk6ICgpID0+IHZvaWQge1xuICAgIHRoaXMud2F0Y2hlcy5hZGQod2F0Y2gpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMud2F0Y2hlcy5kZWxldGUod2F0Y2gpO1xuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXZpY3QocXVlcnk6IENhY2hlLkV2aWN0T3B0aW9ucyk6IENhY2hlLkV2aWN0aW9uUmVzdWx0IHtcbiAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoYGV2aWN0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiBJbk1lbW9yeSBDYWNoZWApO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZGF0YS5jbGVhcigpO1xuICAgIHRoaXMuYnJvYWRjYXN0V2F0Y2hlcygpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZU9wdGltaXN0aWMoaWRUb1JlbW92ZTogc3RyaW5nKSB7XG4gICAgY29uc3QgdG9SZWFwcGx5OiBPcHRpbWlzdGljQ2FjaGVMYXllcltdID0gW107XG4gICAgbGV0IHJlbW92ZWRDb3VudCA9IDA7XG4gICAgbGV0IGxheWVyID0gdGhpcy5vcHRpbWlzdGljRGF0YTtcblxuICAgIHdoaWxlIChsYXllciBpbnN0YW5jZW9mIE9wdGltaXN0aWNDYWNoZUxheWVyKSB7XG4gICAgICBpZiAobGF5ZXIub3B0aW1pc3RpY0lkID09PSBpZFRvUmVtb3ZlKSB7XG4gICAgICAgICsrcmVtb3ZlZENvdW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9SZWFwcGx5LnB1c2gobGF5ZXIpO1xuICAgICAgfVxuICAgICAgbGF5ZXIgPSBsYXllci5wYXJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKHJlbW92ZWRDb3VudCA+IDApIHtcbiAgICAgIC8vIFJlc2V0IHRoaXMub3B0aW1pc3RpY0RhdGEgdG8gdGhlIGZpcnN0IG5vbi1PcHRpbWlzdGljQ2FjaGVMYXllciBvYmplY3QsXG4gICAgICAvLyB3aGljaCBpcyBhbG1vc3QgY2VydGFpbmx5IHRoaXMuZGF0YS5cbiAgICAgIHRoaXMub3B0aW1pc3RpY0RhdGEgPSBsYXllcjtcblxuICAgICAgLy8gUmVhcHBseSB0aGUgbGF5ZXJzIHdob3NlIG9wdGltaXN0aWMgSURzIGRvIG5vdCBtYXRjaCB0aGUgcmVtb3ZlZCBJRC5cbiAgICAgIHdoaWxlICh0b1JlYXBwbHkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBsYXllciA9IHRvUmVhcHBseS5wb3AoKSE7XG4gICAgICAgIHRoaXMucGVyZm9ybVRyYW5zYWN0aW9uKGxheWVyLnRyYW5zYWN0aW9uLCBsYXllci5vcHRpbWlzdGljSWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJyb2FkY2FzdFdhdGNoZXMoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcGVyZm9ybVRyYW5zYWN0aW9uKFxuICAgIHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbjxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICAgIC8vIFRoaXMgcGFyYW1ldGVyIGlzIG5vdCBwYXJ0IG9mIHRoZSBwZXJmb3JtVHJhbnNhY3Rpb24gc2lnbmF0dXJlIGluaGVyaXRlZFxuICAgIC8vIGZyb20gdGhlIEFwb2xsb0NhY2hlIGFic3RyYWN0IGNsYXNzLCBidXQgaXQncyB1c2VmdWwgYmVjYXVzZSBpdCBzYXZlcyB1c1xuICAgIC8vIGZyb20gZHVwbGljYXRpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpbiByZWNvcmRPcHRpbWlzdGljVHJhbnNhY3Rpb24uXG4gICAgb3B0aW1pc3RpY0lkPzogc3RyaW5nLFxuICApIHtcbiAgICBjb25zdCB7IGRhdGEsIHNpbGVuY2VCcm9hZGNhc3QgfSA9IHRoaXM7XG4gICAgdGhpcy5zaWxlbmNlQnJvYWRjYXN0ID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW1pc3RpY0lkID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gQWRkIGEgbmV3IG9wdGltaXN0aWMgbGF5ZXIgYW5kIHRlbXBvcmFyaWx5IG1ha2UgdGhpcy5kYXRhIHJlZmVyIHRvXG4gICAgICAvLyB0aGF0IGxheWVyIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgdGhpcy5kYXRhID0gdGhpcy5vcHRpbWlzdGljRGF0YSA9IG5ldyBPcHRpbWlzdGljQ2FjaGVMYXllcihcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBsYXllcnMgd2l0aCB0aGUgc2FtZSBvcHRpbWlzdGljSWQuXG4gICAgICAgIC8vIFdoZW4gcmVtb3ZlT3B0aW1pc3RpYyhpZCkgaXMgY2FsbGVkIGZvciB0aGF0IGlkLCBhbGwgbWF0Y2hpbmcgbGF5ZXJzXG4gICAgICAgIC8vIHdpbGwgYmUgcmVtb3ZlZCwgYW5kIHRoZSByZW1haW5pbmcgbGF5ZXJzIHdpbGwgYmUgcmVhcHBsaWVkLlxuICAgICAgICBvcHRpbWlzdGljSWQsXG4gICAgICAgIHRoaXMub3B0aW1pc3RpY0RhdGEsXG4gICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdHJhbnNhY3Rpb24odGhpcyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuc2lsZW5jZUJyb2FkY2FzdCA9IHNpbGVuY2VCcm9hZGNhc3Q7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIC8vIFRoaXMgYnJvYWRjYXN0IGRvZXMgbm90aGluZyBpZiB0aGlzLnNpbGVuY2VCcm9hZGNhc3QgaXMgdHJ1ZS5cbiAgICB0aGlzLmJyb2FkY2FzdFdhdGNoZXMoKTtcbiAgfVxuXG4gIHB1YmxpYyByZWNvcmRPcHRpbWlzdGljVHJhbnNhY3Rpb24oXG4gICAgdHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uPE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4sXG4gICAgaWQ6IHN0cmluZyxcbiAgKSB7XG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBpZCk7XG4gIH1cblxuICBwdWJsaWMgdHJhbnNmb3JtRG9jdW1lbnQoZG9jdW1lbnQ6IERvY3VtZW50Tm9kZSk6IERvY3VtZW50Tm9kZSB7XG4gICAgaWYgKHRoaXMuYWRkVHlwZW5hbWUpIHtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLnR5cGVuYW1lRG9jdW1lbnRDYWNoZS5nZXQoZG9jdW1lbnQpO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gYWRkVHlwZW5hbWVUb0RvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgdGhpcy50eXBlbmFtZURvY3VtZW50Q2FjaGUuc2V0KGRvY3VtZW50LCByZXN1bHQpO1xuICAgICAgICAvLyBJZiBzb21lb25lIGNhbGxzIHRyYW5zZm9ybURvY3VtZW50IGFuZCB0aGVuIG1pc3Rha2VubHkgcGFzc2VzIHRoZVxuICAgICAgICAvLyByZXN1bHQgYmFjayBpbnRvIGFuIEFQSSB0aGF0IGFsc28gY2FsbHMgdHJhbnNmb3JtRG9jdW1lbnQsIG1ha2Ugc3VyZVxuICAgICAgICAvLyB3ZSBkb24ndCBrZWVwIGNyZWF0aW5nIG5ldyBxdWVyeSBkb2N1bWVudHMuXG4gICAgICAgIHRoaXMudHlwZW5hbWVEb2N1bWVudENhY2hlLnNldChyZXN1bHQsIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgYnJvYWRjYXN0V2F0Y2hlcygpIHtcbiAgICBpZiAoIXRoaXMuc2lsZW5jZUJyb2FkY2FzdCkge1xuICAgICAgdGhpcy53YXRjaGVzLmZvckVhY2goYyA9PiB0aGlzLm1heWJlQnJvYWRjYXN0V2F0Y2goYykpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHdyYXBwZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHNvIHRoYXQgaXQgd2lsbCBiZSBjYWxsZWQgb25seVxuICAvLyBpZiB0aGUgZGF0YSB0aGF0IHdvdWxkIGJlIGJyb2FkY2FzdCBoYXMgY2hhbmdlZC5cbiAgcHJpdmF0ZSBtYXliZUJyb2FkY2FzdFdhdGNoKGM6IENhY2hlLldhdGNoT3B0aW9ucykge1xuICAgIGMuY2FsbGJhY2soXG4gICAgICB0aGlzLmRpZmYoe1xuICAgICAgICBxdWVyeTogYy5xdWVyeSxcbiAgICAgICAgdmFyaWFibGVzOiBjLnZhcmlhYmxlcyxcbiAgICAgICAgcHJldmlvdXNSZXN1bHQ6IGMucHJldmlvdXNSZXN1bHQgJiYgYy5wcmV2aW91c1Jlc3VsdCgpLFxuICAgICAgICBvcHRpbWlzdGljOiBjLm9wdGltaXN0aWMsXG4gICAgICB9KSxcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRpb24gfSBmcm9tICdhcG9sbG8tbGluayc7XG5pbXBvcnQgeyBwcmludCB9IGZyb20gJ2dyYXBocWwvbGFuZ3VhZ2UvcHJpbnRlcic7XG5pbXBvcnQgeyBJbnZhcmlhbnRFcnJvciB9IGZyb20gJ3RzLWludmFyaWFudCc7XG5cbi8qXG4gKiBIdHRwIFV0aWxpdGllczogc2hhcmVkIGFjcm9zcyBsaW5rcyB0aGF0IG1ha2UgaHR0cCByZXF1ZXN0c1xuICovXG5cbi8vIFhYWCByZXBsYWNlIHdpdGggYWN0dWFsIHR5cGluZ3Mgd2hlbiBhdmFpbGFibGVcbmRlY2xhcmUgdmFyIEFib3J0Q29udHJvbGxlcjogYW55O1xuXG4vL1VzZWQgZm9yIGFueSBFcnJvciBmb3IgZGF0YSBmcm9tIHRoZSBzZXJ2ZXJcbi8vb24gYSByZXF1ZXN0IHdpdGggYSBTdGF0dXMgPj0gMzAwXG4vL3Jlc3BvbnNlIGNvbnRhaW5zIG5vIGRhdGEgb3IgZXJyb3JzXG5leHBvcnQgdHlwZSBTZXJ2ZXJFcnJvciA9IEVycm9yICYge1xuICByZXNwb25zZTogUmVzcG9uc2U7XG4gIHJlc3VsdDogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xufTtcblxuLy9UaHJvd24gd2hlbiBzZXJ2ZXIncyByZXNvbnNlIGlzIGNhbm5vdCBiZSBwYXJzZWRcbmV4cG9ydCB0eXBlIFNlcnZlclBhcnNlRXJyb3IgPSBFcnJvciAmIHtcbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIGJvZHlUZXh0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDbGllbnRQYXJzZUVycm9yID0gSW52YXJpYW50RXJyb3IgJiB7XG4gIHBhcnNlRXJyb3I6IEVycm9yO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwUXVlcnlPcHRpb25zIHtcbiAgaW5jbHVkZVF1ZXJ5PzogYm9vbGVhbjtcbiAgaW5jbHVkZUV4dGVuc2lvbnM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBDb25maWcge1xuICBodHRwPzogSHR0cFF1ZXJ5T3B0aW9ucztcbiAgb3B0aW9ucz86IGFueTtcbiAgaGVhZGVycz86IGFueTsgLy9vdmVycmlkZXMgaGVhZGVycyBpbiBvcHRpb25zXG4gIGNyZWRlbnRpYWxzPzogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVyaUZ1bmN0aW9uIHtcbiAgKG9wZXJhdGlvbjogT3BlcmF0aW9uKTogc3RyaW5nO1xufVxuXG4vLyBUaGUgYm9keSBvZiBhIEdyYXBoUUwtb3Zlci1IVFRQLVBPU1QgcmVxdWVzdC5cbmV4cG9ydCBpbnRlcmZhY2UgQm9keSB7XG4gIHF1ZXJ5Pzogc3RyaW5nO1xuICBvcGVyYXRpb25OYW1lPzogc3RyaW5nO1xuICB2YXJpYWJsZXM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBleHRlbnNpb25zPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIdHRwT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgVVJJIHRvIHVzZSB3aGVuIGZldGNoaW5nIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvICcvZ3JhcGhxbCcuXG4gICAqL1xuICB1cmk/OiBzdHJpbmcgfCBVcmlGdW5jdGlvbjtcblxuICAvKipcbiAgICogUGFzc2VzIHRoZSBleHRlbnNpb25zIGZpZWxkIHRvIHlvdXIgZ3JhcGhxbCBzZXJ2ZXIuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKi9cbiAgaW5jbHVkZUV4dGVuc2lvbnM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBIGBmZXRjaGAtY29tcGF0aWJsZSBBUEkgdG8gdXNlIHdoZW4gbWFraW5nIHJlcXVlc3RzLlxuICAgKi9cbiAgZmV0Y2g/OiBXaW5kb3dPcldvcmtlckdsb2JhbFNjb3BlWydmZXRjaCddO1xuXG4gIC8qKlxuICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHZhbHVlcyB0byBiZSBzZW50IGFzIGhlYWRlcnMgb24gdGhlIHJlcXVlc3QuXG4gICAqL1xuICBoZWFkZXJzPzogYW55O1xuXG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgcG9saWN5IHlvdSB3YW50IHRvIHVzZSBmb3IgdGhlIGZldGNoIGNhbGwuXG4gICAqL1xuICBjcmVkZW50aWFscz86IHN0cmluZztcblxuICAvKipcbiAgICogQW55IG92ZXJyaWRlcyBvZiB0aGUgZmV0Y2ggb3B0aW9ucyBhcmd1bWVudCB0byBwYXNzIHRvIHRoZSBmZXRjaCBjYWxsLlxuICAgKi9cbiAgZmV0Y2hPcHRpb25zPzogYW55O1xufVxuXG5jb25zdCBkZWZhdWx0SHR0cE9wdGlvbnM6IEh0dHBRdWVyeU9wdGlvbnMgPSB7XG4gIGluY2x1ZGVRdWVyeTogdHJ1ZSxcbiAgaW5jbHVkZUV4dGVuc2lvbnM6IGZhbHNlLFxufTtcblxuY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB7XG4gIC8vIGhlYWRlcnMgYXJlIGNhc2UgaW5zZW5zaXRpdmUgKGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MjU5MDA0KVxuICBhY2NlcHQ6ICcqLyonLFxuICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIG1ldGhvZDogJ1BPU1QnLFxufTtcblxuZXhwb3J0IGNvbnN0IGZhbGxiYWNrSHR0cENvbmZpZyA9IHtcbiAgaHR0cDogZGVmYXVsdEh0dHBPcHRpb25zLFxuICBoZWFkZXJzOiBkZWZhdWx0SGVhZGVycyxcbiAgb3B0aW9uczogZGVmYXVsdE9wdGlvbnMsXG59O1xuXG5leHBvcnQgY29uc3QgdGhyb3dTZXJ2ZXJFcnJvciA9IChyZXNwb25zZSwgcmVzdWx0LCBtZXNzYWdlKSA9PiB7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpIGFzIFNlcnZlckVycm9yO1xuXG4gIGVycm9yLm5hbWUgPSAnU2VydmVyRXJyb3InO1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICBlcnJvci5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICBlcnJvci5yZXN1bHQgPSByZXN1bHQ7XG5cbiAgdGhyb3cgZXJyb3I7XG59O1xuXG4vL1RPRE86IHdoZW4gY29uZGl0aW9uYWwgdHlwZXMgY29tZSBpbiB0cyAyLjgsIG9wZXJhdGlvbnMgc2hvdWxkIGJlIGEgZ2VuZXJpYyB0eXBlIHRoYXQgZXh0ZW5kcyBPcGVyYXRpb24gfCBBcnJheTxPcGVyYXRpb24+XG5leHBvcnQgY29uc3QgcGFyc2VBbmRDaGVja0h0dHBSZXNwb25zZSA9IG9wZXJhdGlvbnMgPT4gKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICByZXR1cm4gKFxuICAgIHJlc3BvbnNlXG4gICAgICAudGV4dCgpXG4gICAgICAudGhlbihib2R5VGV4dCA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYm9keVRleHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZUVycm9yID0gZXJyIGFzIFNlcnZlclBhcnNlRXJyb3I7XG4gICAgICAgICAgcGFyc2VFcnJvci5uYW1lID0gJ1NlcnZlclBhcnNlRXJyb3InO1xuICAgICAgICAgIHBhcnNlRXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICBwYXJzZUVycm9yLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgICAgcGFyc2VFcnJvci5ib2R5VGV4dCA9IGJvZHlUZXh0O1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChwYXJzZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vVE9ETzogd2hlbiBjb25kaXRpb25hbCB0eXBlcyBjb21lIG91dCB0aGVuIHJlc3VsdCBzaG91bGQgYmUgVCBleHRlbmRzIEFycmF5ID8gQXJyYXk8RmV0Y2hSZXN1bHQ+IDogRmV0Y2hSZXN1bHRcbiAgICAgIC50aGVuKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgIC8vTmV0d29yayBlcnJvclxuICAgICAgICAgIHRocm93U2VydmVyRXJyb3IoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgIGBSZXNwb25zZSBub3Qgc3VjY2Vzc2Z1bDogUmVjZWl2ZWQgc3RhdHVzIGNvZGUgJHtyZXNwb25zZS5zdGF0dXN9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vVE9ETyBzaG91bGQgcmVhbGx5IGVycm9yIHBlciByZXNwb25zZSBpbiBhIEJhdGNoIGJhc2VkIG9uIHByb3BlcnRpZXNcbiAgICAgICAgLy8gICAgLSBjb3VsZCBiZSBkb25lIGluIGEgdmFsaWRhdGlvbiBsaW5rXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhQXJyYXkuaXNBcnJheShyZXN1bHQpICYmXG4gICAgICAgICAgIXJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmXG4gICAgICAgICAgIXJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgnZXJyb3JzJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy9EYXRhIGVycm9yXG4gICAgICAgICAgdGhyb3dTZXJ2ZXJFcnJvcihcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgYFNlcnZlciByZXNwb25zZSB3YXMgbWlzc2luZyBmb3IgcXVlcnkgJyR7XG4gICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob3BlcmF0aW9ucylcbiAgICAgICAgICAgICAgICA/IG9wZXJhdGlvbnMubWFwKG9wID0+IG9wLm9wZXJhdGlvbk5hbWUpXG4gICAgICAgICAgICAgICAgOiBvcGVyYXRpb25zLm9wZXJhdGlvbk5hbWVcbiAgICAgICAgICAgIH0nLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja0ZldGNoZXIgPSAoZmV0Y2hlcjogV2luZG93T3JXb3JrZXJHbG9iYWxTY29wZVsnZmV0Y2gnXSkgPT4ge1xuICBpZiAoIWZldGNoZXIgJiYgdHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJykge1xuICAgIGxldCBsaWJyYXJ5OiBzdHJpbmcgPSAndW5mZXRjaCc7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSBsaWJyYXJ5ID0gJ25vZGUtZmV0Y2gnO1xuICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihgXG5mZXRjaCBpcyBub3QgZm91bmQgZ2xvYmFsbHkgYW5kIG5vIGZldGNoZXIgcGFzc2VkLCB0byBmaXggcGFzcyBhIGZldGNoIGZvclxueW91ciBlbnZpcm9ubWVudCBsaWtlIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlLyR7bGlicmFyeX0uXG5cbkZvciBleGFtcGxlOlxuaW1wb3J0IGZldGNoIGZyb20gJyR7bGlicmFyeX0nO1xuaW1wb3J0IHsgY3JlYXRlSHR0cExpbmsgfSBmcm9tICdhcG9sbG8tbGluay1odHRwJztcblxuY29uc3QgbGluayA9IGNyZWF0ZUh0dHBMaW5rKHsgdXJpOiAnL2dyYXBocWwnLCBmZXRjaDogZmV0Y2ggfSk7YCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduYWxJZlN1cHBvcnRlZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICd1bmRlZmluZWQnKVxuICAgIHJldHVybiB7IGNvbnRyb2xsZXI6IGZhbHNlLCBzaWduYWw6IGZhbHNlIH07XG5cbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3Qgc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG4gIHJldHVybiB7IGNvbnRyb2xsZXIsIHNpZ25hbCB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdEh0dHBPcHRpb25zQW5kQm9keSA9IChcbiAgb3BlcmF0aW9uOiBPcGVyYXRpb24sXG4gIGZhbGxiYWNrQ29uZmlnOiBIdHRwQ29uZmlnLFxuICAuLi5jb25maWdzOiBBcnJheTxIdHRwQ29uZmlnPlxuKSA9PiB7XG4gIGxldCBvcHRpb25zOiBIdHRwQ29uZmlnICYgUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAuLi5mYWxsYmFja0NvbmZpZy5vcHRpb25zLFxuICAgIGhlYWRlcnM6IGZhbGxiYWNrQ29uZmlnLmhlYWRlcnMsXG4gICAgY3JlZGVudGlhbHM6IGZhbGxiYWNrQ29uZmlnLmNyZWRlbnRpYWxzLFxuICB9O1xuICBsZXQgaHR0cDogSHR0cFF1ZXJ5T3B0aW9ucyA9IGZhbGxiYWNrQ29uZmlnLmh0dHA7XG5cbiAgLypcbiAgICogdXNlIHRoZSByZXN0IG9mIHRoZSBjb25maWdzIHRvIHBvcHVsYXRlIHRoZSBvcHRpb25zXG4gICAqIGNvbmZpZ3MgbGF0ZXIgaW4gdGhlIGxpc3Qgd2lsbCBvdmVyd3JpdGUgZWFybGllciBmaWVsZHNcbiAgICovXG4gIGNvbmZpZ3MuZm9yRWFjaChjb25maWcgPT4ge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4uY29uZmlnLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgLi4uY29uZmlnLmhlYWRlcnMsXG4gICAgICB9LFxuICAgIH07XG4gICAgaWYgKGNvbmZpZy5jcmVkZW50aWFscykgb3B0aW9ucy5jcmVkZW50aWFscyA9IGNvbmZpZy5jcmVkZW50aWFscztcblxuICAgIGh0dHAgPSB7XG4gICAgICAuLi5odHRwLFxuICAgICAgLi4uY29uZmlnLmh0dHAsXG4gICAgfTtcbiAgfSk7XG5cbiAgLy9UaGUgYm9keSBkZXBlbmRzIG9uIHRoZSBodHRwIG9wdGlvbnNcbiAgY29uc3QgeyBvcGVyYXRpb25OYW1lLCBleHRlbnNpb25zLCB2YXJpYWJsZXMsIHF1ZXJ5IH0gPSBvcGVyYXRpb247XG4gIGNvbnN0IGJvZHk6IEJvZHkgPSB7IG9wZXJhdGlvbk5hbWUsIHZhcmlhYmxlcyB9O1xuXG4gIGlmIChodHRwLmluY2x1ZGVFeHRlbnNpb25zKSAoYm9keSBhcyBhbnkpLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuXG4gIC8vIG5vdCBzZW5kaW5nIHRoZSBxdWVyeSAoaS5lIHBlcnNpc3RlZCBxdWVyaWVzKVxuICBpZiAoaHR0cC5pbmNsdWRlUXVlcnkpIChib2R5IGFzIGFueSkucXVlcnkgPSBwcmludChxdWVyeSk7XG5cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zLFxuICAgIGJvZHksXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplRmV0Y2hQYXJhbWV0ZXIgPSAocCwgbGFiZWwpID0+IHtcbiAgbGV0IHNlcmlhbGl6ZWQ7XG4gIHRyeSB7XG4gICAgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KHApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc3QgcGFyc2VFcnJvciA9IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgIGBOZXR3b3JrIHJlcXVlc3QgZmFpbGVkLiAke2xhYmVsfSBpcyBub3Qgc2VyaWFsaXphYmxlOiAke2UubWVzc2FnZX1gLFxuICAgICkgYXMgQ2xpZW50UGFyc2VFcnJvcjtcbiAgICBwYXJzZUVycm9yLnBhcnNlRXJyb3IgPSBlO1xuICAgIHRocm93IHBhcnNlRXJyb3I7XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59O1xuXG4vL3NlbGVjdHMgXCIvZ3JhcGhxbFwiIGJ5IGRlZmF1bHRcbmV4cG9ydCBjb25zdCBzZWxlY3RVUkkgPSAoXG4gIG9wZXJhdGlvbixcbiAgZmFsbGJhY2tVUkk/OiBzdHJpbmcgfCAoKG9wZXJhdGlvbjogT3BlcmF0aW9uKSA9PiBzdHJpbmcpLFxuKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBvcGVyYXRpb24uZ2V0Q29udGV4dCgpO1xuICBjb25zdCBjb250ZXh0VVJJID0gY29udGV4dC51cmk7XG5cbiAgaWYgKGNvbnRleHRVUkkpIHtcbiAgICByZXR1cm4gY29udGV4dFVSSTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmFsbGJhY2tVUkkgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsbGJhY2tVUkkob3BlcmF0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKGZhbGxiYWNrVVJJIGFzIHN0cmluZykgfHwgJy9ncmFwaHFsJztcbiAgfVxufTtcbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG5cbmltcG9ydCB7IEFwb2xsb0xpbmssIE9ic2VydmFibGUsIFJlcXVlc3RIYW5kbGVyLCBmcm9tRXJyb3IgfSBmcm9tICdhcG9sbG8tbGluayc7XG5pbXBvcnQge1xuICBzZXJpYWxpemVGZXRjaFBhcmFtZXRlcixcbiAgc2VsZWN0VVJJLFxuICBwYXJzZUFuZENoZWNrSHR0cFJlc3BvbnNlLFxuICBjaGVja0ZldGNoZXIsXG4gIHNlbGVjdEh0dHBPcHRpb25zQW5kQm9keSxcbiAgY3JlYXRlU2lnbmFsSWZTdXBwb3J0ZWQsXG4gIGZhbGxiYWNrSHR0cENvbmZpZyxcbiAgQm9keSxcbiAgSHR0cE9wdGlvbnMsXG4gIFVyaUZ1bmN0aW9uIGFzIF9VcmlGdW5jdGlvbixcbn0gZnJvbSAnYXBvbGxvLWxpbmstaHR0cC1jb21tb24nO1xuaW1wb3J0IHsgRGVmaW5pdGlvbk5vZGUgfSBmcm9tICdncmFwaHFsJztcblxuZXhwb3J0IG5hbWVzcGFjZSBIdHRwTGluayB7XG4gIC8vVE9ETyBXb3VsZCBtdWNoIHJhdGhlciBiZSBhYmxlIHRvIGV4cG9ydCBkaXJlY3RseVxuICBleHBvcnQgaW50ZXJmYWNlIFVyaUZ1bmN0aW9uIGV4dGVuZHMgX1VyaUZ1bmN0aW9uIHt9XG4gIGV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyBleHRlbmRzIEh0dHBPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdXNlIHRoZSBIVFRQIEdFVCBtZXRob2QgZm9yIHF1ZXJ5IG9wZXJhdGlvbnMuIE11dGF0aW9uc1xuICAgICAqIHdpbGwgc3RpbGwgdXNlIHRoZSBtZXRob2Qgc3BlY2lmaWVkIGluIGZldGNoT3B0aW9ucy5tZXRob2QgKHdoaWNoIGRlZmF1bHRzXG4gICAgICogdG8gUE9TVCkuXG4gICAgICovXG4gICAgdXNlR0VURm9yUXVlcmllcz86IGJvb2xlYW47XG4gIH1cbn1cblxuLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuZXhwb3J0IGltcG9ydCBGZXRjaE9wdGlvbnMgPSBIdHRwTGluay5PcHRpb25zO1xuZXhwb3J0IGltcG9ydCBVcmlGdW5jdGlvbiA9IEh0dHBMaW5rLlVyaUZ1bmN0aW9uO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSHR0cExpbmsgPSAobGlua09wdGlvbnM6IEh0dHBMaW5rLk9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQge1xuICAgIHVyaSA9ICcvZ3JhcGhxbCcsXG4gICAgLy8gdXNlIGRlZmF1bHQgZ2xvYmFsIGZldGNoIGlmIG5vdGhpbmcgcGFzc2VkIGluXG4gICAgZmV0Y2g6IGZldGNoZXIsXG4gICAgaW5jbHVkZUV4dGVuc2lvbnMsXG4gICAgdXNlR0VURm9yUXVlcmllcyxcbiAgICAuLi5yZXF1ZXN0T3B0aW9uc1xuICB9ID0gbGlua09wdGlvbnM7XG5cbiAgLy8gZGV2IHdhcm5pbmdzIHRvIGVuc3VyZSBmZXRjaCBpcyBwcmVzZW50XG4gIGNoZWNrRmV0Y2hlcihmZXRjaGVyKTtcblxuICAvL2ZldGNoZXIgaXMgc2V0IGhlcmUgcmF0aGVyIHRoYW4gdGhlIGRlc3RydWN0dXJpbmcgdG8gZW5zdXJlIGZldGNoIGlzXG4gIC8vZGVjbGFyZWQgYmVmb3JlIHJlZmVyZW5jaW5nIGl0LiBSZWZlcmVuY2UgaW4gdGhlIGRlc3RydWN0dXJpbmcgd291bGQgY2F1c2VcbiAgLy9hIFJlZmVyZW5jZUVycm9yXG4gIGlmICghZmV0Y2hlcikge1xuICAgIGZldGNoZXIgPSBmZXRjaDtcbiAgfVxuXG4gIGNvbnN0IGxpbmtDb25maWcgPSB7XG4gICAgaHR0cDogeyBpbmNsdWRlRXh0ZW5zaW9ucyB9LFxuICAgIG9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLmZldGNoT3B0aW9ucyxcbiAgICBjcmVkZW50aWFsczogcmVxdWVzdE9wdGlvbnMuY3JlZGVudGlhbHMsXG4gICAgaGVhZGVyczogcmVxdWVzdE9wdGlvbnMuaGVhZGVycyxcbiAgfTtcblxuICByZXR1cm4gbmV3IEFwb2xsb0xpbmsob3BlcmF0aW9uID0+IHtcbiAgICBsZXQgY2hvc2VuVVJJID0gc2VsZWN0VVJJKG9wZXJhdGlvbiwgdXJpKTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBvcGVyYXRpb24uZ2V0Q29udGV4dCgpO1xuXG4gICAgLy8gYGFwb2xsb2dyYXBocWwtY2xpZW50LSpgIGhlYWRlcnMgYXJlIGF1dG9tYXRpY2FsbHkgc2V0IGlmIGFcbiAgICAvLyBgY2xpZW50QXdhcmVuZXNzYCBvYmplY3QgaXMgZm91bmQgaW4gdGhlIGNvbnRleHQuIFRoZXNlIGhlYWRlcnMgYXJlXG4gICAgLy8gc2V0IGZpcnN0LCBmb2xsb3dlZCBieSB0aGUgcmVzdCBvZiB0aGUgaGVhZGVycyBwdWxsZWQgZnJvbVxuICAgIC8vIGBjb250ZXh0LmhlYWRlcnNgLiBJZiBkZXNpcmVkLCBgYXBvbGxvZ3JhcGhxbC1jbGllbnQtKmAgaGVhZGVycyBzZXQgYnlcbiAgICAvLyB0aGUgYGNsaWVudEF3YXJlbmVzc2Agb2JqZWN0IGNhbiBiZSBvdmVycmlkZGVuIGJ5XG4gICAgLy8gYGFwb2xsb2dyYXBocWwtY2xpZW50LSpgIGhlYWRlcnMgc2V0IGluIGBjb250ZXh0LmhlYWRlcnNgLlxuICAgIGNvbnN0IGNsaWVudEF3YXJlbmVzc0hlYWRlcnMgPSB7fTtcbiAgICBpZiAoY29udGV4dC5jbGllbnRBd2FyZW5lc3MpIHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgdmVyc2lvbiB9ID0gY29udGV4dC5jbGllbnRBd2FyZW5lc3M7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBjbGllbnRBd2FyZW5lc3NIZWFkZXJzWydhcG9sbG9ncmFwaHFsLWNsaWVudC1uYW1lJ10gPSBuYW1lO1xuICAgICAgfVxuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAgY2xpZW50QXdhcmVuZXNzSGVhZGVyc1snYXBvbGxvZ3JhcGhxbC1jbGllbnQtdmVyc2lvbiddID0gdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0SGVhZGVycyA9IHsgLi4uY2xpZW50QXdhcmVuZXNzSGVhZGVycywgLi4uY29udGV4dC5oZWFkZXJzIH07XG5cbiAgICBjb25zdCBjb250ZXh0Q29uZmlnID0ge1xuICAgICAgaHR0cDogY29udGV4dC5odHRwLFxuICAgICAgb3B0aW9uczogY29udGV4dC5mZXRjaE9wdGlvbnMsXG4gICAgICBjcmVkZW50aWFsczogY29udGV4dC5jcmVkZW50aWFscyxcbiAgICAgIGhlYWRlcnM6IGNvbnRleHRIZWFkZXJzLFxuICAgIH07XG5cbiAgICAvL3VzZXMgZmFsbGJhY2ssIGxpbmssIGFuZCB0aGVuIGNvbnRleHQgdG8gYnVpbGQgb3B0aW9uc1xuICAgIGNvbnN0IHsgb3B0aW9ucywgYm9keSB9ID0gc2VsZWN0SHR0cE9wdGlvbnNBbmRCb2R5KFxuICAgICAgb3BlcmF0aW9uLFxuICAgICAgZmFsbGJhY2tIdHRwQ29uZmlnLFxuICAgICAgbGlua0NvbmZpZyxcbiAgICAgIGNvbnRleHRDb25maWcsXG4gICAgKTtcblxuICAgIGxldCBjb250cm9sbGVyO1xuICAgIGlmICghKG9wdGlvbnMgYXMgYW55KS5zaWduYWwpIHtcbiAgICAgIGNvbnN0IHsgY29udHJvbGxlcjogX2NvbnRyb2xsZXIsIHNpZ25hbCB9ID0gY3JlYXRlU2lnbmFsSWZTdXBwb3J0ZWQoKTtcbiAgICAgIGNvbnRyb2xsZXIgPSBfY29udHJvbGxlcjtcbiAgICAgIGlmIChjb250cm9sbGVyKSAob3B0aW9ucyBhcyBhbnkpLnNpZ25hbCA9IHNpZ25hbDtcbiAgICB9XG5cbiAgICAvLyBJZiByZXF1ZXN0ZWQsIHNldCBtZXRob2QgdG8gR0VUIGlmIHRoZXJlIGFyZSBubyBtdXRhdGlvbnMuXG4gICAgY29uc3QgZGVmaW5pdGlvbklzTXV0YXRpb24gPSAoZDogRGVmaW5pdGlvbk5vZGUpID0+IHtcbiAgICAgIHJldHVybiBkLmtpbmQgPT09ICdPcGVyYXRpb25EZWZpbml0aW9uJyAmJiBkLm9wZXJhdGlvbiA9PT0gJ211dGF0aW9uJztcbiAgICB9O1xuICAgIGlmIChcbiAgICAgIHVzZUdFVEZvclF1ZXJpZXMgJiZcbiAgICAgICFvcGVyYXRpb24ucXVlcnkuZGVmaW5pdGlvbnMuc29tZShkZWZpbml0aW9uSXNNdXRhdGlvbilcbiAgICApIHtcbiAgICAgIG9wdGlvbnMubWV0aG9kID0gJ0dFVCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgY29uc3QgeyBuZXdVUkksIHBhcnNlRXJyb3IgfSA9IHJld3JpdGVVUklGb3JHRVQoY2hvc2VuVVJJLCBib2R5KTtcbiAgICAgIGlmIChwYXJzZUVycm9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXJyb3IocGFyc2VFcnJvcik7XG4gICAgICB9XG4gICAgICBjaG9zZW5VUkkgPSBuZXdVUkk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIChvcHRpb25zIGFzIGFueSkuYm9keSA9IHNlcmlhbGl6ZUZldGNoUGFyYW1ldGVyKGJvZHksICdQYXlsb2FkJyk7XG4gICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXJyb3IocGFyc2VFcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgIGZldGNoZXIoY2hvc2VuVVJJLCBvcHRpb25zKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgb3BlcmF0aW9uLnNldENvbnRleHQoeyByZXNwb25zZSB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHBhcnNlQW5kQ2hlY2tIdHRwUmVzcG9uc2Uob3BlcmF0aW9uKSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGRhdGEgYW5kIGNhbiBzZW5kIGl0IHRvIGJhY2sgdXAgdGhlIGxpbmsgY2hhaW5cbiAgICAgICAgICBvYnNlcnZlci5uZXh0KHJlc3VsdCk7XG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAvLyBmZXRjaCB3YXMgY2FuY2VsbGVkIHNvIGl0J3MgYWxyZWFkeSBiZWVuIGNsZWFuZWQgdXAgaW4gdGhlIHVuc3Vic2NyaWJlXG4gICAgICAgICAgaWYgKGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHJldHVybjtcbiAgICAgICAgICAvLyBpZiBpdCBpcyBhIG5ldHdvcmsgZXJyb3IsIEJVVCB0aGVyZSBpcyBncmFwaHFsIHJlc3VsdCBpbmZvXG4gICAgICAgICAgLy8gZmlyZSB0aGUgbmV4dCBvYnNlcnZlciBiZWZvcmUgY2FsbGluZyBlcnJvclxuICAgICAgICAgIC8vIHRoaXMgZ2l2ZXMgYXBvbGxvLWNsaWVudCAoYW5kIHJlYWN0LWFwb2xsbykgdGhlIGBncmFwaHFsRXJyb3JzYCBhbmQgYG5ldHdvckVycm9yc2BcbiAgICAgICAgICAvLyB0byBwYXNzIHRvIFVJXG4gICAgICAgICAgLy8gdGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgd2UgKmFsc28qIGhhdmUgZGF0YSBhcyBwYXJ0IG9mIHRoZSByZXNwb25zZSBrZXkgcGVyXG4gICAgICAgICAgLy8gdGhlIHNwZWNcbiAgICAgICAgICBpZiAoZXJyLnJlc3VsdCAmJiBlcnIucmVzdWx0LmVycm9ycyAmJiBlcnIucmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGNhbGwgbmV4dCwgdGhlIFVJIGNhbiBvbmx5IHNob3cgbmV0d29ya0Vycm9yIGJlY2F1c2UgQUMgZGlkbid0XG4gICAgICAgICAgICAvLyBnZXQgYW55IGdyYXBocWxFcnJvcnNcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgZ3JhcGhxbCBleGVjdXRpb24gcmVzdWx0IGluZm8gKGkuZSBlcnJvcnMgYW5kIHBvc3NpYmx5IGRhdGEpXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gZm9ybWFsIHNwZWMgaG93IGVycm9ycyBzaG91bGQgdHJhbnNsYXRlIHRvXG4gICAgICAgICAgICAvLyBodHRwIHN0YXR1cyBjb2Rlcy4gU28gYW4gYXV0aCBlcnJvciAoNDAxKSBjb3VsZCBoYXZlIGJvdGggZGF0YVxuICAgICAgICAgICAgLy8gZnJvbSBhIHB1YmxpYyBmaWVsZCwgZXJyb3JzIGZyb20gYSBwcml2YXRlIGZpZWxkLCBhbmQgYSBzdGF0dXMgb2YgNDAxXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgdXNlciB7IC8vIHRoaXMgd2lsbCBoYXZlIGVycm9yc1xuICAgICAgICAgICAgLy8gICAgZmlyc3ROYW1lXG4gICAgICAgICAgICAvLyAgfVxuICAgICAgICAgICAgLy8gIHByb2R1Y3RzIHsgLy8gdGhpcyBpcyBwdWJsaWMgc28gd2lsbCBoYXZlIGRhdGFcbiAgICAgICAgICAgIC8vICAgIGNvc3RcbiAgICAgICAgICAgIC8vICB9XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIHJlc3VsdCBvZiBhYm92ZSAqY291bGQqIGxvb2sgbGlrZSB0aGlzOlxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICBkYXRhOiB7IHByb2R1Y3RzOiBbeyBjb3N0OiBcIiQxMFwiIH1dIH0sXG4gICAgICAgICAgICAvLyAgIGVycm9yczogW3tcbiAgICAgICAgICAgIC8vICAgICAgbWVzc2FnZTogJ3lvdXIgc2Vzc2lvbiBoYXMgdGltZWQgb3V0JyxcbiAgICAgICAgICAgIC8vICAgICAgcGF0aDogW11cbiAgICAgICAgICAgIC8vICAgfV1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIHN0YXR1cyBjb2RlIG9mIGFib3ZlIHdvdWxkIGJlIGEgNDAxXG4gICAgICAgICAgICAvLyBpbiB0aGUgVUkgeW91IHdhbnQgdG8gc2hvdyBkYXRhIHdoZXJlIHlvdSBjYW4sIGVycm9ycyBhcyBkYXRhIHdoZXJlIHlvdSBjYW5cbiAgICAgICAgICAgIC8vIGFuZCB1c2UgY29ycmVjdCBodHRwIHN0YXR1cyBjb2Rlc1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChlcnIucmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIC8vIFhYWCBzdXBwb3J0IGNhbmNlbGluZyB0aGlzIHJlcXVlc3RcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxNy8wOS9hYm9ydGFibGUtZmV0Y2hcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIpIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLy8gRm9yIEdFVCBvcGVyYXRpb25zLCByZXR1cm5zIHRoZSBnaXZlbiBVUkkgcmV3cml0dGVuIHdpdGggcGFyYW1ldGVycywgb3IgYVxuLy8gcGFyc2UgZXJyb3IuXG5mdW5jdGlvbiByZXdyaXRlVVJJRm9yR0VUKGNob3NlblVSSTogc3RyaW5nLCBib2R5OiBCb2R5KSB7XG4gIC8vIEltcGxlbWVudCB0aGUgc3RhbmRhcmQgSFRUUCBHRVQgc2VyaWFsaXphdGlvbiwgcGx1cyAnZXh0ZW5zaW9ucycuIE5vdGVcbiAgLy8gdGhlIGV4dHJhIGxldmVsIG9mIEpTT04gc2VyaWFsaXphdGlvbiFcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBbXTtcbiAgY29uc3QgYWRkUXVlcnlQYXJhbSA9IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHF1ZXJ5UGFyYW1zLnB1c2goYCR7a2V5fT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YCk7XG4gIH07XG5cbiAgaWYgKCdxdWVyeScgaW4gYm9keSkge1xuICAgIGFkZFF1ZXJ5UGFyYW0oJ3F1ZXJ5JywgYm9keS5xdWVyeSk7XG4gIH1cbiAgaWYgKGJvZHkub3BlcmF0aW9uTmFtZSkge1xuICAgIGFkZFF1ZXJ5UGFyYW0oJ29wZXJhdGlvbk5hbWUnLCBib2R5Lm9wZXJhdGlvbk5hbWUpO1xuICB9XG4gIGlmIChib2R5LnZhcmlhYmxlcykge1xuICAgIGxldCBzZXJpYWxpemVkVmFyaWFibGVzO1xuICAgIHRyeSB7XG4gICAgICBzZXJpYWxpemVkVmFyaWFibGVzID0gc2VyaWFsaXplRmV0Y2hQYXJhbWV0ZXIoXG4gICAgICAgIGJvZHkudmFyaWFibGVzLFxuICAgICAgICAnVmFyaWFibGVzIG1hcCcsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHBhcnNlRXJyb3IgfTtcbiAgICB9XG4gICAgYWRkUXVlcnlQYXJhbSgndmFyaWFibGVzJywgc2VyaWFsaXplZFZhcmlhYmxlcyk7XG4gIH1cbiAgaWYgKGJvZHkuZXh0ZW5zaW9ucykge1xuICAgIGxldCBzZXJpYWxpemVkRXh0ZW5zaW9ucztcbiAgICB0cnkge1xuICAgICAgc2VyaWFsaXplZEV4dGVuc2lvbnMgPSBzZXJpYWxpemVGZXRjaFBhcmFtZXRlcihcbiAgICAgICAgYm9keS5leHRlbnNpb25zLFxuICAgICAgICAnRXh0ZW5zaW9ucyBtYXAnLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICByZXR1cm4geyBwYXJzZUVycm9yIH07XG4gICAgfVxuICAgIGFkZFF1ZXJ5UGFyYW0oJ2V4dGVuc2lvbnMnLCBzZXJpYWxpemVkRXh0ZW5zaW9ucyk7XG4gIH1cblxuICAvLyBSZWNvbnN0cnVjdCB0aGUgVVJJIHdpdGggYWRkZWQgcXVlcnkgcGFyYW1zLlxuICAvLyBYWFggVGhpcyBhc3N1bWVzIHRoYXQgdGhlIFVSSSBpcyB3ZWxsLWZvcm1lZCBhbmQgdGhhdCBpdCBkb2Vzbid0XG4gIC8vICAgICBhbHJlYWR5IGNvbnRhaW4gYW55IG9mIHRoZXNlIHF1ZXJ5IHBhcmFtcy4gV2UgY291bGQgaW5zdGVhZCB1c2UgdGhlXG4gIC8vICAgICBVUkwgQVBJIGFuZCB0YWtlIGEgcG9seWZpbGwgKHdoYXR3Zy11cmxANikgZm9yIG9sZGVyIGJyb3dzZXJzIHRoYXRcbiAgLy8gICAgIGRvbid0IHN1cHBvcnQgVVJMU2VhcmNoUGFyYW1zLiBOb3RlIHRoYXQgc29tZSBicm93c2VycyAoYW5kXG4gIC8vICAgICB2ZXJzaW9ucyBvZiB3aGF0d2ctdXJsKSBzdXBwb3J0IFVSTCBidXQgbm90IFVSTFNlYXJjaFBhcmFtcyFcbiAgbGV0IGZyYWdtZW50ID0gJycsXG4gICAgcHJlRnJhZ21lbnQgPSBjaG9zZW5VUkk7XG4gIGNvbnN0IGZyYWdtZW50U3RhcnQgPSBjaG9zZW5VUkkuaW5kZXhPZignIycpO1xuICBpZiAoZnJhZ21lbnRTdGFydCAhPT0gLTEpIHtcbiAgICBmcmFnbWVudCA9IGNob3NlblVSSS5zdWJzdHIoZnJhZ21lbnRTdGFydCk7XG4gICAgcHJlRnJhZ21lbnQgPSBjaG9zZW5VUkkuc3Vic3RyKDAsIGZyYWdtZW50U3RhcnQpO1xuICB9XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zUHJlZml4ID0gcHJlRnJhZ21lbnQuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJztcbiAgY29uc3QgbmV3VVJJID1cbiAgICBwcmVGcmFnbWVudCArIHF1ZXJ5UGFyYW1zUHJlZml4ICsgcXVlcnlQYXJhbXMuam9pbignJicpICsgZnJhZ21lbnQ7XG4gIHJldHVybiB7IG5ld1VSSSB9O1xufVxuXG5leHBvcnQgY2xhc3MgSHR0cExpbmsgZXh0ZW5kcyBBcG9sbG9MaW5rIHtcbiAgcHVibGljIHJlcXVlc3RlcjogUmVxdWVzdEhhbmRsZXI7XG4gIGNvbnN0cnVjdG9yKG9wdHM/OiBIdHRwTGluay5PcHRpb25zKSB7XG4gICAgc3VwZXIoY3JlYXRlSHR0cExpbmsob3B0cykucmVxdWVzdCk7XG4gIH1cbn1cbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG5cbmltcG9ydCB7XG4gIEFwb2xsb0xpbmssXG4gIE9ic2VydmFibGUsXG4gIE9wZXJhdGlvbixcbiAgTmV4dExpbmssXG4gIEZldGNoUmVzdWx0LFxuICBFeGVjdXRpb25SZXN1bHQsXG59IGZyb20gJ2Fwb2xsby1saW5rJztcbmltcG9ydCB7IEdyYXBoUUxFcnJvciB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgU2VydmVyRXJyb3IsIFNlcnZlclBhcnNlRXJyb3IgfSBmcm9tICdhcG9sbG8tbGluay1odHRwLWNvbW1vbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JSZXNwb25zZSB7XG4gIGdyYXBoUUxFcnJvcnM/OiBSZWFkb25seUFycmF5PEdyYXBoUUxFcnJvcj47XG4gIG5ldHdvcmtFcnJvcj86IEVycm9yIHwgU2VydmVyRXJyb3IgfCBTZXJ2ZXJQYXJzZUVycm9yO1xuICByZXNwb25zZT86IEV4ZWN1dGlvblJlc3VsdDtcbiAgb3BlcmF0aW9uOiBPcGVyYXRpb247XG4gIGZvcndhcmQ6IE5leHRMaW5rO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEVycm9yTGluayB7XG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBiZSB0cmlnZ2VyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgd2l0aGluIHRoZSBsaW5rIHN0YWNrLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvckhhbmRsZXIge1xuICAgIChlcnJvcjogRXJyb3JSZXNwb25zZSk6IE9ic2VydmFibGU8RmV0Y2hSZXN1bHQ+IHwgdm9pZDtcbiAgfVxufVxuXG4vLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5leHBvcnQgaW1wb3J0IEVycm9ySGFuZGxlciA9IEVycm9yTGluay5FcnJvckhhbmRsZXI7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yKGVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyKTogQXBvbGxvTGluayB7XG4gIHJldHVybiBuZXcgQXBvbGxvTGluaygob3BlcmF0aW9uLCBmb3J3YXJkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgIGxldCBzdWI7XG4gICAgICBsZXQgcmV0cmllZFN1YjtcbiAgICAgIGxldCByZXRyaWVkUmVzdWx0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBzdWIgPSBmb3J3YXJkKG9wZXJhdGlvbikuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiByZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgcmV0cmllZFJlc3VsdCA9IGVycm9ySGFuZGxlcih7XG4gICAgICAgICAgICAgICAgZ3JhcGhRTEVycm9yczogcmVzdWx0LmVycm9ycyxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICBmb3J3YXJkLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAocmV0cmllZFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHJpZWRTdWIgPSByZXRyaWVkUmVzdWx0LnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IG9ic2VydmVyLmVycm9yLmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyLmNvbXBsZXRlLmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChyZXN1bHQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IG5ldHdvcmtFcnJvciA9PiB7XG4gICAgICAgICAgICByZXRyaWVkUmVzdWx0ID0gZXJyb3JIYW5kbGVyKHtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICBuZXR3b3JrRXJyb3IsXG4gICAgICAgICAgICAgIC8vTmV0d29yayBlcnJvcnMgY2FuIHJldHVybiBHcmFwaFFMIGVycm9ycyBvbiBmb3IgZXhhbXBsZSBhIDQwM1xuICAgICAgICAgICAgICBncmFwaFFMRXJyb3JzOlxuICAgICAgICAgICAgICAgIG5ldHdvcmtFcnJvciAmJlxuICAgICAgICAgICAgICAgIG5ldHdvcmtFcnJvci5yZXN1bHQgJiZcbiAgICAgICAgICAgICAgICBuZXR3b3JrRXJyb3IucmVzdWx0LmVycm9ycyxcbiAgICAgICAgICAgICAgZm9yd2FyZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJldHJpZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0cmllZFN1YiA9IHJldHJpZWRSZXN1bHQuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlci5lcnJvci5iaW5kKG9ic2VydmVyKSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXIuY29tcGxldGUuYmluZChvYnNlcnZlciksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihuZXR3b3JrRXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGRpc2FibGUgdGhlIHByZXZpb3VzIHN1YiBmcm9tIGNhbGxpbmcgY29tcGxldGUgb24gb2JzZXJ2YWJsZVxuICAgICAgICAgICAgLy8gaWYgcmV0cnkgaXMgaW4gZmxpZ2h0LlxuICAgICAgICAgICAgaWYgKCFyZXRyaWVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlLmJpbmQob2JzZXJ2ZXIpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9ySGFuZGxlcih7IG5ldHdvcmtFcnJvcjogZSwgb3BlcmF0aW9uLCBmb3J3YXJkIH0pO1xuICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHN1Yikgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGlmIChyZXRyaWVkU3ViKSBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JMaW5rIGV4dGVuZHMgQXBvbGxvTGluayB7XG4gIHByaXZhdGUgbGluazogQXBvbGxvTGluaztcbiAgY29uc3RydWN0b3IoZXJyb3JIYW5kbGVyOiBFcnJvckxpbmsuRXJyb3JIYW5kbGVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmxpbmsgPSBvbkVycm9yKGVycm9ySGFuZGxlcik7XG4gIH1cblxuICBwdWJsaWMgcmVxdWVzdChcbiAgICBvcGVyYXRpb246IE9wZXJhdGlvbixcbiAgICBmb3J3YXJkOiBOZXh0TGluayxcbiAgKTogT2JzZXJ2YWJsZTxGZXRjaFJlc3VsdD4gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5saW5rLnJlcXVlc3Qob3BlcmF0aW9uLCBmb3J3YXJkKTtcbiAgfVxufVxuIiwiLyogbmVjZXNzYXJ5IGZvciBiYWNrd2FyZCBjb21wYXQgKi9cbmV4cG9ydCAqIGZyb20gJ2Fwb2xsby1jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnYXBvbGxvLWxpbmsnO1xuZXhwb3J0ICogZnJvbSAnYXBvbGxvLWNhY2hlLWlubWVtb3J5JztcblxuaW1wb3J0IHsgT3BlcmF0aW9uLCBBcG9sbG9MaW5rLCBPYnNlcnZhYmxlIH0gZnJvbSAnYXBvbGxvLWxpbmsnO1xuaW1wb3J0IHsgSHR0cExpbmssIFVyaUZ1bmN0aW9uIH0gZnJvbSAnYXBvbGxvLWxpbmstaHR0cCc7XG5pbXBvcnQgeyBvbkVycm9yLCBFcnJvckxpbmsgfSBmcm9tICdhcG9sbG8tbGluay1lcnJvcic7XG5pbXBvcnQgeyBBcG9sbG9DYWNoZSB9IGZyb20gJ2Fwb2xsby1jYWNoZSc7XG5pbXBvcnQgeyBJbk1lbW9yeUNhY2hlLCBDYWNoZVJlc29sdmVyTWFwIH0gZnJvbSAnYXBvbGxvLWNhY2hlLWlubWVtb3J5JztcbmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnO1xuaW1wb3J0IEFwb2xsb0NsaWVudCwge1xuICBSZXNvbHZlcnMsXG4gIExvY2FsU3RhdGVGcmFnbWVudE1hdGNoZXIsXG59IGZyb20gJ2Fwb2xsby1jbGllbnQnO1xuaW1wb3J0IHsgRG9jdW1lbnROb2RlIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICd0cy1pbnZhcmlhbnQnO1xuXG5leHBvcnQgeyBncWwsIEh0dHBMaW5rIH07XG5cbnR5cGUgQ2xpZW50U3RhdGVDb25maWcgPSB7XG4gIGNhY2hlPzogQXBvbGxvQ2FjaGU8YW55PjtcbiAgZGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICByZXNvbHZlcnM/OiBSZXNvbHZlcnMgfCBSZXNvbHZlcnNbXTtcbiAgdHlwZURlZnM/OiBzdHJpbmcgfCBzdHJpbmdbXSB8IERvY3VtZW50Tm9kZSB8IERvY3VtZW50Tm9kZVtdO1xuICBmcmFnbWVudE1hdGNoZXI/OiBMb2NhbFN0YXRlRnJhZ21lbnRNYXRjaGVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBQcmVzZXRDb25maWcge1xuICByZXF1ZXN0PzogKG9wZXJhdGlvbjogT3BlcmF0aW9uKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcbiAgdXJpPzogc3RyaW5nIHwgVXJpRnVuY3Rpb247XG4gIGNyZWRlbnRpYWxzPzogc3RyaW5nO1xuICBoZWFkZXJzPzogYW55O1xuICBmZXRjaD86IFdpbmRvd09yV29ya2VyR2xvYmFsU2NvcGVbJ2ZldGNoJ107XG4gIGZldGNoT3B0aW9ucz86IEh0dHBMaW5rLk9wdGlvbnM7XG4gIGNsaWVudFN0YXRlPzogQ2xpZW50U3RhdGVDb25maWc7XG4gIG9uRXJyb3I/OiBFcnJvckxpbmsuRXJyb3JIYW5kbGVyO1xuICBjYWNoZVJlZGlyZWN0cz86IENhY2hlUmVzb2x2ZXJNYXA7XG4gIGNhY2hlPzogQXBvbGxvQ2FjaGU8YW55PjtcbiAgbmFtZT86IHN0cmluZztcbiAgdmVyc2lvbj86IHN0cmluZztcbiAgcmVzb2x2ZXJzPzogUmVzb2x2ZXJzIHwgUmVzb2x2ZXJzW107XG4gIHR5cGVEZWZzPzogc3RyaW5nIHwgc3RyaW5nW10gfCBEb2N1bWVudE5vZGUgfCBEb2N1bWVudE5vZGVbXTtcbiAgZnJhZ21lbnRNYXRjaGVyPzogTG9jYWxTdGF0ZUZyYWdtZW50TWF0Y2hlcjtcbiAgYXNzdW1lSW1tdXRhYmxlUmVzdWx0cz86IGJvb2xlYW47XG59XG5cbi8vIFllcywgdGhlc2UgYXJlIHRoZSBleGFjdCBzYW1lIGFzIHRoZSBgUHJlc2V0Q29uZmlnYCBpbnRlcmZhY2UuIFdlJ3JlXG4vLyBkZWZpbmluZyB0aGVzZSBhZ2FpbiBzbyB0aGV5IGNhbiBiZSB1c2VkIHRvIHZlcmlmeSB0aGF0IHZhbGlkIGNvbmZpZ1xuLy8gb3B0aW9ucyBhcmUgYmVpbmcgdXNlZCBpbiB0aGUgYERlZmF1bHRDbGllbnRgIGNvbnN0cnVjdG9yLCBmb3IgY2xpZW50c1xuLy8gdGhhdCBhcmVuJ3QgdXNpbmcgVHlwZXNjcmlwdC4gVGhpcyBkdXBsaWNhdGlvbiBpcyB1bmZvcnR1bmF0ZSwgYW5kIGF0XG4vLyBzb21lIHBvaW50IGNhbiBsaWtlbHkgYmUgYWRqdXN0ZWQgc28gdGhlc2UgaXRlbXMgYXJlIGluZmVycmVkIGZyb21cbi8vIHRoZSBgUHJlc2V0Q29uZmlnYCBpbnRlcmZhY2UgdXNpbmcgYSBUeXBlc2NyaXB0IHRyYW5zZm9ybSBhdCBjb21waWxhdGlvblxuLy8gdGltZS4gVW5mb3J0dW5hdGVseSwgVFMgdHJhbnNmb3JtcyB3aXRoIHJvbGx1cCBkb24ndCBhcHBlYXIgdG8gYmUgcXVpdGVcbi8vIHdvcmtpbmcgcHJvcGVybHksIHNvIHRoaXMgd2lsbCBoYXZlIHRvIGJlIHJlLXZpc2l0ZWQgYXQgc29tZSBwb2ludC5cbi8vIEZvciBub3csIHdoZW4gdXBkYXRpbmcgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGBQcmVzZXRDb25maWdgIGludGVyZmFjZSxcbi8vIHBsZWFzZSBhbHNvIHVwZGF0ZSB0aGlzIGNvbnN0YW50LlxuY29uc3QgUFJFU0VUX0NPTkZJR19LRVlTID0gW1xuICAncmVxdWVzdCcsXG4gICd1cmknLFxuICAnY3JlZGVudGlhbHMnLFxuICAnaGVhZGVycycsXG4gICdmZXRjaCcsXG4gICdmZXRjaE9wdGlvbnMnLFxuICAnY2xpZW50U3RhdGUnLFxuICAnb25FcnJvcicsXG4gICdjYWNoZVJlZGlyZWN0cycsXG4gICdjYWNoZScsXG4gICduYW1lJyxcbiAgJ3ZlcnNpb24nLFxuICAncmVzb2x2ZXJzJyxcbiAgJ3R5cGVEZWZzJyxcbiAgJ2ZyYWdtZW50TWF0Y2hlcicsXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0Q2xpZW50PFRDYWNoZT4gZXh0ZW5kcyBBcG9sbG9DbGllbnQ8VENhY2hlPiB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogUHJlc2V0Q29uZmlnID0ge30pIHtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICBjb25zdCBkaWZmID0gT2JqZWN0LmtleXMoY29uZmlnKS5maWx0ZXIoXG4gICAgICAgIGtleSA9PiBQUkVTRVRfQ09ORklHX0tFWVMuaW5kZXhPZihrZXkpID09PSAtMSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChkaWZmLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaW52YXJpYW50Lndhcm4oXG4gICAgICAgICAgJ0Fwb2xsb0Jvb3N0IHdhcyBpbml0aWFsaXplZCB3aXRoIHVuc3VwcG9ydGVkIG9wdGlvbnM6ICcgK1xuICAgICAgICAgICAgYCR7ZGlmZi5qb2luKCcgJyl9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICByZXF1ZXN0LFxuICAgICAgdXJpLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBoZWFkZXJzLFxuICAgICAgZmV0Y2gsXG4gICAgICBmZXRjaE9wdGlvbnMsXG4gICAgICBjbGllbnRTdGF0ZSxcbiAgICAgIGNhY2hlUmVkaXJlY3RzLFxuICAgICAgb25FcnJvcjogZXJyb3JDYWxsYmFjayxcbiAgICAgIG5hbWUsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgcmVzb2x2ZXJzLFxuICAgICAgdHlwZURlZnMsXG4gICAgICBmcmFnbWVudE1hdGNoZXIsXG4gICAgfSA9IGNvbmZpZztcblxuICAgIGxldCB7IGNhY2hlIH0gPSBjb25maWc7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhY2FjaGUgfHwgIWNhY2hlUmVkaXJlY3RzLFxuICAgICAgJ0luY29tcGF0aWJsZSBjYWNoZSBjb25maWd1cmF0aW9uLiBXaGVuIG5vdCBwcm92aWRpbmcgYGNhY2hlYCwgJyArXG4gICAgICAgICdjb25maWd1cmUgdGhlIHByb3ZpZGVkIGluc3RhbmNlIHdpdGggYGNhY2hlUmVkaXJlY3RzYCBpbnN0ZWFkLicsXG4gICAgKTtcblxuICAgIGlmICghY2FjaGUpIHtcbiAgICAgIGNhY2hlID0gY2FjaGVSZWRpcmVjdHNcbiAgICAgICAgPyBuZXcgSW5NZW1vcnlDYWNoZSh7IGNhY2hlUmVkaXJlY3RzIH0pXG4gICAgICAgIDogbmV3IEluTWVtb3J5Q2FjaGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvckxpbmsgPSBlcnJvckNhbGxiYWNrXG4gICAgICA/IG9uRXJyb3IoZXJyb3JDYWxsYmFjaylcbiAgICAgIDogb25FcnJvcigoeyBncmFwaFFMRXJyb3JzLCBuZXR3b3JrRXJyb3IgfSkgPT4ge1xuICAgICAgICAgIGlmIChncmFwaFFMRXJyb3JzKSB7XG4gICAgICAgICAgICBncmFwaFFMRXJyb3JzLmZvckVhY2goKHsgbWVzc2FnZSwgbG9jYXRpb25zLCBwYXRoIH0pID0+XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICBpbnZhcmlhbnQud2FybihcbiAgICAgICAgICAgICAgICBgW0dyYXBoUUwgZXJyb3JdOiBNZXNzYWdlOiAke21lc3NhZ2V9LCBMb2NhdGlvbjogYCArXG4gICAgICAgICAgICAgICAgICBgJHtsb2NhdGlvbnN9LCBQYXRoOiAke3BhdGh9YCxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgaW52YXJpYW50Lndhcm4oYFtOZXR3b3JrIGVycm9yXTogJHtuZXR3b3JrRXJyb3J9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHJlcXVlc3RIYW5kbGVyID0gcmVxdWVzdFxuICAgICAgPyBuZXcgQXBvbGxvTGluayhcbiAgICAgICAgICAob3BlcmF0aW9uLCBmb3J3YXJkKSA9PlxuICAgICAgICAgICAgbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgICAgICBsZXQgaGFuZGxlOiBhbnk7XG4gICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShvcGVyYXRpb24pXG4gICAgICAgICAgICAgICAgLnRoZW4ob3BlciA9PiByZXF1ZXN0KG9wZXIpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IGZvcndhcmQob3BlcmF0aW9uKS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXIuZXJyb3IuYmluZChvYnNlcnZlciksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBvYnNlcnZlci5jb21wbGV0ZS5iaW5kKG9ic2VydmVyKSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKG9ic2VydmVyLmVycm9yLmJpbmQob2JzZXJ2ZXIpKTtcblxuICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICA6IGZhbHNlO1xuXG4gICAgY29uc3QgaHR0cExpbmsgPSBuZXcgSHR0cExpbmsoe1xuICAgICAgdXJpOiB1cmkgfHwgJy9ncmFwaHFsJyxcbiAgICAgIGZldGNoLFxuICAgICAgZmV0Y2hPcHRpb25zOiBmZXRjaE9wdGlvbnMgfHwge30sXG4gICAgICBjcmVkZW50aWFsczogY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJyxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMgfHwge30sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsaW5rID0gQXBvbGxvTGluay5mcm9tKFtlcnJvckxpbmssIHJlcXVlc3RIYW5kbGVyLCBodHRwTGlua10uZmlsdGVyKFxuICAgICAgeCA9PiAhIXgsXG4gICAgKSBhcyBBcG9sbG9MaW5rW10pO1xuXG4gICAgbGV0IGFjdGl2ZVJlc29sdmVycyA9IHJlc29sdmVycztcbiAgICBsZXQgYWN0aXZlVHlwZURlZnMgPSB0eXBlRGVmcztcbiAgICBsZXQgYWN0aXZlRnJhZ21lbnRNYXRjaGVyID0gZnJhZ21lbnRNYXRjaGVyO1xuICAgIGlmIChjbGllbnRTdGF0ZSkge1xuICAgICAgaWYgKGNsaWVudFN0YXRlLmRlZmF1bHRzKSB7XG4gICAgICAgIGNhY2hlLndyaXRlRGF0YSh7XG4gICAgICAgICAgZGF0YTogY2xpZW50U3RhdGUuZGVmYXVsdHMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYWN0aXZlUmVzb2x2ZXJzID0gY2xpZW50U3RhdGUucmVzb2x2ZXJzO1xuICAgICAgYWN0aXZlVHlwZURlZnMgPSBjbGllbnRTdGF0ZS50eXBlRGVmcztcbiAgICAgIGFjdGl2ZUZyYWdtZW50TWF0Y2hlciA9IGNsaWVudFN0YXRlLmZyYWdtZW50TWF0Y2hlcjtcbiAgICB9XG5cbiAgICAvLyBzdXBlciBoYWNreSwgd2Ugd2lsbCBmaXggdGhlIHR5cGVzIGV2ZW50dWFsbHlcbiAgICBzdXBlcih7XG4gICAgICBjYWNoZSxcbiAgICAgIGxpbmssXG4gICAgICBuYW1lLFxuICAgICAgdmVyc2lvbixcbiAgICAgIHJlc29sdmVyczogYWN0aXZlUmVzb2x2ZXJzLFxuICAgICAgdHlwZURlZnM6IGFjdGl2ZVR5cGVEZWZzLFxuICAgICAgZnJhZ21lbnRNYXRjaGVyOiBhY3RpdmVGcmFnbWVudE1hdGNoZXIsXG4gICAgfSBhcyBhbnkpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9